{"version":3,"file":"bundle.js","names":["__webpack_modules__","__unused_webpack_module","__webpack_exports__","__webpack_require__","r","e","t","n","Map","has","indexOf","get","set","o","push","delete","splice","Event","bubbles","document","createEvent","initEvent","destroy","i","update","l","window","getComputedStyle","Array","prototype","forEach","call","length","nodeName","a","clientWidth","p","d","removeEventListener","Object","keys","style","bind","height","resize","overflowY","overflowX","wordWrap","addEventListener","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","s","width","u","scrollHeight","parentNode","Element","scrollTop","scrollBehavior","Math","round","offsetHeight","dispatchEvent","contactsFormCheck","form","submit","formNameValue","querySelector","value","formEmailValue","formTextareaValue","noEmptyValues","emailFormat","test","removeAttribute","setAttribute","askForm","formInputs","querySelectorAll","formTextarea","formButton","input","inventoryCards","selectAllButton","deselectButton","card","checked","productCards","cardButton","classList","contains","remove","textContent","add","faq","item","faqHead","faqTrigger","passInput","passToggle","type","_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__","imask__WEBPACK_IMPORTED_MODULE_1__","nouislider__WEBPACK_IMPORTED_MODULE_2__","nouislider__WEBPACK_IMPORTED_MODULE_2___default","_js_common_wNumb_js__WEBPACK_IMPORTED_MODULE_3__","_js_common_wNumb_js__WEBPACK_IMPORTED_MODULE_3___default","filterTrigger","filterInner","toggle","rangeSliders","rangeMax","rangeSliderOptions","start","connect","range","min","max","format","decimals","thousand","numberMask","mask","Number","thousandsSeparator","rangeSliderInstant","fromField","toField","slider","create","rangeMin","fromFieldMask","toFieldMask","noUiSlider","on","values","handle","updateValue","this","event","keyCode","preventDefault","makeSliderLink","passwordCheck","first","second","firstValue","secondValue","message","registrationForm","loginForm","forgetForm","formPassword","formPasswordRepeat","formPasswordValue","formPasswordRepeatValue","isSamePass","checkbox","loginInputs","loginButton","forgetEmail","_formButton","forgetEmailValue","hostHero","element","alert","_js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","isArray","minLen","_arrayLikeToArray","toString","slice","constructor","name","from","_unsupportedIterableToArray","F","done","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","inputs","_step","_iterator","phoneFields","field","numbers","number","sub","inputMin","inputMax","counter","setCounter","getAttribute","count","panelTriggers","panelCloseButtons","panelDarker","trigger","pageState","body","triggerTarget","concat","dataset","state","documentElement","button","sumCalc","sum","total","percent","totalFieldValue","replace","toFixed","totalCalc","sumFieldValue","setPercentAmount","methods","_step3","_iterator3","method","resetPopularButtons","buttons","_step4","_iterator4","paymentFormCheck","fieldValue","submitButton","payment","percentAmount","sumField","totalField","popularSums","maskOptions","scale","padFractionalZeros","sumMask","totalMask","_step2","_iterator2","_loop","popularSum","popularSumAmount","amount","profileForm","autosize__WEBPACK_IMPORTED_MODULE_1__","textareas","textarea","_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__","simplebar__WEBPACK_IMPORTED_MODULE_1__","el","autoHide","module","exports","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","obj","undefined","FormatOptions","strReverse","split","reverse","join","strStartsWith","match","substring","strEndsWith","throwEqualError","b","Error","isValidNumber","isFinite","exp","formatTo","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo","inputIsNegative","inputPieces","inputBase","originalInput","inputDecimals","output","abs","formatFrom","validate","inputOptions","optionName","optionValue","filteredOptions","passAll","options","args","apply","wNumb","to","fn","attachEvent","readyState","canUseDOM","createElement","default","HTMLContenteditableMaskElement","_html_mask_element_js__WEBPACK_IMPORTED_MODULE_0__","_core_holder_js__WEBPACK_IMPORTED_MODULE_1__","_unsafeSelectionStart","root","rootElement","selection","getSelection","anchorOffset","focusOffset","_unsafeSelectionEnd","_unsafeSelect","end","createRange","setStart","firstChild","setEnd","lastChild","removeAllRanges","addRange","HTMLInputMaskElement","super","_handlers","selectionStart","selectionEnd","setSelectionRange","HTMLMaskElement","_mask_element_js__WEBPACK_IMPORTED_MODULE_0__","_this$input$getRootNo","_this$input$getRootNo2","_this$input","getRootNode","isActive","activeElement","bindEvents","handlers","_toggleEventHandler","EVENTS_MAP","unbindEvents","handler","selectionChange","drop","click","focus","commit","InputMask","_core_utils_js__WEBPACK_IMPORTED_MODULE_0__","_core_action_details_js__WEBPACK_IMPORTED_MODULE_1__","_masked_factory_js__WEBPACK_IMPORTED_MODULE_2__","_mask_element_js__WEBPACK_IMPORTED_MODULE_3__","_html_input_mask_element_js__WEBPACK_IMPORTED_MODULE_4__","_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_5__","_core_holder_js__WEBPACK_IMPORTED_MODULE_6__","opts","isContentEditable","tagName","masked","_listeners","_value","_unmaskedValue","_saveSelection","_onInput","_onChange","_onDrop","_onFocus","_onClick","alignCursor","alignCursorFriendly","_bindEvents","maskEquals","_this$masked","Masked","maskedClass","updateOptions","unmaskedValue","str","updateControl","typedValue","val","typedValueEquals","displayValue","_unbindEvents","_fireEvent","ev","listeners","_cursorChanging","_changingCursorPos","cursorPos","pos","select","console","warn","_selection","newUnmaskedValue","newValue","newDisplayValue","isChanged","_fireChangeEvents","restOpts","updateMask","updateOpts","objectIncludes","updateCursor","_delayUpdateCursor","_abortUpdateCursor","setTimeout","_inputEvent","isComplete","clearTimeout","nearestInputPos","DIRECTION","LEFT","off","hIndex","details","oldValue","oldSelection","oldRawValue","rawInputValue","offset","startChangePos","removed","inserted","removeDirection","raw","NONE","doCommit","stopPropagation","MaskElement","_core_holder_js__WEBPACK_IMPORTED_MODULE_0__","ActionDetails","_utils_js__WEBPACK_IMPORTED_MODULE_0__","assign","insertedCount","substr","removedCount","head","tail","RIGHT","ChangeDetails","_holder_js__WEBPACK_IMPORTED_MODULE_0__","static","prep","rawInserted","skip","tailShift","aggregate","ContinuousTailDetails","stop","extend","String","appendTo","append","_appendPlaceholder","unshift","beforePos","shiftChar","shift","IMask","isString","isObject","_obj$constructor","pick","_","k","includes","entries","reduce","acc","_ref","v","escapeRegExp","forceDirection","FORCE_LEFT","FORCE_RIGHT","direction","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","hasOwnProperty","_core_change_details_js__WEBPACK_IMPORTED_MODULE_6__","ChunksTailDetails","_masked_pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_16__","_core_utils_js__WEBPACK_IMPORTED_MODULE_7__","_controls_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_2__","_controls_html_input_mask_element_js__WEBPACK_IMPORTED_MODULE_3__","_controls_html_mask_element_js__WEBPACK_IMPORTED_MODULE_4__","_controls_input_js__WEBPACK_IMPORTED_MODULE_0__","_controls_mask_element_js__WEBPACK_IMPORTED_MODULE_5__","_masked_base_js__WEBPACK_IMPORTED_MODULE_8__","MaskedDate","_masked_date_js__WEBPACK_IMPORTED_MODULE_9__","MaskedDynamic","_masked_dynamic_js__WEBPACK_IMPORTED_MODULE_10__","MaskedEnum","_masked_enum_js__WEBPACK_IMPORTED_MODULE_11__","MaskedFunction","_masked_function_js__WEBPACK_IMPORTED_MODULE_13__","MaskedNumber","_masked_number_js__WEBPACK_IMPORTED_MODULE_14__","MaskedPattern","_masked_pattern_js__WEBPACK_IMPORTED_MODULE_15__","MaskedRange","_masked_range_js__WEBPACK_IMPORTED_MODULE_20__","MaskedRegExp","_masked_regexp_js__WEBPACK_IMPORTED_MODULE_21__","PIPE_TYPE","_masked_pipe_js__WEBPACK_IMPORTED_MODULE_19__","PatternFixedDefinition","_masked_pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_17__","PatternInputDefinition","_masked_pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_18__","createMask","_masked_factory_js__WEBPACK_IMPORTED_MODULE_12__","createPipe","normalizeOpts","pipe","globalThis","_core_change_details_js__WEBPACK_IMPORTED_MODULE_0__","_core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_1__","_core_utils_js__WEBPACK_IMPORTED_MODULE_2__","_core_holder_js__WEBPACK_IMPORTED_MODULE_3__","_update","DEFAULTS","_initialized","withValueRefresh","_rawInputValue","reset","resolve","flags","parse","extractInput","isFilled","totalInputPositions","fromPos","toPos","extractTail","appendTail","_appendCharRaw","ch","_appendChar","checkTail","consistentState","doPrepareChar","consistentTail","appended","doValidate","beforeTailState","overwrite","tailDetails","_appendEager","_beforeTailState","doPrepare","ci","doSkipInvalid","eager","_refreshing","rawInput","ret","runIsolated","_isolated","Boolean","skipInvalid","normalize","prepare","prepareChar","parent","deleteCount","tailPos","eagerRemove","valLength","tval","EMPTY_VALUES","_pattern_js__WEBPACK_IMPORTED_MODULE_0__","_range_js__WEBPACK_IMPORTED_MODULE_1__","_core_holder_js__WEBPACK_IMPORTED_MODULE_2__","_core_utils_js__WEBPACK_IMPORTED_MODULE_3__","pattern","patternOpts","blocks","patternBlocks","GET_DEFAULT_BLOCKS","Y","getFullYear","m","getMonth","getDate","bk","autofix","date","isDateExist","maxLength","padStart","day","month","year","map","_core_change_details_js__WEBPACK_IMPORTED_MODULE_1__","_factory_js__WEBPACK_IMPORTED_MODULE_2__","_base_js__WEBPACK_IMPORTED_MODULE_3__","_core_holder_js__WEBPACK_IMPORTED_MODULE_4__","currentMask","compiledMasks","_overwrite","_eager","_skipInvalid","_applyDispatch","currentMaskFlags","prevValueBeforeTail","inputValue","insertValue","tailValue","prevMask","prevMaskState","doDispatch","_flags$_beforeTailSta","_flags$_beforeTailSta2","currentMaskRef","dispatch","currentDetails","_this$currentMask","_this$currentMask2","_this$currentMask3","_this$currentMask4","maskedState","mi","every","oldMask","_this$currentMask5","index","isCurrent","startInputPos","weight","sort","i1","i2","enum","_enum","eopts","repeat","some","Function","instanceOpts","_mask","startsWith","nOpts","MaskedClass","_base_js__WEBPACK_IMPORTED_MODULE_0__","_base_js__WEBPACK_IMPORTED_MODULE_2__","_updateRegExps","allowNegative","radix","_numberRegExp","_mapToRadixRegExp","mapToRadix","_thousandsSeparatorRegExp","_removeThousandsSeparators","_insertThousandsSeparators","parts","prepCh","allowPositive","_separatorsCount","extendOnSeparators","_separatorsCountFromSlice","_adjustRangeWithSeparators","prevBeforeTailValue","prevBeforeTailSeparatorsCount","appendDetails","beforeTailValue","beforeTailSeparatorsCount","_findSeparatorAround","searchFrom","separatorPos","separatorAroundFromPos","separatorAroundToPos","valueBeforePos","valueAfterPos","separatorAtLeftPos","separatorAtLeftEndPos","separatorAtRightPos","valid","validnum","formatted","normalizeZeros","_normalizeZeros","_padFractionalZeros","sign","zeros","num","padEnd","dropFractional","UNMASKED_RADIX","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","toLocaleString","useGrouping","maximumFractionDigits","_factory_js__WEBPACK_IMPORTED_MODULE_4__","_pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_5__","_pattern_cursor_js__WEBPACK_IMPORTED_MODULE_6__","_pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_7__","_pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_8__","definitions","DEFAULT_DEFINITIONS","_rebuildMask","defs","_blocks","_stops","_maskedBlocks","unmaskingBlock","optionalBlock","bNames","filter","bName","maskedBlock","lazy","placeholderChar","displayChar","char","isInput","STOP_CHAR","ESCAPE_CHAR","def","isOptional","isUnmasking","bi","isFixed","_this$_mapPosToBlock","startBlockIndex","_mapPosToBlock","blockIter","block","blockDetails","chunkTail","_forEachBlocksInRange","bFromPos","bToPos","blockChunk","_findStopBefore","_blockStartPos","blockIndex","stopBefore","si","toBlockIndex","startBlockIter","endBlockIndex","_blocks2","bDetails","accVal","blockStartPos","fromBlockIter","toBlockIter","isSameBlock","fromBlockStartPos","fromBlockEndPos","removeDetails","cursor","pushRightBeforeInput","popState","pushLeftBeforeInput","pushRightBeforeFilled","ok","pushLeftBeforeRequired","pushLeftBeforeFilled","pushRightBeforeRequired","maskedBlocks","indices","gi","InputDefinition","FixedDefinition","_core_utils_js__WEBPACK_IMPORTED_MODULE_1__","_core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__","chunks","tailChunk","lastChunk","extendLast","firstTailChunk","chunk","lastBlockIter","chunkBlock","phDetails","remainChars","c","props","cstate","chunkShiftPos","PatternCursor","_log","pushState","pop","bindBlock","_pushLeft","_this$block","_pushRight","_isRawInput","maxPos","appendEager","isResolved","_factory_js__WEBPACK_IMPORTED_MODULE_0__","maskOpts","boundPos","MASKED","UNMASKED","TYPED","arg","_pattern_js__WEBPACK_IMPORTED_MODULE_1__","_matchFrom","fromStr","toStr","sameCharsCount","boundaries","minstr","maxstr","placeholder","nextVal","search","isValidFormatter","entry","isValidPartialFormatter","removeElement","parentElement","removeChild","isSet","unique","array","closest","elem","orientation","rect","getBoundingClientRect","doc","ownerDocument","docElem","pageOffset","getPageOffset","navigator","userAgent","x","top","y","clientTop","left","clientLeft","isNumeric","addClassFor","className","duration","addClass","removeClass","limit","asArray","countDecimals","numStr","pieces","hasClass","supportPageOffset","pageXOffset","isCSS1Compat","compatMode","scrollLeft","pageYOffset","getActions","pointerEnabled","move","msPointerEnabled","getSupportsPassive","supportsPassive","defineProperty","getSupportsTouchActionNone","CSS","supports","subRangeRatio","pa","pb","fromPercentage","startRange","toPercentage","isPercentage","getJ","j","toStepping","xVal","xPct","va","vb","fromStepping","getStep","xSteps","snap","PipsType","PipsMode","Spectrum","singleStep","xNumSteps","xHighestCompleteStep","ordered","handleEntryPoint","handleStepPoint","getDistance","distances","getAbsoluteDistance","start_factor","xPct_index","rest_factor","rest_rel_distance","range_pct","rel_range_distance","abs_distance_counter","range_counter","getDefaultStep","isDown","size","getNearbySteps","stepBefore","startValue","highestStep","thisStep","stepAfter","countStepDecimals","stepDecimals","hasNoSize","convert","percentage","value1","totalSteps","ceil","defaultFormatter","cssClasses","target","base","origin","handleLower","handleUpper","touchArea","horizontal","vertical","background","connects","ltr","rtl","textDirectionLtr","textDirectionRtl","draggable","drag","tap","active","tooltip","pips","pipsHorizontal","pipsVertical","marker","markerHorizontal","markerVertical","markerNormal","markerLarge","markerSub","valueHorizontal","valueVertical","valueNormal","valueLarge","valueSub","INTERNAL_EVENT_NS","tooltips","aria","testStep","parsed","testKeyboardPageMultiplier","keyboardPageMultiplier","testKeyboardMultiplier","keyboardMultiplier","testKeyboardDefaultStep","keyboardDefaultStep","testRange","spectrum","testStart","handles","testSnap","testAnimate","animate","testAnimationDuration","animationDuration","testConnect","testOrientation","ort","testMargin","margin","testLimit","testPadding","padding","totalPadding","testDirection","dir","testBehaviour","fixed","hover","unconstrained","dragAll","smoothSteps","events","testTooltips","formatter","testHandleAttributes","handleAttributes","testAriaFormat","ariaFormat","testFormat","testKeyboardSupport","keyboardSupport","testDocumentElement","testCssPrefix","cssPrefix","testCssClasses","key","testOptions","tests","behaviour","defaults","msPrefix","msTransform","noPrefix","transform","transformRule","styles","scope","originalOptions","scope_Base","scope_Handles","scope_Connects","scope_Pips","scope_Tooltips","actions","scope_Target","scope_Spectrum","scope_Values","scope_Locations","scope_HandleNumbers","scope_ActiveHandlesCount","scope_Events","scope_Document","scope_DocumentElement","scope_Body","scope_DirOffset","addNodeTo","addTarget","div","appendChild","addOrigin","handleNumber","eventKeydown","attributes_1","attribute","addConnect","addElements","connectOptions","connectBase","addSlider","addTooltip","isSliderDisabled","hasAttribute","isHandleDisabled","disable","enable","removeTooltips","removeEvent","bindEvent","unencoded","formattedValue","innerHTML","positions","checkHandlePosition","now","text","children","getGroup","mode","Range","Steps","Count","interval","spread","mapToRange","stepped","Positions","Values","generateSpread","safeIncrement","increment","group","indexes","firstInRange","lastInRange","ignoreFirst","ignoreLast","prevPct","current","q","newPct","pctDifference","pctPos","steps","realSteps","stepSize","low","high","isSteps","density","LargeValue","SmallValue","NoValue","addMarking","filterFunc","_a","_b","valueSizeClasses","None","markerSizeClasses","valueOrientationClasses","markerOrientationClasses","getClasses","source","sizeClasses","addSpread","node","removePips","baseSize","alt","callback","data","fixEvent","doNotReject","calcPoint","points","eventName","passive","eventTarget","touch","mouse","pointer","touches","isTouchOnTarget","checkTouch","composed","composedPath","targetTouches","pageX","pageY","targetTouch","find","changedTouches","clientX","clientY","calcPointToPercentage","proposal","getClosestHandle","clickedPosition","smallestDifference","handlePosition","differenceWithThisHandle","documentLeave","relatedTarget","eventEnd","eventMove","appVersion","buttonsProperty","movement","startCalcPoint","moveHandles","locations","handleNumbers","setZindex","setHandle","fireEvent","eventStart","moveEvent","endEvent","outEvent","eventTap","eventHover","targetEvent","scope_Self","horizontalKeys","verticalKeys","largeStepKeys","edgeKeys","isLargeDown","isLargeUp","isUp","isMin","isMax","getNextStepsForHandle","bindSliderEvents","handleBefore","handleAfter","eventHolders","handlesToDrag","handleNumbersToDrag","eventHolder","namespacedEvent","isInternalNamespace","namespace","tEvent","tNamespace","eventType","reference","lookBackward","lookForward","getValue","distance","inRuleOrder","upward","proposals","firstHandle","transformDirection","updateHandlePosition","translateRule","updateConnect","zIndex","exactInput","h","connectWidth","scaleRule","resolveToValue","valueSet","fireSetEvent","isInit","space_1","valueReset","valueSetHandle","valueGet","location","nearbySteps","decrement","getNextSteps","optionsToUpdate","updateAble","newOptions","setupSlider","__moveHandles","getPositions","getTooltips","getOrigins","initialize","api","nouislider","__spectrum","factory","__unused_webpack___webpack_module__","_Symbol_js__WEBPACK_IMPORTED_MODULE_0__","_getRawTag_js__WEBPACK_IMPORTED_MODULE_1__","_objectToString_js__WEBPACK_IMPORTED_MODULE_2__","symToStringTag","toStringTag","_trimmedEndIndex_js__WEBPACK_IMPORTED_MODULE_0__","reTrimStart","string","freeGlobal","global","objectProto","nativeObjectToString","isOwn","tag","unmasked","result","_freeGlobal_js__WEBPACK_IMPORTED_MODULE_0__","freeSelf","self","reWhitespace","charAt","_isObject_js__WEBPACK_IMPORTED_MODULE_1__","_now_js__WEBPACK_IMPORTED_MODULE_2__","_toNumber_js__WEBPACK_IMPORTED_MODULE_0__","nativeMax","nativeMin","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","leadingEdge","cancel","flush","_baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__","_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__","_root_js__WEBPACK_IMPORTED_MODULE_0__","_debounce_js__WEBPACK_IMPORTED_MODULE_1__","_isObject_js__WEBPACK_IMPORTED_MODULE_0__","_baseTrim_js__WEBPACK_IMPORTED_MODULE_2__","_isSymbol_js__WEBPACK_IMPORTED_MODULE_0__","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary","SimpleBarCore","lodash_es__WEBPACK_IMPORTED_MODULE_1__","lodash_es__WEBPACK_IMPORTED_MODULE_2__","can_use_dom__WEBPACK_IMPORTED_MODULE_0__","__assign","cachedScrollbarWidth","cachedDevicePixelRatio","scrollbarWidth","box","right","getElementWindow$1","defaultView","getElementDocument$1","devicePixelRatio","getOptions$1","option","chr","toUpperCase","addClasses$1","classes","removeClasses$1","classNamesToQuery$1","classNames","helpers","freeze","__proto__","getElementWindow","getElementDocument","getOptions","addClasses","removeClasses","classNamesToQuery","_this","removePreventClickId","minScrollbarWidth","stopScrollDelay","isScrolling","isMouseEntering","scrollXTicking","scrollYTicking","wrapperEl","contentWrapperEl","contentEl","offsetEl","maskEl","placeholderEl","heightAutoObserverWrapperEl","heightAutoObserverEl","rtlHelpers","resizeObserver","mutationObserver","elStyles","isRtl","mouseX","mouseY","onMouseMove","onWindowResize","onStopScrolling","onMouseEntered","onScroll","elWindow","requestAnimationFrame","scrollX","scrollY","scrolling","showScrollbar","axis","isOverflowing","positionScrollbar","_onStopScrolling","hideScrollbar","onMouseEnter","mouseEntered","_onMouseEntered","_onMouseMove","forceVisible","onMouseMoveForAxis","onMouseLeave","onMouseLeaveForAxis","_onWindowResize","getScrollbarWidth","hideNativeScrollbar","onPointerEvent","isWithinTrackXBounds","isWithinTrackYBounds","track","scrollbar","isWithinBounds","pointerType","onDragStart","onTrackClick","_c","_d","_f","_g","_h","_j","_k","_l","draggedAxis","trackSize","sizeAttr","contentSize","scrollSizeAttr","hostSize","dragPos","offsetAttr","dragOffset","scrollPos","getRtlHelpers","isScrollingToNegative","scrollOffsetAttr","onEndDrag","elDocument","dragging","preventClick","defaultOptions","offsetSizeAttr","overflowAttr","isVisible","init","dummyDiv","scrollbarDummyEl","firstElementChild","dummyChild","dummyContainerOffset","getOffset","dummyChildOffset","dummyChildOffsetAfterScroll","isScrollOriginAtZero","display","initDOM","recalculate","initListeners","wrapper","scrollableNode","contentWrapper","contentNode","findChild","visible","ResizeObserver","resizeObserverStarted_1","observe","MutationObserver","childList","subtree","characterData","contentElOffsetWidth","offsetWidth","isHeightAuto","isWidthAuto","contentWrapperElOffsetWidth","elOverflowX","elOverflowY","paddingRight","paddingLeft","contentElScrollHeight","contentElScrollWidth","scrollWidth","contentWrapperElOffsetHeight","offsetForXScrollbar","offsetForYScrollbar","getScrollbarSize","toggleTrackVisibility","scrollbarSize","scrollbarRatio","scrollbarMinSize","scrollbarMaxSize","scrollOffset","scrollPourcent","handleOffset","visibility","scrollable","bottom","currentAxis","eventOffset","clickOnTrack","scrollbarOffset","scrolled","scrollSize","scrollTo","getContentElement","getScrollElement","removeListeners","disconnect","unMount","bbox","query","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","child","ariaLabel","SimpleBar","simplebar_core__WEBPACK_IMPORTED_MODULE_1__","extendStatics","setPrototypeOf","_super","_i","instances","__","__extends","initDOMLoadedElements","attributes","removeObserver","globalObserver","cloneNode","initHtmlApi","handleMutations","doScroll","mutations","mutation","addedNodes","addedNode","nodeType","removedNodes","removedNode","WeakMap","__webpack_module_cache__","moduleId","cachedModule","getter","__esModule","definition","enumerable","prop"],"sources":["bundle.js"],"sourcesContent":["/******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./node_modules/autosize/dist/autosize.esm.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/autosize/dist/autosize.esm.js ***!\n  \\****************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar e,t,n=\"function\"==typeof Map?new Map:(e=[],t=[],{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){-1===e.indexOf(n)&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event(\"test\")}catch(e){o=function(e){var t=document.createEvent(\"Event\");return t.initEvent(e,!0,!1),t}}function r(e){var t=n.get(e);t&&t.destroy()}function i(e){var t=n.get(e);t&&t.update()}var l=null;\"undefined\"==typeof window||\"function\"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(e){if(e&&e.nodeName&&\"TEXTAREA\"===e.nodeName&&!n.has(e)){var t,r=null,i=null,l=null,a=function(){e.clientWidth!==i&&p()},d=function(t){window.removeEventListener(\"resize\",a,!1),e.removeEventListener(\"input\",p,!1),e.removeEventListener(\"keyup\",p,!1),e.removeEventListener(\"autosize:destroy\",d,!1),e.removeEventListener(\"autosize:update\",p,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),n.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener(\"autosize:destroy\",d,!1),\"onpropertychange\"in e&&\"oninput\"in e&&e.addEventListener(\"keyup\",p,!1),window.addEventListener(\"resize\",a,!1),e.addEventListener(\"input\",p,!1),e.addEventListener(\"autosize:update\",p,!1),e.style.overflowX=\"hidden\",e.style.wordWrap=\"break-word\",n.set(e,{destroy:d,update:p}),\"vertical\"===(t=window.getComputedStyle(e,null)).resize?e.style.resize=\"none\":\"both\"===t.resize&&(e.style.resize=\"horizontal\"),r=\"content-box\"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),p()}function s(t){var n=e.style.width;e.style.width=\"0px\",e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&(e.parentNode.style.scrollBehavior=\"auto\",t.push([e.parentNode,e.parentNode.scrollTop])),e=e.parentNode;return function(){return t.forEach(function(e){var t=e[0];t.scrollTop=e[1],t.style.scrollBehavior=null})}}(e);e.style.height=\"\",e.style.height=e.scrollHeight+r+\"px\",i=e.clientWidth,t()}}function p(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?\"hidden\"===n.overflowY&&(s(\"scroll\"),u(),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):\"hidden\"!==n.overflowY&&(s(\"hidden\"),u(),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),l!==r){l=r;var i=o(\"autosize:resized\");try{e.dispatchEvent(i)}catch(e){}}}}(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e});var a=l;/* harmony default export */ __webpack_exports__[\"default\"] = (a);\n\n\n/***/ }),\n\n/***/ \"./src/blocks/ask/ask.js\":\n/*!*******************************!*\\\n  !*** ./src/blocks/ask/ask.js ***!\n  \\*******************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var askForm = document.querySelector(\".ask__form\");\n  if (askForm) {\n    var formInputs = askForm.querySelectorAll(\"input\");\n    var formTextarea = askForm.querySelector(\"textarea\");\n    var formButton = askForm.querySelector(\"button\");\n    formInputs.forEach(function (input) {\n      input.addEventListener(\"input\", function () {\n        contactsFormCheck(askForm, formButton);\n      });\n    });\n    formTextarea.addEventListener(\"input\", function () {\n      contactsFormCheck(askForm, formButton);\n    });\n  }\n});\nfunction contactsFormCheck(form, submit) {\n  var formNameValue = form.querySelector(\"input[type='text']\").value;\n  var formEmailValue = form.querySelector(\"input[type='email']\").value;\n  var formTextareaValue = form.querySelector(\"textarea\").value;\n  var noEmptyValues = !!formNameValue && !!formEmailValue && !!formTextareaValue;\n  var emailFormat = /^[\\w-\\\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/.test(formEmailValue);\n  noEmptyValues && emailFormat ? submit.removeAttribute(\"disabled\") : submit.setAttribute(\"disabled\", \"true\");\n}\n\n/***/ }),\n\n/***/ \"./src/blocks/card-inventory/card-inventory.js\":\n/*!*****************************************************!*\\\n  !*** ./src/blocks/card-inventory/card-inventory.js ***!\n  \\*****************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var inventoryCards = document.querySelectorAll(\".card-inventory\");\n  if (inventoryCards.length !== 0) {\n    var selectAllButton = document.querySelector(\"#inventoryAll\");\n    var deselectButton = document.querySelector(\"#inventoryNone\");\n    selectAllButton.addEventListener(\"click\", function () {\n      inventoryCards.forEach(function (card) {\n        var cardCheckbox = card.querySelector(\"[type='checkbox']\");\n        cardCheckbox.checked = true;\n      });\n    });\n    deselectButton.addEventListener(\"click\", function () {\n      inventoryCards.forEach(function (card) {\n        var cardCheckbox = card.querySelector(\"[type='checkbox']\");\n        cardCheckbox.checked = false;\n      });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/card-product/card-product.js\":\n/*!*************************************************!*\\\n  !*** ./src/blocks/card-product/card-product.js ***!\n  \\*************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var productCards = document.querySelectorAll(\".card-product\");\n  if (productCards.length !== 0) {\n    productCards.forEach(function (card) {\n      var cardButton = card.querySelector(\".card-product__button\");\n      cardButton.addEventListener(\"click\", function () {\n        if (cardButton.classList.contains(\"card-product__button--active\")) {\n          cardButton.classList.remove(\"card-product__button--active\");\n          cardButton.textContent = \"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\";\n        } else {\n          cardButton.classList.add(\"card-product__button--active\");\n          cardButton.textContent = \"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0435\";\n        }\n      });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/faq/faq.js\":\n/*!*******************************!*\\\n  !*** ./src/blocks/faq/faq.js ***!\n  \\*******************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var faq = document.querySelector(\".faq\");\n  if (faq) {\n    var faqItems = faq.querySelectorAll(\".faq__item\");\n    faqItems.forEach(function (item) {\n      var faqHead = item.querySelector(\".faq__head\");\n      var faqTrigger = item.querySelector(\".faq__trigger\");\n      faqHead.addEventListener(\"click\", function () {\n        if (item.classList.contains(\"faq__item--open\")) {\n          item.classList.remove(\"faq__item--open\");\n          faqTrigger.textContent = \"+\";\n        } else {\n          item.classList.add(\"faq__item--open\");\n          faqTrigger.textContent = \"âˆ’\";\n        }\n      });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/field/field.js\":\n/*!***********************************!*\\\n  !*** ./src/blocks/field/field.js ***!\n  \\***********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var passFields = document.querySelectorAll(\".field\");\n  passFields.forEach(function (item) {\n    var passInput = item.querySelector(\"input[type='password']\");\n    var passToggle = item.querySelector(\".field__show\");\n    if (passToggle) {\n      passToggle.addEventListener(\"click\", function () {\n        if (passInput.type === \"password\") {\n          passInput.setAttribute(\"type\", \"text\");\n          passToggle.classList.add(\"field__show--active\");\n        } else {\n          passToggle.classList.remove(\"field__show--active\");\n          passInput.setAttribute(\"type\", \"password\");\n        }\n      });\n    }\n  });\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/filter/filter.js\":\n/*!*************************************!*\\\n  !*** ./src/blocks/filter/filter.js ***!\n  \\*************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var imask__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! imask */ \"./node_modules/imask/esm/index.js\");\n/* harmony import */ var nouislider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! nouislider */ \"./node_modules/nouislider/dist/nouislider.js\");\n/* harmony import */ var nouislider__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(nouislider__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _js_common_wNumb_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../js/common/wNumb.js */ \"./src/js/common/wNumb.js\");\n/* harmony import */ var _js_common_wNumb_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_js_common_wNumb_js__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var filterTrigger = document.querySelector(\".filter__trigger\");\n  var filterInner = document.querySelector(\".filter__inner\");\n  if (filterTrigger) {\n    filterTrigger.addEventListener(\"click\", function () {\n      filterInner.classList.toggle(\"filter__inner--show\");\n    });\n  }\n  var rangeSliders = document.querySelectorAll(\".filter__input-range\");\n  if (rangeSliders.length !== 0) {\n    var rangeMin = 0;\n    var rangeMax = 100000;\n    var rangeSliderOptions = {\n      start: [rangeMin, rangeMax],\n      connect: true,\n      range: {\n        min: rangeMin,\n        max: rangeMax\n      },\n      format: _js_common_wNumb_js__WEBPACK_IMPORTED_MODULE_3___default()({\n        decimals: 0,\n        thousand: \" \"\n      })\n    };\n    var numberMask = {\n      mask: Number,\n      min: rangeMin,\n      max: rangeMax,\n      thousandsSeparator: \" \"\n    };\n    rangeSliders.forEach(function (rangeSliderInstant) {\n      var fromField = rangeSliderInstant.querySelector('input[name=\"priceFrom\"]');\n      var toField = rangeSliderInstant.querySelector('input[name=\"priceTo\"]');\n      var slider = rangeSliderInstant.querySelector(\".range__inner\");\n      nouislider__WEBPACK_IMPORTED_MODULE_2___default().create(slider, rangeSliderOptions);\n      makeSliderLink(slider, fromField, toField, numberMask);\n    });\n  }\n  function makeSliderLink(range, fromField, toField, mask, rangeMin, rangeMax) {\n    var fromFieldMask = (0,imask__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(fromField, mask);\n    var toFieldMask = (0,imask__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(toField, mask);\n    range.noUiSlider.on(\"update\", function (values, handle) {\n      if (handle) {\n        toField.value = values[handle];\n        fromFieldMask.updateValue();\n        toFieldMask.updateValue();\n      } else {\n        fromField.value = values[handle];\n        fromFieldMask.updateValue();\n        toFieldMask.updateValue();\n      }\n    });\n    fromField.addEventListener(\"change\", function () {\n      range.noUiSlider.set([this.value, null]);\n    });\n    toField.addEventListener(\"change\", function () {\n      range.noUiSlider.set([null, this.value]);\n    });\n    fromField.addEventListener(\"focus\", function () {\n      fromField.value = \"\";\n      fromFieldMask.updateValue();\n    });\n    toField.addEventListener(\"focus\", function () {\n      toField.value = null;\n      toFieldMask.updateValue();\n    });\n    fromField.addEventListener(\"focusout\", function () {\n      if (fromField.value === \"\") {\n        fromField.value = rangeMin;\n        range.noUiSlider.set([this.value, null]);\n      }\n    });\n    toField.addEventListener(\"focusout\", function () {\n      if (toField.value === \"\") {\n        toField.value = rangeMax;\n        range.noUiSlider.set([null, this.value]);\n      }\n    });\n    fromField.addEventListener(\"keypress\", function (event) {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        range.noUiSlider.set([this.value, null]);\n      }\n    });\n    toField.addEventListener(\"keypress\", function (event) {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        range.noUiSlider.set([null, this.value]);\n      }\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/form/form.js\":\n/*!*********************************!*\\\n  !*** ./src/blocks/form/form.js ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var registrationForm = document.querySelector(\".form--registration\");\n  var loginForm = document.querySelector(\".form--login\");\n  var forgetForm = document.querySelector(\".form--forget\");\n  if (registrationForm) {\n    var formInputs = registrationForm.querySelectorAll(\"input\");\n    var formPassword = registrationForm.querySelector(\"#password\");\n    var formPasswordRepeat = registrationForm.querySelector(\"#passwordRepeat\");\n    var formButton = registrationForm.querySelector(\"button\");\n    formInputs.forEach(function (input) {\n      input.addEventListener(\"input\", function () {\n        registrationFormCheck(registrationForm, formButton);\n      });\n    });\n    formPassword.addEventListener(\"input\", function () {\n      passwordCheck(formPassword, formPasswordRepeat);\n    });\n    formPasswordRepeat.addEventListener(\"input\", function () {\n      passwordCheck(formPassword, formPasswordRepeat);\n    });\n  }\n  if (loginForm) {\n    var loginInputs = loginForm.querySelectorAll(\"input\");\n    var loginButton = loginForm.querySelector(\"button\");\n    loginInputs.forEach(function (input) {\n      input.addEventListener(\"input\", function () {\n        loginFormCheck(loginForm, loginButton);\n      });\n    });\n  }\n  if (forgetForm) {\n    var forgetEmail = forgetForm.querySelector(\"input[type='email']\");\n    var _formButton = forgetForm.querySelector(\"button\");\n    forgetEmail.addEventListener(\"input\", function () {\n      var forgetEmailValue = forgetEmail.value;\n      forgetEmailValue && /^[\\w-\\\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/.test(forgetEmailValue) ? _formButton.removeAttribute(\"disabled\") : _formButton.setAttribute(\"disabled\", \"true\");\n    });\n  }\n});\nfunction loginFormCheck(form, submit) {\n  var formEmailValue = form.querySelector(\"input[type='email']\").value;\n  var formPasswordValue = form.querySelector(\"#password\").value;\n  var noEmptyValues = !!formEmailValue && !!formPasswordValue;\n  var emailFormat = /^[\\w-\\\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/.test(formEmailValue);\n  noEmptyValues && emailFormat ? submit.removeAttribute(\"disabled\") : submit.setAttribute(\"disabled\", \"true\");\n}\nfunction registrationFormCheck(form, submit) {\n  var formNameValue = form.querySelector(\"input[type='text']\").value;\n  var formEmailValue = form.querySelector(\"input[type='email']\").value;\n  var formPasswordValue = form.querySelector(\"#password\").value;\n  var formPasswordRepeatValue = form.querySelector(\"#passwordRepeat\").value;\n  var noEmptyValues = !!formNameValue && !!formEmailValue && !!formPasswordValue && !!formPasswordRepeatValue;\n  var isSamePass = formPasswordValue === formPasswordRepeatValue;\n  var checkbox = form.querySelector(\"input[type='checkbox']\").checked;\n  var emailFormat = /^[\\w-\\\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/.test(formEmailValue);\n  noEmptyValues && emailFormat && isSamePass && checkbox && formPasswordValue.length >= 4 && formPasswordRepeatValue.length >= 4 ? submit.removeAttribute(\"disabled\") : submit.setAttribute(\"disabled\", \"true\");\n}\nfunction passwordCheck(first, second) {\n  var firstValue = first.value;\n  var secondValue = second.value;\n  var message = document.querySelector(\".form__message\");\n  if (firstValue && secondValue && firstValue.length >= 4 && secondValue.length >= 4 && firstValue === secondValue) {\n    message.classList.remove(\"form__message--active\");\n  } else {\n    message.classList.add(\"form__message--active\");\n  }\n  if (!firstValue || !secondValue) {\n    message.classList.remove(\"form__message--active\");\n  }\n}\n\n/***/ }),\n\n/***/ \"./src/blocks/header/header.js\":\n/*!*************************************!*\\\n  !*** ./src/blocks/header/header.js ***!\n  \\*************************************/\n/***/ (function() {\n\n// import ready from \"../../js/utils/documentReady.js\";\n//\n// ready(function () {\n//\n// });\n\n/***/ }),\n\n/***/ \"./src/blocks/hero/hero.js\":\n/*!*********************************!*\\\n  !*** ./src/blocks/hero/hero.js ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var hostHero = document.querySelector(\".hero\");\n  if (hostHero) {\n    var heroTrigger = hostHero.querySelectorAll(\".hero__js-trigger\");\n    heroTrigger.forEach(function (element) {\n      element.addEventListener(\"click\", function () {\n        alert(\"JS works!\");\n      });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/input/input.js\":\n/*!***********************************!*\\\n  !*** ./src/blocks/input/input.js ***!\n  \\***********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var imask__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! imask */ \"./node_modules/imask/esm/index.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n(0,_js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  // input\n  var inputs = document.querySelectorAll(\".input\");\n  if (inputs.length !== 0) {\n    var _iterator = _createForOfIteratorHelper(inputs),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var input = _step.value;\n        if (input.value.length !== 0) input.classList.add(\"input--has-value\");\n        input.addEventListener(\"input\", function () {\n          this.value.length !== 0 ? this.classList.add(\"input--has-value\") : this.classList.remove(\"input--has-value\");\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  // phone input\n  var phoneFields = document.querySelectorAll(\" input[type=tel]\");\n  if (phoneFields) {\n    phoneFields.forEach(function (field) {\n      (0,imask__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(field, {\n        mask: \"+{7} 000 000-00-00\"\n      });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/number/number.js\":\n/*!*************************************!*\\\n  !*** ./src/blocks/number/number.js ***!\n  \\*************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var numbers = document.querySelectorAll(\"[data-quantity]\");\n  if (numbers.length !== 0) {\n    numbers.forEach(function (number) {\n      setupCounter(number);\n    });\n  }\n});\nfunction setupCounter(element) {\n  var add = element.querySelector(\".number__button--add\");\n  var sub = element.querySelector(\".number__button--sub\");\n  var input = element.querySelector(\".number__input\");\n  var inputMin = input.getAttribute(\"min\");\n  var inputMax = input.getAttribute(\"max\");\n  var counter = +input.value;\n  var setCounter = function setCounter(count) {\n    if (count >= inputMin && count <= inputMax) {\n      counter = count;\n      input.value = counter;\n      sub.classList.remove(\"number__button--disabled\");\n      add.classList.remove(\"number__button--disabled\");\n    }\n    if (count <= inputMin) {\n      sub.classList.add(\"number__button--disabled\");\n    }\n    if (count >= inputMax) {\n      add.classList.add(\"number__button--disabled\");\n    }\n  };\n  add.addEventListener(\"click\", function () {\n    return setCounter(counter + 1);\n  });\n  sub.addEventListener(\"click\", function () {\n    return setCounter(counter - 1);\n  });\n}\n\n/***/ }),\n\n/***/ \"./src/blocks/panel/panel.js\":\n/*!***********************************!*\\\n  !*** ./src/blocks/panel/panel.js ***!\n  \\***********************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var panelTriggers = document.querySelectorAll(\"[data-panel-trigger]\");\n  var panelCloseButtons = document.querySelectorAll(\".panel__close\");\n  var panelDarker = document.querySelector(\".page__darker\");\n  if (panelTriggers.length !== 0) {\n    panelTriggers.forEach(function (trigger) {\n      trigger.addEventListener(\"click\", function () {\n        var pageState = document.body.getAttribute(\"data-state\");\n        var triggerTarget = trigger.getAttribute(\"data-panel-trigger\");\n        if (pageState === \"open-panel-\".concat(triggerTarget)) {\n          document.body.dataset.state = \"\";\n          document.documentElement.classList.remove(\"ovh\");\n        } else {\n          document.body.dataset.state = \"open-panel-\".concat(triggerTarget);\n          document.documentElement.classList.add(\"ovh\");\n        }\n      });\n    });\n  }\n  if (panelCloseButtons.length !== 0) {\n    panelCloseButtons.forEach(function (button) {\n      button.addEventListener(\"click\", function () {\n        document.body.dataset.state = \"\";\n        document.documentElement.classList.remove(\"ovh\");\n      });\n    });\n  }\n  panelDarker.addEventListener(\"click\", function () {\n    document.body.dataset.state = \"\";\n    document.documentElement.classList.remove(\"ovh\");\n  });\n});\n\n/***/ }),\n\n/***/ \"./src/blocks/payment/payment.js\":\n/*!***************************************!*\\\n  !*** ./src/blocks/payment/payment.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var imask__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! imask */ \"./node_modules/imask/esm/index.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var payment = document.querySelector(\".payment\");\n  if (payment) {\n    var sumField = payment.querySelector(\"#sum\");\n    var totalField = payment.querySelector(\"#total\");\n    var checkbox = payment.querySelector(\".checkbox__input\");\n    var methods = payment.querySelectorAll(\".payment__radio\");\n    var popularSums = payment.querySelectorAll(\".payment__button\");\n    var percentAmount;\n    var maskOptions = {\n      mask: Number,\n      min: 50,\n      max: 1000000,\n      scale: 2,\n      thousandsSeparator: \"\",\n      padFractionalZeros: true\n    };\n    var sumMask = (0,imask__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(sumField, maskOptions);\n    var totalMask = (0,imask__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(totalField, maskOptions);\n    setPercentAmount(methods);\n    percentAmount = setPercentAmount(methods);\n    totalCalc(sumField, totalField, percentAmount);\n    sumMask.updateValue();\n    totalMask.updateValue();\n    var _iterator = _createForOfIteratorHelper(methods),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var method = _step.value;\n        method.addEventListener(\"click\", function () {\n          percentAmount = setPercentAmount(methods);\n          totalCalc(sumField, totalField, percentAmount);\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    var _iterator2 = _createForOfIteratorHelper(popularSums),\n      _step2;\n    try {\n      var _loop = function _loop() {\n        var popularSum = _step2.value;\n        var popularSumAmount = popularSum.dataset.amount;\n        popularSum.addEventListener(\"click\", function () {\n          sumField.value = popularSumAmount;\n          totalCalc(sumField, totalField, percentAmount);\n          resetPopularButtons(popularSums);\n          sumMask.updateValue();\n          totalMask.updateValue();\n          popularSum.classList.add(\"payment__button--active\");\n          paymentFormCheck(payment);\n        });\n      };\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        _loop();\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    checkbox.addEventListener(\"change\", function () {\n      paymentFormCheck(payment);\n    });\n    sumField.addEventListener(\"input\", function () {\n      resetPopularButtons(popularSums);\n      totalCalc(sumField, totalField, percentAmount);\n      totalMask.updateValue();\n      paymentFormCheck(payment);\n    });\n    sumField.addEventListener(\"focusout\", function () {\n      totalCalc(sumField, totalField, percentAmount);\n      sumMask.updateValue();\n      totalMask.updateValue();\n      paymentFormCheck(payment);\n    });\n    totalField.addEventListener(\"input\", function () {\n      resetPopularButtons(popularSums);\n      sumCalc(sumField, totalField, percentAmount);\n      sumMask.updateValue();\n      paymentFormCheck(payment);\n    });\n    totalField.addEventListener(\"focusout\", function () {\n      sumCalc(sumField, totalField, percentAmount);\n      totalMask.updateValue();\n      sumMask.updateValue();\n      paymentFormCheck(payment);\n    });\n  }\n});\nfunction sumCalc(sum, total, percent) {\n  var totalFieldValue = total.value.replace(\",\", \".\");\n  if (totalFieldValue === \".\" || +totalFieldValue < 50) {\n    sum.value = \"0,00\";\n  } else {\n    sum.value = (+totalFieldValue / (1 + +percent)).toFixed(2).replace(\".\", \",\");\n  }\n}\nfunction totalCalc(sum, total, percent) {\n  var sumFieldValue = sum.value.replace(\",\", \".\");\n  if (sumFieldValue === \".\") {\n    total.value = \"0,00\";\n  } else {\n    total.value = (+sumFieldValue * (1 + +percent)).toFixed(2).replace(\".\", \",\");\n  }\n}\nfunction setPercentAmount(methods) {\n  var _iterator3 = _createForOfIteratorHelper(methods),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var method = _step3.value;\n      if (method.checked === true) {\n        return method.dataset.percent;\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n}\nfunction resetPopularButtons(buttons) {\n  var _iterator4 = _createForOfIteratorHelper(buttons),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var button = _step4.value;\n      button.classList.remove(\"payment__button--active\");\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n}\nfunction paymentFormCheck(form) {\n  var fieldValue = +form.querySelector(\"#total\").value.replace(\",\", \".\");\n  var checkbox = form.querySelector(\".checkbox__input\");\n  var submitButton = form.querySelector(\".payment__submit\");\n  fieldValue !== \"\" && fieldValue > 50 && checkbox.checked ? submitButton.removeAttribute(\"disabled\") : submitButton.setAttribute(\"disabled\", \"true\");\n}\n\n/***/ }),\n\n/***/ \"./src/blocks/profile/profile.js\":\n/*!***************************************!*\\\n  !*** ./src/blocks/profile/profile.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n\n(0,_js_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  var profileForm = document.querySelector(\".profile__pass\");\n  if (profileForm) {\n    var loginInputs = profileForm.querySelectorAll(\"input\");\n    var loginButton = profileForm.querySelector(\"button\");\n    loginInputs.forEach(function (input) {\n      input.addEventListener(\"input\", function () {\n        profileFormCheck(profileForm, loginButton);\n      });\n    });\n  }\n});\nfunction profileFormCheck(form, submit) {\n  var formPasswordValue = form.querySelector(\"#password\").value;\n  var formNewPasswordValue = form.querySelector(\"#newPassword\").value;\n  var noEmptyValues = !!formNewPasswordValue && !!formPasswordValue;\n  noEmptyValues ? submit.removeAttribute(\"disabled\") : submit.setAttribute(\"disabled\", \"true\");\n}\n\n/***/ }),\n\n/***/ \"./src/blocks/textarea/textarea.js\":\n/*!*****************************************!*\\\n  !*** ./src/blocks/textarea/textarea.js ***!\n  \\*****************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/utils/documentReady */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var autosize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! autosize */ \"./node_modules/autosize/dist/autosize.esm.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\n(0,_js_utils_documentReady__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  // textarea\n  var textareas = document.querySelectorAll(\".textarea\");\n  if (textareas.length !== 0) {\n    var _iterator = _createForOfIteratorHelper(textareas),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var textarea = _step.value;\n        if (textarea.value.length !== 0) {\n          (0,autosize__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(textarea);\n          textarea.classList.add(\"textarea--has-value\");\n        }\n        textarea.addEventListener(\"input\", function () {\n          this.value.length !== 0 ? this.classList.add(\"textarea--has-value\") : this.classList.remove(\"textarea--has-value\");\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  (0,autosize__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(textareas);\n});\n\n/***/ }),\n\n/***/ \"./src/js/common/simpleBar.js\":\n/*!************************************!*\\\n  !*** ./src/js/common/simpleBar.js ***!\n  \\************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/documentReady.js */ \"./src/js/utils/documentReady.js\");\n/* harmony import */ var simplebar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! simplebar */ \"./node_modules/simplebar/dist/index.mjs\");\n\n\n(0,_utils_documentReady_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  Array.prototype.forEach.call(document.querySelectorAll(\".panel__scroll\"), function (el) {\n    return new simplebar__WEBPACK_IMPORTED_MODULE_1__[\"default\"](el, {\n      autoHide: false\n    });\n  });\n});\n\n/***/ }),\n\n/***/ \"./src/js/common/wNumb.js\":\n/*!********************************!*\\\n  !*** ./src/js/common/wNumb.js ***!\n  \\********************************/\n/***/ (function(module, exports) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n/* eslint-disable */\n(function (factory) {\n  if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n})(function () {\n  \"use strict\";\n\n  var FormatOptions = [\"decimals\", \"thousand\", \"mark\", \"prefix\", \"suffix\", \"encoder\", \"decoder\", \"negativeBefore\", \"negative\", \"edit\", \"undo\"];\n\n  // General\n\n  // Reverse a string\n  function strReverse(a) {\n    return a.split(\"\").reverse().join(\"\");\n  }\n\n  // Check if a string starts with a specified prefix.\n  function strStartsWith(input, match) {\n    return input.substring(0, match.length) === match;\n  }\n\n  // Check is a string ends in a specified suffix.\n  function strEndsWith(input, match) {\n    return input.slice(-1 * match.length) === match;\n  }\n\n  // Throw an error if formatting options are incompatible.\n  function throwEqualError(F, a, b) {\n    if ((F[a] || F[b]) && F[a] === F[b]) {\n      throw new Error(a);\n    }\n  }\n\n  // Check if a number is finite and not NaN\n  function isValidNumber(input) {\n    return typeof input === \"number\" && isFinite(input);\n  }\n\n  // Provide rounding-accurate toFixed method.\n  // Borrowed: http://stackoverflow.com/a/21323330/775265\n  function toFixed(value, exp) {\n    value = value.toString().split(\"e\");\n    value = Math.round(+(value[0] + \"e\" + (value[1] ? +value[1] + exp : exp)));\n    value = value.toString().split(\"e\");\n    return (+(value[0] + \"e\" + (value[1] ? +value[1] - exp : -exp))).toFixed(exp);\n  }\n\n  // Formatting\n\n  // Accept a number as input, output formatted string.\n  function formatTo(decimals, thousand, mark, prefix, suffix, encoder, decoder, negativeBefore, negative, edit, undo, input) {\n    var originalInput = input,\n      inputIsNegative,\n      inputPieces,\n      inputBase,\n      inputDecimals = \"\",\n      output = \"\";\n\n    // Apply user encoder to the input.\n    // Expected outcome: number.\n    if (encoder) {\n      input = encoder(input);\n    }\n\n    // Stop if no valid number was provided, the number is infinite or NaN.\n    if (!isValidNumber(input)) {\n      return false;\n    }\n\n    // Rounding away decimals might cause a value of -0\n    // when using very small ranges. Remove those cases.\n    if (decimals !== false && parseFloat(input.toFixed(decimals)) === 0) {\n      input = 0;\n    }\n\n    // Formatting is done on absolute numbers,\n    // decorated by an optional negative symbol.\n    if (input < 0) {\n      inputIsNegative = true;\n      input = Math.abs(input);\n    }\n\n    // Reduce the number of decimals to the specified option.\n    if (decimals !== false) {\n      input = toFixed(input, decimals);\n    }\n\n    // Transform the number into a string, so it can be split.\n    input = input.toString();\n\n    // Break the number on the decimal separator.\n    if (input.indexOf(\".\") !== -1) {\n      inputPieces = input.split(\".\");\n      inputBase = inputPieces[0];\n      if (mark) {\n        inputDecimals = mark + inputPieces[1];\n      }\n    } else {\n      // If it isn't split, the entire number will do.\n      inputBase = input;\n    }\n\n    // Group numbers in sets of three.\n    if (thousand) {\n      inputBase = strReverse(inputBase).match(/.{1,3}/g);\n      inputBase = strReverse(inputBase.join(strReverse(thousand)));\n    }\n\n    // If the number is negative, prefix with negation symbol.\n    if (inputIsNegative && negativeBefore) {\n      output += negativeBefore;\n    }\n\n    // Prefix the number\n    if (prefix) {\n      output += prefix;\n    }\n\n    // Normal negative option comes after the prefix. Defaults to '-'.\n    if (inputIsNegative && negative) {\n      output += negative;\n    }\n\n    // Append the actual number.\n    output += inputBase;\n    output += inputDecimals;\n\n    // Apply the suffix.\n    if (suffix) {\n      output += suffix;\n    }\n\n    // Run the output through a user-specified post-formatter.\n    if (edit) {\n      output = edit(output, originalInput);\n    }\n\n    // All done.\n    return output;\n  }\n\n  // Accept a sting as input, output decoded number.\n  function formatFrom(decimals, thousand, mark, prefix, suffix, encoder, decoder, negativeBefore, negative, edit, undo, input) {\n    var originalInput = input,\n      inputIsNegative,\n      output = \"\";\n\n    // User defined pre-decoder. Result must be a non empty string.\n    if (undo) {\n      input = undo(input);\n    }\n\n    // Test the input. Can't be empty.\n    if (!input || typeof input !== \"string\") {\n      return false;\n    }\n\n    // If the string starts with the negativeBefore value: remove it.\n    // Remember is was there, the number is negative.\n    if (negativeBefore && strStartsWith(input, negativeBefore)) {\n      input = input.replace(negativeBefore, \"\");\n      inputIsNegative = true;\n    }\n\n    // Repeat the same procedure for the prefix.\n    if (prefix && strStartsWith(input, prefix)) {\n      input = input.replace(prefix, \"\");\n    }\n\n    // And again for negative.\n    if (negative && strStartsWith(input, negative)) {\n      input = input.replace(negative, \"\");\n      inputIsNegative = true;\n    }\n\n    // Remove the suffix.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/slice\n    if (suffix && strEndsWith(input, suffix)) {\n      input = input.slice(0, -1 * suffix.length);\n    }\n\n    // Remove the thousand grouping.\n    if (thousand) {\n      input = input.split(thousand).join(\"\");\n    }\n\n    // Set the decimal separator back to period.\n    if (mark) {\n      input = input.replace(mark, \".\");\n    }\n\n    // Prepend the negative symbol.\n    if (inputIsNegative) {\n      output += \"-\";\n    }\n\n    // Add the number\n    output += input;\n\n    // Trim all non-numeric characters (allow '.' and '-');\n    output = output.replace(/[^0-9\\.\\-.]/g, \"\");\n\n    // The value contains no parse-able number.\n    if (output === \"\") {\n      return false;\n    }\n\n    // Covert to number.\n    output = Number(output);\n\n    // Run the user-specified post-decoder.\n    if (decoder) {\n      output = decoder(output);\n    }\n\n    // Check is the output is valid, otherwise: return false.\n    if (!isValidNumber(output)) {\n      return false;\n    }\n    return output;\n  }\n\n  // Framework\n\n  // Validate formatting options\n  function validate(inputOptions) {\n    var i,\n      optionName,\n      optionValue,\n      filteredOptions = {};\n    if (inputOptions[\"suffix\"] === undefined) {\n      inputOptions[\"suffix\"] = inputOptions[\"postfix\"];\n    }\n    for (i = 0; i < FormatOptions.length; i += 1) {\n      optionName = FormatOptions[i];\n      optionValue = inputOptions[optionName];\n      if (optionValue === undefined) {\n        // Only default if negativeBefore isn't set.\n        if (optionName === \"negative\" && !filteredOptions.negativeBefore) {\n          filteredOptions[optionName] = \"-\";\n          // Don't set a default for mark when 'thousand' is set.\n        } else if (optionName === \"mark\" && filteredOptions.thousand !== \".\") {\n          filteredOptions[optionName] = \".\";\n        } else {\n          filteredOptions[optionName] = false;\n        }\n\n        // Floating points in JS are stable up to 7 decimals.\n      } else if (optionName === \"decimals\") {\n        if (optionValue >= 0 && optionValue < 8) {\n          filteredOptions[optionName] = optionValue;\n        } else {\n          throw new Error(optionName);\n        }\n\n        // These options, when provided, must be functions.\n      } else if (optionName === \"encoder\" || optionName === \"decoder\" || optionName === \"edit\" || optionName === \"undo\") {\n        if (typeof optionValue === \"function\") {\n          filteredOptions[optionName] = optionValue;\n        } else {\n          throw new Error(optionName);\n        }\n\n        // Other options are strings.\n      } else {\n        if (typeof optionValue === \"string\") {\n          filteredOptions[optionName] = optionValue;\n        } else {\n          throw new Error(optionName);\n        }\n      }\n    }\n\n    // Some values can't be extracted from a\n    // string if certain combinations are present.\n    throwEqualError(filteredOptions, \"mark\", \"thousand\");\n    throwEqualError(filteredOptions, \"prefix\", \"negative\");\n    throwEqualError(filteredOptions, \"prefix\", \"negativeBefore\");\n    return filteredOptions;\n  }\n\n  // Pass all options as function arguments\n  function passAll(options, method, input) {\n    var i,\n      args = [];\n\n    // Add all options in order of FormatOptions\n    for (i = 0; i < FormatOptions.length; i += 1) {\n      args.push(options[FormatOptions[i]]);\n    }\n\n    // Append the input, then call the method, presenting all\n    // options as arguments.\n    args.push(input);\n    return method.apply(\"\", args);\n  }\n  function wNumb(options) {\n    if (!(this instanceof wNumb)) {\n      return new wNumb(options);\n    }\n    if (_typeof(options) !== \"object\") {\n      return;\n    }\n    options = validate(options);\n\n    // Call 'formatTo' with proper arguments.\n    this.to = function (input) {\n      return passAll(options, formatTo, input);\n    };\n\n    // Call 'formatFrom' with proper arguments.\n    this.from = function (input) {\n      return passAll(options, formatFrom, input);\n    };\n  }\n  return wNumb;\n});\n\n/***/ }),\n\n/***/ \"./src/js/script.js\":\n/*!**************************!*\\\n  !*** ./src/js/script.js ***!\n  \\**************************/\n/***/ (function() {\n\n// import ready from \"../js/utils/documentReady.js\";\n// import getScrollSize from \"../js/utils/getScrollSize.js\";\n\n// ready(function () {\n//   console.log(\"DOM Ð³ÐµÑ€Ð¾Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½!\");\n//   // Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ð¾Ð³Ð¾ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð° Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ð¾Ð¹ ÑˆÐ¸Ñ€Ð¸Ð½Ð¾Ð¹ ÑÐºÑ€Ð¾Ð»Ð»Ð°\n//   document.documentElement.style.setProperty(\"--css-scroll-size\", `${getScrollSize()}px`);\n// });\n\n// import $ from \"jquery\"; // ÐŸÐµÑ€ÐµÐ´ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÐºÐ°Ðº Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ\n// $(function () {\n//   console.log(\"jQuery Ð³ÐµÑ€Ð¾Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°Ð»!\");\n// });\n\n/***/ }),\n\n/***/ \"./src/js/utils/documentReady.js\":\n/*!***************************************!*\\\n  !*** ./src/js/utils/documentReady.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar ready = function ready(fn) {\n  if (document.attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\n    fn();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ready);\n\n/***/ }),\n\n/***/ \"./node_modules/can-use-dom/index.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/can-use-dom/index.js ***!\n  \\*******************************************/\n/***/ (function(module) {\n\nvar canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nmodule.exports = canUseDOM;\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/html-contenteditable-mask-element.js\":\n/*!******************************************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/html-contenteditable-mask-element.js ***!\n  \\******************************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ HTMLContenteditableMaskElement; }\n/* harmony export */ });\n/* harmony import */ var _html_mask_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./html-mask-element.js */ \"./node_modules/imask/esm/controls/html-mask-element.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _mask_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n\n\n\n\nclass HTMLContenteditableMaskElement extends _html_mask_element_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /** Returns HTMLElement selection start */\n  get _unsafeSelectionStart() {\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    const anchorOffset = selection && selection.anchorOffset;\n    const focusOffset = selection && selection.focusOffset;\n    if (focusOffset == null || anchorOffset == null || anchorOffset < focusOffset) {\n      return anchorOffset;\n    }\n    return focusOffset;\n  }\n\n  /** Returns HTMLElement selection end */\n  get _unsafeSelectionEnd() {\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    const anchorOffset = selection && selection.anchorOffset;\n    const focusOffset = selection && selection.focusOffset;\n    if (focusOffset == null || anchorOffset == null || anchorOffset > focusOffset) {\n      return anchorOffset;\n    }\n    return focusOffset;\n  }\n\n  /** Sets HTMLElement selection */\n  _unsafeSelect(start, end) {\n    if (!this.rootElement.createRange) return;\n    const range = this.rootElement.createRange();\n    range.setStart(this.input.firstChild || this.input, start);\n    range.setEnd(this.input.lastChild || this.input, end);\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    if (selection) {\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n  }\n\n  /** HTMLElement value */\n  get value() {\n    return this.input.textContent || '';\n  }\n  set value(value) {\n    this.input.textContent = value;\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/html-input-mask-element.js\":\n/*!********************************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/html-input-mask-element.js ***!\n  \\********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ HTMLInputMaskElement; }\n/* harmony export */ });\n/* harmony import */ var _html_mask_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./html-mask-element.js */ \"./node_modules/imask/esm/controls/html-mask-element.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _mask_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n\n\n\n\n/** Bridge between InputElement and {@link Masked} */\nclass HTMLInputMaskElement extends _html_mask_element_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /** InputElement to use mask on */\n\n  constructor(input) {\n    super(input);\n    this.input = input;\n    this._handlers = {};\n  }\n\n  /** Returns InputElement selection start */\n  get _unsafeSelectionStart() {\n    return this.input.selectionStart != null ? this.input.selectionStart : this.value.length;\n  }\n\n  /** Returns InputElement selection end */\n  get _unsafeSelectionEnd() {\n    return this.input.selectionEnd;\n  }\n\n  /** Sets InputElement selection */\n  _unsafeSelect(start, end) {\n    this.input.setSelectionRange(start, end);\n  }\n  get value() {\n    return this.input.value;\n  }\n  set value(value) {\n    this.input.value = value;\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].HTMLMaskElement = _html_mask_element_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/html-mask-element.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/html-mask-element.js ***!\n  \\**************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ HTMLMaskElement; }\n/* harmony export */ });\n/* harmony import */ var _mask_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n/** Bridge between HTMLElement and {@link Masked} */\nclass HTMLMaskElement extends _mask_element_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /** HTMLElement to use mask on */\n\n  constructor(input) {\n    super();\n    this.input = input;\n    this._handlers = {};\n  }\n  get rootElement() {\n    var _this$input$getRootNo, _this$input$getRootNo2, _this$input;\n    return (_this$input$getRootNo = (_this$input$getRootNo2 = (_this$input = this.input).getRootNode) == null ? void 0 : _this$input$getRootNo2.call(_this$input)) != null ? _this$input$getRootNo : document;\n  }\n\n  /**\n    Is element in focus\n  */\n  get isActive() {\n    return this.input === this.rootElement.activeElement;\n  }\n\n  /**\n    Binds HTMLElement events to mask internal events\n  */\n  bindEvents(handlers) {\n    Object.keys(handlers).forEach(event => this._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[event], handlers[event]));\n  }\n\n  /**\n    Unbinds HTMLElement events to mask internal events\n  */\n  unbindEvents() {\n    Object.keys(this._handlers).forEach(event => this._toggleEventHandler(event));\n  }\n  _toggleEventHandler(event, handler) {\n    if (this._handlers[event]) {\n      this.input.removeEventListener(event, this._handlers[event]);\n      delete this._handlers[event];\n    }\n    if (handler) {\n      this.input.addEventListener(event, handler);\n      this._handlers[event] = handler;\n    }\n  }\n}\n/** Mapping between HTMLElement events and mask internal events */\nHTMLMaskElement.EVENTS_MAP = {\n  selectionChange: 'keydown',\n  input: 'input',\n  drop: 'drop',\n  click: 'click',\n  focus: 'focus',\n  commit: 'blur'\n};\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].HTMLMaskElement = HTMLMaskElement;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/input.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/input.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ InputMask; }\n/* harmony export */ });\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_action_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/action-details.js */ \"./node_modules/imask/esm/core/action-details.js\");\n/* harmony import */ var _masked_factory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../masked/factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _mask_element_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n/* harmony import */ var _html_input_mask_element_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./html-input-mask-element.js */ \"./node_modules/imask/esm/controls/html-input-mask-element.js\");\n/* harmony import */ var _html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./html-contenteditable-mask-element.js */ \"./node_modules/imask/esm/controls/html-contenteditable-mask-element.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _html_mask_element_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./html-mask-element.js */ \"./node_modules/imask/esm/controls/html-mask-element.js\");\n\n\n\n\n\n\n\n\n\n/** Listens to element events and controls changes between element and {@link Masked} */\nclass InputMask {\n  /**\n    View element\n  */\n\n  /** Internal {@link Masked} model */\n\n  constructor(el, opts) {\n    this.el = el instanceof _mask_element_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new _html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"](el) : new _html_input_mask_element_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](el);\n    this.masked = (0,_masked_factory_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n    this._bindEvents();\n\n    // refresh\n    this.updateValue();\n    this._onChange();\n  }\n  maskEquals(mask) {\n    var _this$masked;\n    return mask == null || ((_this$masked = this.masked) == null ? void 0 : _this$masked.maskEquals(mask));\n  }\n\n  /** Masked */\n  get mask() {\n    return this.masked.mask;\n  }\n  set mask(mask) {\n    if (this.maskEquals(mask)) return;\n    if (!(mask instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].Masked) && this.masked.constructor === (0,_masked_factory_js__WEBPACK_IMPORTED_MODULE_2__.maskedClass)(mask)) {\n      // TODO \"any\" no idea\n      this.masked.updateOptions({\n        mask\n      });\n      return;\n    }\n    const masked = mask instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].Masked ? mask : (0,_masked_factory_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      mask\n    });\n    masked.unmaskedValue = this.masked.unmaskedValue;\n    this.masked = masked;\n  }\n\n  /** Raw value */\n  get value() {\n    return this._value;\n  }\n  set value(str) {\n    if (this.value === str) return;\n    this.masked.value = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Unmasked value */\n  get unmaskedValue() {\n    return this._unmaskedValue;\n  }\n  set unmaskedValue(str) {\n    if (this.unmaskedValue === str) return;\n    this.masked.unmaskedValue = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Typed unmasked value */\n  get typedValue() {\n    return this.masked.typedValue;\n  }\n  set typedValue(val) {\n    if (this.masked.typedValueEquals(val)) return;\n    this.masked.typedValue = val;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Display value */\n  get displayValue() {\n    return this.masked.displayValue;\n  }\n\n  /** Starts listening to element events */\n  _bindEvents() {\n    this.el.bindEvents({\n      selectionChange: this._saveSelection,\n      input: this._onInput,\n      drop: this._onDrop,\n      click: this._onClick,\n      focus: this._onFocus,\n      commit: this._onChange\n    });\n  }\n\n  /** Stops listening to element events */\n  _unbindEvents() {\n    if (this.el) this.el.unbindEvents();\n  }\n\n  /** Fires custom event */\n  _fireEvent(ev, e) {\n    const listeners = this._listeners[ev];\n    if (!listeners) return;\n    listeners.forEach(l => l(e));\n  }\n\n  /** Current selection start */\n  get selectionStart() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n  }\n\n  /** Current cursor position */\n  get cursorPos() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n  }\n  set cursorPos(pos) {\n    if (!this.el || !this.el.isActive) return;\n    this.el.select(pos, pos);\n    this._saveSelection();\n  }\n\n  /** Stores current selection */\n  _saveSelection( /* ev */\n  ) {\n    if (this.displayValue !== this.el.value) {\n      console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n    }\n\n    this._selection = {\n      start: this.selectionStart,\n      end: this.cursorPos\n    };\n  }\n\n  /** Syncronizes model value from view */\n  updateValue() {\n    this.masked.value = this.el.value;\n    this._value = this.masked.value;\n  }\n\n  /** Syncronizes view from model value, fires change events */\n  updateControl() {\n    const newUnmaskedValue = this.masked.unmaskedValue;\n    const newValue = this.masked.value;\n    const newDisplayValue = this.displayValue;\n    const isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n    this._unmaskedValue = newUnmaskedValue;\n    this._value = newValue;\n    if (this.el.value !== newDisplayValue) this.el.value = newDisplayValue;\n    if (isChanged) this._fireChangeEvents();\n  }\n\n  /** Updates options with deep equal check, recreates {@link Masked} model if mask type changes */\n  updateOptions(opts) {\n    const {\n      mask,\n      ...restOpts\n    } = opts;\n    const updateMask = !this.maskEquals(mask);\n    const updateOpts = !(0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.objectIncludes)(this.masked, restOpts);\n    if (updateMask) this.mask = mask;\n    if (updateOpts) this.masked.updateOptions(restOpts); // TODO\n\n    if (updateMask || updateOpts) this.updateControl();\n  }\n\n  /** Updates cursor */\n  updateCursor(cursorPos) {\n    if (cursorPos == null) return;\n    this.cursorPos = cursorPos;\n\n    // also queue change cursor for mobile browsers\n    this._delayUpdateCursor(cursorPos);\n  }\n\n  /** Delays cursor update to support mobile browsers */\n  _delayUpdateCursor(cursorPos) {\n    this._abortUpdateCursor();\n    this._changingCursorPos = cursorPos;\n    this._cursorChanging = setTimeout(() => {\n      if (!this.el) return; // if was destroyed\n      this.cursorPos = this._changingCursorPos;\n      this._abortUpdateCursor();\n    }, 10);\n  }\n\n  /** Fires custom events */\n  _fireChangeEvents() {\n    this._fireEvent('accept', this._inputEvent);\n    if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\n  }\n\n  /** Aborts delayed cursor update */\n  _abortUpdateCursor() {\n    if (this._cursorChanging) {\n      clearTimeout(this._cursorChanging);\n      delete this._cursorChanging;\n    }\n  }\n\n  /** Aligns cursor to nearest available position */\n  alignCursor() {\n    this.cursorPos = this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.LEFT));\n  }\n\n  /** Aligns cursor only if selection is empty */\n  alignCursorFriendly() {\n    if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n    this.alignCursor();\n  }\n\n  /** Adds listener on custom event */\n  on(ev, handler) {\n    if (!this._listeners[ev]) this._listeners[ev] = [];\n    this._listeners[ev].push(handler);\n    return this;\n  }\n\n  /** Removes custom event listener */\n  off(ev, handler) {\n    if (!this._listeners[ev]) return this;\n    if (!handler) {\n      delete this._listeners[ev];\n      return this;\n    }\n    const hIndex = this._listeners[ev].indexOf(handler);\n    if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n    return this;\n  }\n\n  /** Handles view input event */\n  _onInput(e) {\n    this._inputEvent = e;\n    this._abortUpdateCursor();\n\n    // fix strange IE behavior\n    if (!this._selection) return this.updateValue();\n    const details = new _core_action_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n      // new state\n      value: this.el.value,\n      cursorPos: this.cursorPos,\n      // old state\n      oldValue: this.displayValue,\n      oldSelection: this._selection\n    });\n    const oldRawValue = this.masked.rawInputValue;\n    const offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection, {\n      input: true,\n      raw: true\n    }).offset;\n\n    // force align in remove direction only if no input chars were removed\n    // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n    const removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE;\n    let cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n    if (removeDirection !== _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE) cursorPos = this.masked.nearestInputPos(cursorPos, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE);\n    this.updateControl();\n    this.updateCursor(cursorPos);\n    delete this._inputEvent;\n  }\n\n  /** Handles view change event and commits model value */\n  _onChange() {\n    if (this.displayValue !== this.el.value) {\n      this.updateValue();\n    }\n    this.masked.doCommit();\n    this.updateControl();\n    this._saveSelection();\n  }\n\n  /** Handles view drop event, prevents by default */\n  _onDrop(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n  }\n\n  /** Restore last selection on focus */\n  _onFocus(ev) {\n    this.alignCursorFriendly();\n  }\n\n  /** Restore last selection on focus */\n  _onClick(ev) {\n    this.alignCursorFriendly();\n  }\n\n  /** Unbind view events and removes element reference */\n  destroy() {\n    this._unbindEvents();\n    this._listeners.length = 0;\n    delete this.el;\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].InputMask = InputMask;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/controls/mask-element.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/imask/esm/controls/mask-element.js ***!\n  \\*********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskElement; }\n/* harmony export */ });\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n/**  Generic element API to use with mask */\nclass MaskElement {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** Safely returns selection start */\n  get selectionStart() {\n    let start;\n    try {\n      start = this._unsafeSelectionStart;\n    } catch {}\n    return start != null ? start : this.value.length;\n  }\n\n  /** Safely returns selection end */\n  get selectionEnd() {\n    let end;\n    try {\n      end = this._unsafeSelectionEnd;\n    } catch {}\n    return end != null ? end : this.value.length;\n  }\n\n  /** Safely sets element selection */\n  select(start, end) {\n    if (start == null || end == null || start === this.selectionStart && end === this.selectionEnd) return;\n    try {\n      this._unsafeSelect(start, end);\n    } catch {}\n  }\n\n  /** */\n  get isActive() {\n    return false;\n  }\n  /** */\n\n  /** */\n\n  /** */\n}\n\n_core_holder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].MaskElement = MaskElement;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/action-details.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/imask/esm/core/action-details.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ActionDetails; }\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n\n\n/** Provides details of changing input */\nclass ActionDetails {\n  /** Current input value */\n\n  /** Current cursor position */\n\n  /** Old input value */\n\n  /** Old selection */\n\n  constructor(opts) {\n    Object.assign(this, opts);\n\n    // double check if left part was changed (autofilling, other non-standard input triggers)\n    while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\n      --this.oldSelection.start;\n    }\n  }\n\n  /** Start changing position */\n  get startChangePos() {\n    return Math.min(this.cursorPos, this.oldSelection.start);\n  }\n\n  /** Inserted symbols count */\n  get insertedCount() {\n    return this.cursorPos - this.startChangePos;\n  }\n\n  /** Inserted symbols */\n  get inserted() {\n    return this.value.substr(this.startChangePos, this.insertedCount);\n  }\n\n  /** Removed symbols count */\n  get removedCount() {\n    // Math.max for opposite operation\n    return Math.max(this.oldSelection.end - this.startChangePos ||\n    // for Delete\n    this.oldValue.length - this.value.length, 0);\n  }\n\n  /** Removed symbols */\n  get removed() {\n    return this.oldValue.substr(this.startChangePos, this.removedCount);\n  }\n\n  /** Unchanged head symbols */\n  get head() {\n    return this.value.substring(0, this.startChangePos);\n  }\n\n  /** Unchanged tail symbols */\n  get tail() {\n    return this.value.substring(this.startChangePos + this.insertedCount);\n  }\n\n  /** Remove direction */\n  get removeDirection() {\n    if (!this.removedCount || this.insertedCount) return _utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE;\n\n    // align right if delete at right\n    return (this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos) &&\n    // if not range removed (event with backspace)\n    this.oldSelection.end === this.oldSelection.start ? _utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.RIGHT : _utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.LEFT;\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/change-details.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/imask/esm/core/change-details.js ***!\n  \\*******************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChangeDetails; }\n/* harmony export */ });\n/* harmony import */ var _holder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n/** Provides details of changing model value */\nclass ChangeDetails {\n  /** Inserted symbols */\n\n  /** Can skip chars */\n\n  /** Additional offset if any changes occurred before tail */\n\n  /** Raw inserted is used by dynamic mask */\n\n  static normalize(prep) {\n    return Array.isArray(prep) ? prep : [prep, new ChangeDetails()];\n  }\n  constructor(details) {\n    Object.assign(this, {\n      inserted: '',\n      rawInserted: '',\n      skip: false,\n      tailShift: 0\n    }, details);\n  }\n\n  /** Aggregate changes */\n  aggregate(details) {\n    this.rawInserted += details.rawInserted;\n    this.skip = this.skip || details.skip;\n    this.inserted += details.inserted;\n    this.tailShift += details.tailShift;\n    return this;\n  }\n\n  /** Total offset considering all changes */\n  get offset() {\n    return this.tailShift + this.inserted.length;\n  }\n}\n_holder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ChangeDetails = ChangeDetails;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/continuous-tail-details.js\":\n/*!****************************************************************!*\\\n  !*** ./node_modules/imask/esm/core/continuous-tail-details.js ***!\n  \\****************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ContinuousTailDetails; }\n/* harmony export */ });\n/** Provides details of continuous extracted tail */\nclass ContinuousTailDetails {\n  /** Tail value as string */\n\n  /** Tail start position */\n\n  /** Start position */\n\n  constructor(value, from, stop) {\n    if (value === void 0) {\n      value = '';\n    }\n    if (from === void 0) {\n      from = 0;\n    }\n    this.value = value;\n    this.from = from;\n    this.stop = stop;\n  }\n  toString() {\n    return this.value;\n  }\n  extend(tail) {\n    this.value += String(tail);\n  }\n  appendTo(masked) {\n    return masked.append(this.toString(), {\n      tail: true\n    }).aggregate(masked._appendPlaceholder());\n  }\n  get state() {\n    return {\n      value: this.value,\n      from: this.from,\n      stop: this.stop\n    };\n  }\n  set state(state) {\n    Object.assign(this, state);\n  }\n  unshift(beforePos) {\n    if (!this.value.length || beforePos != null && this.from >= beforePos) return '';\n    const shiftChar = this.value[0];\n    this.value = this.value.slice(1);\n    return shiftChar;\n  }\n  shift() {\n    if (!this.value.length) return '';\n    const shiftChar = this.value[this.value.length - 1];\n    this.value = this.value.slice(0, -1);\n    return shiftChar;\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/holder.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/core/holder.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ IMask; }\n/* harmony export */ });\n/** Applies mask on element */\nfunction IMask(el, opts) {\n  // currently available only for input-like elements\n  return new IMask.InputMask(el, opts);\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/core/utils.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/imask/esm/core/utils.js ***!\n  \\**********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DIRECTION\": function() { return /* binding */ DIRECTION; },\n/* harmony export */   \"escapeRegExp\": function() { return /* binding */ escapeRegExp; },\n/* harmony export */   \"forceDirection\": function() { return /* binding */ forceDirection; },\n/* harmony export */   \"isObject\": function() { return /* binding */ isObject; },\n/* harmony export */   \"isString\": function() { return /* binding */ isString; },\n/* harmony export */   \"objectIncludes\": function() { return /* binding */ objectIncludes; },\n/* harmony export */   \"pick\": function() { return /* binding */ pick; }\n/* harmony export */ });\n/** Checks if value is string */\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n\n/** Checks if value is object */\nfunction isObject(obj) {\n  var _obj$constructor;\n  return typeof obj === 'object' && obj != null && (obj == null ? void 0 : (_obj$constructor = obj.constructor) == null ? void 0 : _obj$constructor.name) === 'Object';\n}\nfunction pick(obj, keys) {\n  if (Array.isArray(keys)) return pick(obj, (_, k) => keys.includes(k));\n  return Object.entries(obj).reduce((acc, _ref) => {\n    let [k, v] = _ref;\n    if (keys(v, k)) acc[k] = v;\n    return acc;\n  }, {});\n}\n\n/** Direction */\nconst DIRECTION = {\n  NONE: 'NONE',\n  LEFT: 'LEFT',\n  FORCE_LEFT: 'FORCE_LEFT',\n  RIGHT: 'RIGHT',\n  FORCE_RIGHT: 'FORCE_RIGHT'\n};\n\n/** Direction */\n\nfunction forceDirection(direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n      return DIRECTION.FORCE_LEFT;\n    case DIRECTION.RIGHT:\n      return DIRECTION.FORCE_RIGHT;\n    default:\n      return direction;\n  }\n}\n\n/** Escapes regular expression control chars */\nfunction escapeRegExp(str) {\n  return str.replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1');\n}\n\n// cloned from https://github.com/epoberezkin/fast-deep-equal with small changes\nfunction objectIncludes(b, a) {\n  if (a === b) return true;\n  const arrA = Array.isArray(a),\n    arrB = Array.isArray(b);\n  let i;\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n    for (i = 0; i < a.length; i++) if (!objectIncludes(a[i], b[i])) return false;\n    return true;\n  }\n  if (arrA != arrB) return false;\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    const dateA = a instanceof Date,\n      dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n    const regexpA = a instanceof RegExp,\n      regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n    const keys = Object.keys(a);\n    // if (keys.length !== Object.keys(b).length) return false;\n\n    for (i = 0; i < keys.length; i++) if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    for (i = 0; i < keys.length; i++) if (!objectIncludes(b[keys[i]], a[keys[i]])) return false;\n    return true;\n  } else if (a && b && typeof a === 'function' && typeof b === 'function') {\n    return a.toString() === b.toString();\n  }\n  return false;\n}\n\n/** Selection range */\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/index.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/imask/esm/index.js ***!\n  \\*****************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChangeDetails\": function() { return /* reexport safe */ _core_change_details_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   \"ChunksTailDetails\": function() { return /* reexport safe */ _masked_pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"]; },\n/* harmony export */   \"DIRECTION\": function() { return /* reexport safe */ _core_utils_js__WEBPACK_IMPORTED_MODULE_7__.DIRECTION; },\n/* harmony export */   \"HTMLContenteditableMaskElement\": function() { return /* reexport safe */ _controls_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; },\n/* harmony export */   \"HTMLInputMaskElement\": function() { return /* reexport safe */ _controls_html_input_mask_element_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; },\n/* harmony export */   \"HTMLMaskElement\": function() { return /* reexport safe */ _controls_html_mask_element_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; },\n/* harmony export */   \"InputMask\": function() { return /* reexport safe */ _controls_input_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   \"MaskElement\": function() { return /* reexport safe */ _controls_mask_element_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; },\n/* harmony export */   \"Masked\": function() { return /* reexport safe */ _masked_base_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; },\n/* harmony export */   \"MaskedDate\": function() { return /* reexport safe */ _masked_date_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; },\n/* harmony export */   \"MaskedDynamic\": function() { return /* reexport safe */ _masked_dynamic_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; },\n/* harmony export */   \"MaskedEnum\": function() { return /* reexport safe */ _masked_enum_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; },\n/* harmony export */   \"MaskedFunction\": function() { return /* reexport safe */ _masked_function_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; },\n/* harmony export */   \"MaskedNumber\": function() { return /* reexport safe */ _masked_number_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]; },\n/* harmony export */   \"MaskedPattern\": function() { return /* reexport safe */ _masked_pattern_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"]; },\n/* harmony export */   \"MaskedRange\": function() { return /* reexport safe */ _masked_range_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"]; },\n/* harmony export */   \"MaskedRegExp\": function() { return /* reexport safe */ _masked_regexp_js__WEBPACK_IMPORTED_MODULE_21__[\"default\"]; },\n/* harmony export */   \"PIPE_TYPE\": function() { return /* reexport safe */ _masked_pipe_js__WEBPACK_IMPORTED_MODULE_19__.PIPE_TYPE; },\n/* harmony export */   \"PatternFixedDefinition\": function() { return /* reexport safe */ _masked_pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"]; },\n/* harmony export */   \"PatternInputDefinition\": function() { return /* reexport safe */ _masked_pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"]; },\n/* harmony export */   \"createMask\": function() { return /* reexport safe */ _masked_factory_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; },\n/* harmony export */   \"createPipe\": function() { return /* reexport safe */ _masked_pipe_js__WEBPACK_IMPORTED_MODULE_19__.createPipe; },\n/* harmony export */   \"default\": function() { return /* reexport safe */ _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   \"forceDirection\": function() { return /* reexport safe */ _core_utils_js__WEBPACK_IMPORTED_MODULE_7__.forceDirection; },\n/* harmony export */   \"normalizeOpts\": function() { return /* reexport safe */ _masked_factory_js__WEBPACK_IMPORTED_MODULE_12__.normalizeOpts; },\n/* harmony export */   \"pipe\": function() { return /* reexport safe */ _masked_pipe_js__WEBPACK_IMPORTED_MODULE_19__.pipe; }\n/* harmony export */ });\n/* harmony import */ var _controls_input_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./controls/input.js */ \"./node_modules/imask/esm/controls/input.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _controls_html_contenteditable_mask_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controls/html-contenteditable-mask-element.js */ \"./node_modules/imask/esm/controls/html-contenteditable-mask-element.js\");\n/* harmony import */ var _controls_html_input_mask_element_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controls/html-input-mask-element.js */ \"./node_modules/imask/esm/controls/html-input-mask-element.js\");\n/* harmony import */ var _controls_html_mask_element_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./controls/html-mask-element.js */ \"./node_modules/imask/esm/controls/html-mask-element.js\");\n/* harmony import */ var _controls_mask_element_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./controls/mask-element.js */ \"./node_modules/imask/esm/controls/mask-element.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _masked_base_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./masked/base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _masked_date_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./masked/date.js */ \"./node_modules/imask/esm/masked/date.js\");\n/* harmony import */ var _masked_dynamic_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./masked/dynamic.js */ \"./node_modules/imask/esm/masked/dynamic.js\");\n/* harmony import */ var _masked_enum_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./masked/enum.js */ \"./node_modules/imask/esm/masked/enum.js\");\n/* harmony import */ var _masked_factory_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./masked/factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _masked_function_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./masked/function.js */ \"./node_modules/imask/esm/masked/function.js\");\n/* harmony import */ var _masked_number_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./masked/number.js */ \"./node_modules/imask/esm/masked/number.js\");\n/* harmony import */ var _masked_pattern_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./masked/pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _masked_pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./masked/pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _masked_pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./masked/pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _masked_pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./masked/pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _masked_pipe_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./masked/pipe.js */ \"./node_modules/imask/esm/masked/pipe.js\");\n/* harmony import */ var _masked_range_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./masked/range.js */ \"./node_modules/imask/esm/masked/range.js\");\n/* harmony import */ var _masked_regexp_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./masked/regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n/* harmony import */ var _core_action_details_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./core/action-details.js */ \"./node_modules/imask/esm/core/action-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _masked_pattern_cursor_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./masked/pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntry {\n  globalThis.IMask = _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n} catch {}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/base.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/base.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Masked; }\n/* harmony export */ });\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\n/** Append flags */\n\n/** Extract flags */\n\n// see https://github.com/microsoft/TypeScript/issues/6223\n\n/** Provides common masking stuff */\nclass Masked {\n  /** */\n\n  /** */\n\n  /** Transforms value before mask processing */\n\n  /** Transforms each char before mask processing */\n\n  /** Validates if value is acceptable */\n\n  /** Does additional processing at the end of editing */\n\n  /** Format typed value to string */\n\n  /** Parse string to get typed value */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    this._value = '';\n    this._update({\n      ...Masked.DEFAULTS,\n      ...opts\n    });\n    this._initialized = true;\n  }\n\n  /** Sets and applies new options */\n  updateOptions(opts) {\n    if (!Object.keys(opts).length) return;\n    this.withValueRefresh(this._update.bind(this, opts));\n  }\n\n  /** Sets new options */\n  _update(opts) {\n    Object.assign(this, opts);\n  }\n\n  /** Mask state */\n  get state() {\n    return {\n      _value: this.value,\n      _rawInputValue: this.rawInputValue\n    };\n  }\n  set state(state) {\n    this._value = state._value;\n  }\n\n  /** Resets value */\n  reset() {\n    this._value = '';\n  }\n  get value() {\n    return this._value;\n  }\n  set value(value) {\n    this.resolve(value, {\n      input: true\n    });\n  }\n\n  /** Resolve new value */\n  resolve(value, flags) {\n    if (flags === void 0) {\n      flags = {\n        input: true\n      };\n    }\n    this.reset();\n    this.append(value, flags, '');\n    this.doCommit();\n  }\n  get unmaskedValue() {\n    return this.value;\n  }\n  set unmaskedValue(value) {\n    this.resolve(value, {});\n  }\n  get typedValue() {\n    return this.parse ? this.parse(this.value, this) : this.unmaskedValue;\n  }\n  set typedValue(value) {\n    if (this.format) {\n      this.value = this.format(value, this);\n    } else {\n      this.unmaskedValue = String(value);\n    }\n  }\n\n  /** Value that includes raw user input */\n  get rawInputValue() {\n    return this.extractInput(0, this.value.length, {\n      raw: true\n    });\n  }\n  set rawInputValue(value) {\n    this.resolve(value, {\n      raw: true\n    });\n  }\n  get displayValue() {\n    return this.value;\n  }\n  get isComplete() {\n    return true;\n  }\n  get isFilled() {\n    return this.isComplete;\n  }\n\n  /** Finds nearest input position in direction */\n  nearestInputPos(cursorPos, direction) {\n    return cursorPos;\n  }\n  totalInputPositions(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    return Math.min(this.value.length, toPos - fromPos);\n  }\n\n  /** Extracts value in range considering flags */\n  extractInput(fromPos, toPos, flags) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    return this.value.slice(fromPos, toPos);\n  }\n\n  /** Extracts tail in range */\n  extractTail(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    return new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.extractInput(fromPos, toPos), fromPos);\n  }\n\n  /** Appends tail */\n  appendTail(tail) {\n    if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(tail)) tail = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](String(tail));\n    return tail.appendTo(this);\n  }\n\n  /** Appends char */\n  _appendCharRaw(ch, flags) {\n    if (!ch) return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this._value += ch;\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n      inserted: ch,\n      rawInserted: ch\n    });\n  }\n\n  /** Appends char */\n  _appendChar(ch, flags, checkTail) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const consistentState = this.state;\n    let details;\n    [ch, details] = this.doPrepareChar(ch, flags);\n    details = details.aggregate(this._appendCharRaw(ch, flags));\n    if (details.inserted) {\n      let consistentTail;\n      let appended = this.doValidate(flags) !== false;\n      if (appended && checkTail != null) {\n        // validation ok, check tail\n        const beforeTailState = this.state;\n        if (this.overwrite === true) {\n          consistentTail = checkTail.state;\n          checkTail.unshift(this.value.length - details.tailShift);\n        }\n        let tailDetails = this.appendTail(checkTail);\n        appended = tailDetails.rawInserted === checkTail.toString();\n\n        // not ok, try shift\n        if (!(appended && tailDetails.inserted) && this.overwrite === 'shift') {\n          this.state = beforeTailState;\n          consistentTail = checkTail.state;\n          checkTail.shift();\n          tailDetails = this.appendTail(checkTail);\n          appended = tailDetails.rawInserted === checkTail.toString();\n        }\n\n        // if ok, rollback state after tail\n        if (appended && tailDetails.inserted) this.state = beforeTailState;\n      }\n\n      // revert all if something went wrong\n      if (!appended) {\n        details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n        this.state = consistentState;\n        if (checkTail && consistentTail) checkTail.state = consistentTail;\n      }\n    }\n    return details;\n  }\n\n  /** Appends optional placeholder at the end */\n  _appendPlaceholder() {\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  /** Appends optional eager placeholder at the end */\n  _appendEager() {\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  /** Appends symbols considering flags */\n  append(str, flags, tail) {\n    if (!(0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(str)) throw new Error('value should be string');\n    const checkTail = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(tail) ? new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](String(tail)) : tail;\n    if (flags != null && flags.tail) flags._beforeTailState = this.state;\n    let details;\n    [str, details] = this.doPrepare(str, flags);\n    for (let ci = 0; ci < str.length; ++ci) {\n      const d = this._appendChar(str[ci], flags, checkTail);\n      if (!d.rawInserted && !this.doSkipInvalid(str[ci], flags, checkTail)) break;\n      details.aggregate(d);\n    }\n    if ((this.eager === true || this.eager === 'append') && flags != null && flags.input && str) {\n      details.aggregate(this._appendEager());\n    }\n\n    // append tail but aggregate only tailShift\n    if (checkTail != null) {\n      details.tailShift += this.appendTail(checkTail).tailShift;\n      // TODO it's a good idea to clear state after appending ends\n      // but it causes bugs when one append calls another (when dynamic dispatch set rawInputValue)\n      // this._resetBeforeTailState();\n    }\n\n    return details;\n  }\n  remove(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    this._value = this.value.slice(0, fromPos) + this.value.slice(toPos);\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  /** Calls function and reapplies current value */\n  withValueRefresh(fn) {\n    if (this._refreshing || !this._initialized) return fn();\n    this._refreshing = true;\n    const rawInput = this.rawInputValue;\n    const value = this.value;\n    const ret = fn();\n    this.rawInputValue = rawInput;\n    // append lost trailing chars at the end\n    if (this.value && this.value !== value && value.indexOf(this.value) === 0) {\n      this.append(value.slice(this.value.length), {}, '');\n    }\n    delete this._refreshing;\n    return ret;\n  }\n  runIsolated(fn) {\n    if (this._isolated || !this._initialized) return fn(this);\n    this._isolated = true;\n    const state = this.state;\n    const ret = fn(this);\n    this.state = state;\n    delete this._isolated;\n    return ret;\n  }\n  doSkipInvalid(ch, flags, checkTail) {\n    return Boolean(this.skipInvalid);\n  }\n\n  /** Prepares string before mask processing */\n  doPrepare(str, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    return _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].normalize(this.prepare ? this.prepare(str, this, flags) : str);\n  }\n\n  /** Prepares each char before mask processing */\n  doPrepareChar(str, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    return _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].normalize(this.prepareChar ? this.prepareChar(str, this, flags) : str);\n  }\n\n  /** Validates if value is acceptable */\n  doValidate(flags) {\n    return (!this.validate || this.validate(this.value, this, flags)) && (!this.parent || this.parent.doValidate(flags));\n  }\n\n  /** Does additional processing at the end of editing */\n  doCommit() {\n    if (this.commit) this.commit(this.value, this);\n  }\n  splice(start, deleteCount, inserted, removeDirection, flags) {\n    if (removeDirection === void 0) {\n      removeDirection = _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE;\n    }\n    if (flags === void 0) {\n      flags = {\n        input: true\n      };\n    }\n    const tailPos = start + deleteCount;\n    const tail = this.extractTail(tailPos);\n    const eagerRemove = this.eager === true || this.eager === 'remove';\n    let oldRawValue;\n    if (eagerRemove) {\n      removeDirection = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.forceDirection)(removeDirection);\n      oldRawValue = this.extractInput(0, tailPos, {\n        raw: true\n      });\n    }\n    let startChangePos = start;\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n    // if it is just deletion without insertion\n    if (removeDirection !== _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE) {\n      startChangePos = this.nearestInputPos(start, deleteCount > 1 && start !== 0 && !eagerRemove ? _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE : removeDirection);\n\n      // adjust tailShift if start was aligned\n      details.tailShift = startChangePos - start;\n    }\n    details.aggregate(this.remove(startChangePos));\n    if (eagerRemove && removeDirection !== _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE && oldRawValue === this.rawInputValue) {\n      if (removeDirection === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_LEFT) {\n        let valLength;\n        while (oldRawValue === this.rawInputValue && (valLength = this.value.length)) {\n          details.aggregate(new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            tailShift: -1\n          })).aggregate(this.remove(valLength - 1));\n        }\n      } else if (removeDirection === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_RIGHT) {\n        tail.unshift();\n      }\n    }\n    return details.aggregate(this.append(inserted, flags, tail));\n  }\n  maskEquals(mask) {\n    return this.mask === mask;\n  }\n  typedValueEquals(value) {\n    const tval = this.typedValue;\n    return value === tval || Masked.EMPTY_VALUES.includes(value) && Masked.EMPTY_VALUES.includes(tval) || (this.format ? this.format(value, this) === this.format(this.typedValue, this) : false);\n  }\n}\nMasked.DEFAULTS = {\n  skipInvalid: true\n};\nMasked.EMPTY_VALUES = [undefined, null, ''];\n_core_holder_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Masked = Masked;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/date.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/date.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedDate; }\n/* harmony export */ });\n/* harmony import */ var _pattern_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _range_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./range.js */ \"./node_modules/imask/esm/masked/range.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Date mask */\nclass MaskedDate extends _pattern_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /** Pattern mask for date according to {@link MaskedDate#format} */\n\n  /** Start date */\n\n  /** End date */\n\n  /** */\n\n  /** Format typed value to string */\n\n  /** Parse string to get typed value */\n\n  constructor(opts) {\n    const {\n      mask,\n      pattern,\n      ...patternOpts\n    } = {\n      ...MaskedDate.DEFAULTS,\n      ...opts\n    };\n    super({\n      ...patternOpts,\n      mask: (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_3__.isString)(mask) ? mask : pattern\n    });\n  }\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    const {\n      mask,\n      pattern,\n      blocks,\n      ...patternOpts\n    } = {\n      ...MaskedDate.DEFAULTS,\n      ...opts\n    };\n    const patternBlocks = Object.assign({}, MaskedDate.GET_DEFAULT_BLOCKS());\n    // adjust year block\n    if (opts.min) patternBlocks.Y.from = opts.min.getFullYear();\n    if (opts.max) patternBlocks.Y.to = opts.max.getFullYear();\n    if (opts.min && opts.max && patternBlocks.Y.from === patternBlocks.Y.to) {\n      patternBlocks.m.from = opts.min.getMonth() + 1;\n      patternBlocks.m.to = opts.max.getMonth() + 1;\n      if (patternBlocks.m.from === patternBlocks.m.to) {\n        patternBlocks.d.from = opts.min.getDate();\n        patternBlocks.d.to = opts.max.getDate();\n      }\n    }\n    Object.assign(patternBlocks, this.blocks, blocks);\n\n    // add autofix\n    Object.keys(patternBlocks).forEach(bk => {\n      const b = patternBlocks[bk];\n      if (!('autofix' in b) && 'autofix' in opts) b.autofix = opts.autofix;\n    });\n    super._update({\n      ...patternOpts,\n      mask: (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_3__.isString)(mask) ? mask : pattern,\n      blocks: patternBlocks\n    });\n  }\n  doValidate(flags) {\n    const date = this.date;\n    return super.doValidate(flags) && (!this.isComplete || this.isDateExist(this.value) && date != null && (this.min == null || this.min <= date) && (this.max == null || date <= this.max));\n  }\n\n  /** Checks if date is exists */\n  isDateExist(str) {\n    return this.format(this.parse(str, this), this).indexOf(str) >= 0;\n  }\n\n  /** Parsed Date */\n  get date() {\n    return this.typedValue;\n  }\n  set date(date) {\n    this.typedValue = date;\n  }\n  get typedValue() {\n    return this.isComplete ? super.typedValue : null;\n  }\n  set typedValue(value) {\n    super.typedValue = value;\n  }\n  maskEquals(mask) {\n    return mask === Date || super.maskEquals(mask);\n  }\n}\nMaskedDate.GET_DEFAULT_BLOCKS = () => ({\n  d: {\n    mask: _range_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    from: 1,\n    to: 31,\n    maxLength: 2\n  },\n  m: {\n    mask: _range_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    from: 1,\n    to: 12,\n    maxLength: 2\n  },\n  Y: {\n    mask: _range_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    from: 1900,\n    to: 9999\n  }\n});\nMaskedDate.DEFAULTS = {\n  mask: Date,\n  pattern: 'd{.}`m{.}`Y',\n  format: (date, masked) => {\n    if (!date) return '';\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const year = date.getFullYear();\n    return [day, month, year].join('.');\n  },\n  parse: (str, masked) => {\n    const [day, month, year] = str.split('.').map(Number);\n    return new Date(year, month - 1, day);\n  }\n};\n_core_holder_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MaskedDate = MaskedDate;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/dynamic.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/dynamic.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedDynamic; }\n/* harmony export */ });\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n\n\n\n\n\n\n\n/** Dynamic mask for choosing appropriate mask in run-time */\nclass MaskedDynamic extends _base_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  /** Currently chosen mask */\n\n  /** Compliled {@link Masked} options */\n\n  /** Chooses {@link Masked} depending on input value */\n\n  constructor(opts) {\n    super({\n      ...MaskedDynamic.DEFAULTS,\n      ...opts\n    });\n    this.currentMask = undefined;\n  }\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    super._update(opts);\n    if ('mask' in opts) {\n      // mask could be totally dynamic with only `dispatch` option\n      this.compiledMasks = Array.isArray(opts.mask) ? opts.mask.map(m => (0,_factory_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        overwrite: this._overwrite,\n        eager: this._eager,\n        skipInvalid: this._skipInvalid,\n        ...(0,_factory_js__WEBPACK_IMPORTED_MODULE_2__.normalizeOpts)(m)\n      })) : [];\n\n      // this.currentMask = this.doDispatch(''); // probably not needed but lets see\n    }\n  }\n\n  _appendCharRaw(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const details = this._applyDispatch(ch, flags);\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendChar(ch, this.currentMaskFlags(flags)));\n    }\n    return details;\n  }\n  _applyDispatch(appended, flags, tail) {\n    if (appended === void 0) {\n      appended = '';\n    }\n    if (flags === void 0) {\n      flags = {};\n    }\n    if (tail === void 0) {\n      tail = '';\n    }\n    const prevValueBeforeTail = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._value : this.value;\n    const inputValue = this.rawInputValue;\n    const insertValue = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._rawInputValue : inputValue;\n    const tailValue = inputValue.slice(insertValue.length);\n    const prevMask = this.currentMask;\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    const prevMaskState = prevMask == null ? void 0 : prevMask.state;\n\n    // clone flags to prevent overwriting `_beforeTailState`\n    this.currentMask = this.doDispatch(appended, {\n      ...flags\n    }, tail);\n\n    // restore state after dispatch\n    if (this.currentMask) {\n      if (this.currentMask !== prevMask) {\n        // if mask changed reapply input\n        this.currentMask.reset();\n        if (insertValue) {\n          const d = this.currentMask.append(insertValue, {\n            raw: true\n          });\n          details.tailShift = d.inserted.length - prevValueBeforeTail.length;\n        }\n        if (tailValue) {\n          details.tailShift += this.currentMask.append(tailValue, {\n            raw: true,\n            tail: true\n          }).tailShift;\n        }\n      } else if (prevMaskState) {\n        // Dispatch can do something bad with state, so\n        // restore prev mask state\n        this.currentMask.state = prevMaskState;\n      }\n    }\n    return details;\n  }\n  _appendPlaceholder() {\n    const details = this._applyDispatch();\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendPlaceholder());\n    }\n    return details;\n  }\n  _appendEager() {\n    const details = this._applyDispatch();\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendEager());\n    }\n    return details;\n  }\n  appendTail(tail) {\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    if (tail) details.aggregate(this._applyDispatch('', {}, tail));\n    return details.aggregate(this.currentMask ? this.currentMask.appendTail(tail) : super.appendTail(tail));\n  }\n  currentMaskFlags(flags) {\n    var _flags$_beforeTailSta, _flags$_beforeTailSta2;\n    return {\n      ...flags,\n      _beforeTailState: ((_flags$_beforeTailSta = flags._beforeTailState) == null ? void 0 : _flags$_beforeTailSta.currentMaskRef) === this.currentMask && ((_flags$_beforeTailSta2 = flags._beforeTailState) == null ? void 0 : _flags$_beforeTailSta2.currentMask) || flags._beforeTailState\n    };\n  }\n  doDispatch(appended, flags, tail) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    if (tail === void 0) {\n      tail = '';\n    }\n    return this.dispatch(appended, this, flags, tail);\n  }\n  doValidate(flags) {\n    return super.doValidate(flags) && (!this.currentMask || this.currentMask.doValidate(this.currentMaskFlags(flags)));\n  }\n  doPrepare(str, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    let [s, details] = super.doPrepare(str, flags);\n    if (this.currentMask) {\n      let currentDetails;\n      [s, currentDetails] = super.doPrepare(s, this.currentMaskFlags(flags));\n      details = details.aggregate(currentDetails);\n    }\n    return [s, details];\n  }\n  doPrepareChar(str, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    let [s, details] = super.doPrepareChar(str, flags);\n    if (this.currentMask) {\n      let currentDetails;\n      [s, currentDetails] = super.doPrepareChar(s, this.currentMaskFlags(flags));\n      details = details.aggregate(currentDetails);\n    }\n    return [s, details];\n  }\n  reset() {\n    var _this$currentMask;\n    (_this$currentMask = this.currentMask) == null ? void 0 : _this$currentMask.reset();\n    this.compiledMasks.forEach(m => m.reset());\n  }\n  get value() {\n    return this.currentMask ? this.currentMask.value : '';\n  }\n  set value(value) {\n    super.value = value;\n  }\n  get unmaskedValue() {\n    return this.currentMask ? this.currentMask.unmaskedValue : '';\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n  get typedValue() {\n    return this.currentMask ? this.currentMask.typedValue : '';\n  }\n\n  // probably typedValue should not be used with dynamic\n  set typedValue(value) {\n    let unmaskedValue = String(value);\n\n    // double check it\n    if (this.currentMask) {\n      this.currentMask.typedValue = value;\n      unmaskedValue = this.currentMask.unmaskedValue;\n    }\n    this.unmaskedValue = unmaskedValue;\n  }\n  get displayValue() {\n    return this.currentMask ? this.currentMask.displayValue : '';\n  }\n  get isComplete() {\n    var _this$currentMask2;\n    return Boolean((_this$currentMask2 = this.currentMask) == null ? void 0 : _this$currentMask2.isComplete);\n  }\n  get isFilled() {\n    var _this$currentMask3;\n    return Boolean((_this$currentMask3 = this.currentMask) == null ? void 0 : _this$currentMask3.isFilled);\n  }\n  remove(fromPos, toPos) {\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    if (this.currentMask) {\n      details.aggregate(this.currentMask.remove(fromPos, toPos))\n      // update with dispatch\n      .aggregate(this._applyDispatch());\n    }\n    return details;\n  }\n  get state() {\n    var _this$currentMask4;\n    return {\n      ...super.state,\n      _rawInputValue: this.rawInputValue,\n      compiledMasks: this.compiledMasks.map(m => m.state),\n      currentMaskRef: this.currentMask,\n      currentMask: (_this$currentMask4 = this.currentMask) == null ? void 0 : _this$currentMask4.state\n    };\n  }\n  set state(state) {\n    const {\n      compiledMasks,\n      currentMaskRef,\n      currentMask,\n      ...maskedState\n    } = state;\n    if (compiledMasks) this.compiledMasks.forEach((m, mi) => m.state = compiledMasks[mi]);\n    if (currentMaskRef != null) {\n      this.currentMask = currentMaskRef;\n      this.currentMask.state = currentMask;\n    }\n    super.state = maskedState;\n  }\n  extractInput(fromPos, toPos, flags) {\n    return this.currentMask ? this.currentMask.extractInput(fromPos, toPos, flags) : '';\n  }\n  extractTail(fromPos, toPos) {\n    return this.currentMask ? this.currentMask.extractTail(fromPos, toPos) : super.extractTail(fromPos, toPos);\n  }\n  doCommit() {\n    if (this.currentMask) this.currentMask.doCommit();\n    super.doCommit();\n  }\n  nearestInputPos(cursorPos, direction) {\n    return this.currentMask ? this.currentMask.nearestInputPos(cursorPos, direction) : super.nearestInputPos(cursorPos, direction);\n  }\n  get overwrite() {\n    return this.currentMask ? this.currentMask.overwrite : this._overwrite;\n  }\n  set overwrite(overwrite) {\n    this._overwrite = overwrite;\n  }\n  get eager() {\n    return this.currentMask ? this.currentMask.eager : this._eager;\n  }\n  set eager(eager) {\n    this._eager = eager;\n  }\n  get skipInvalid() {\n    return this.currentMask ? this.currentMask.skipInvalid : this._skipInvalid;\n  }\n  set skipInvalid(skipInvalid) {\n    this._skipInvalid = skipInvalid;\n  }\n  maskEquals(mask) {\n    return Array.isArray(mask) ? this.compiledMasks.every((m, mi) => {\n      if (!mask[mi]) return;\n      const {\n        mask: oldMask,\n        ...restOpts\n      } = mask[mi];\n      return (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.objectIncludes)(m, restOpts) && m.maskEquals(oldMask);\n    }) : super.maskEquals(mask);\n  }\n  typedValueEquals(value) {\n    var _this$currentMask5;\n    return Boolean((_this$currentMask5 = this.currentMask) == null ? void 0 : _this$currentMask5.typedValueEquals(value));\n  }\n}\nMaskedDynamic.DEFAULTS = void 0;\nMaskedDynamic.DEFAULTS = {\n  dispatch: (appended, masked, flags, tail) => {\n    if (!masked.compiledMasks.length) return;\n    const inputValue = masked.rawInputValue;\n\n    // simulate input\n    const inputs = masked.compiledMasks.map((m, index) => {\n      const isCurrent = masked.currentMask === m;\n      const startInputPos = isCurrent ? m.value.length : m.nearestInputPos(m.value.length, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_LEFT);\n      if (m.rawInputValue !== inputValue) {\n        m.reset();\n        m.append(inputValue, {\n          raw: true\n        });\n      } else if (!isCurrent) {\n        m.remove(startInputPos);\n      }\n      m.append(appended, masked.currentMaskFlags(flags));\n      m.appendTail(tail);\n      return {\n        index,\n        weight: m.rawInputValue.length,\n        totalInputPositions: m.totalInputPositions(0, Math.max(startInputPos, m.nearestInputPos(m.value.length, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_LEFT)))\n      };\n    });\n\n    // pop masks with longer values first\n    inputs.sort((i1, i2) => i2.weight - i1.weight || i2.totalInputPositions - i1.totalInputPositions);\n    return masked.compiledMasks[inputs[0].index];\n  }\n};\n_core_holder_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].MaskedDynamic = MaskedDynamic;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/enum.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/enum.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedEnum; }\n/* harmony export */ });\n/* harmony import */ var _pattern_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Pattern which validates enum values */\nclass MaskedEnum extends _pattern_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    const {\n      enum: _enum,\n      ...eopts\n    } = opts;\n    if (_enum) {\n      eopts.mask = '*'.repeat(_enum[0].length);\n      this.enum = _enum;\n    }\n    super._update(eopts);\n  }\n  doValidate(flags) {\n    return this.enum.some(e => e.indexOf(this.unmaskedValue) >= 0) && super.doValidate(flags);\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedEnum = MaskedEnum;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/factory.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/factory.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ createMask; },\n/* harmony export */   \"maskedClass\": function() { return /* binding */ maskedClass; },\n/* harmony export */   \"normalizeOpts\": function() { return /* binding */ normalizeOpts; }\n/* harmony export */ });\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n// TODO can't use overloads here because of https://github.com/microsoft/TypeScript/issues/50754\n// export function maskedClass(mask: string): typeof MaskedPattern;\n// export function maskedClass(mask: DateConstructor): typeof MaskedDate;\n// export function maskedClass(mask: NumberConstructor): typeof MaskedNumber;\n// export function maskedClass(mask: Array<any> | ArrayConstructor): typeof MaskedDynamic;\n// export function maskedClass(mask: MaskedDate): typeof MaskedDate;\n// export function maskedClass(mask: MaskedNumber): typeof MaskedNumber;\n// export function maskedClass(mask: MaskedEnum): typeof MaskedEnum;\n// export function maskedClass(mask: MaskedRange): typeof MaskedRange;\n// export function maskedClass(mask: MaskedRegExp): typeof MaskedRegExp;\n// export function maskedClass(mask: MaskedFunction): typeof MaskedFunction;\n// export function maskedClass(mask: MaskedPattern): typeof MaskedPattern;\n// export function maskedClass(mask: MaskedDynamic): typeof MaskedDynamic;\n// export function maskedClass(mask: Masked): typeof Masked;\n// export function maskedClass(mask: typeof Masked): typeof Masked;\n// export function maskedClass(mask: typeof MaskedDate): typeof MaskedDate;\n// export function maskedClass(mask: typeof MaskedNumber): typeof MaskedNumber;\n// export function maskedClass(mask: typeof MaskedEnum): typeof MaskedEnum;\n// export function maskedClass(mask: typeof MaskedRange): typeof MaskedRange;\n// export function maskedClass(mask: typeof MaskedRegExp): typeof MaskedRegExp;\n// export function maskedClass(mask: typeof MaskedFunction): typeof MaskedFunction;\n// export function maskedClass(mask: typeof MaskedPattern): typeof MaskedPattern;\n// export function maskedClass(mask: typeof MaskedDynamic): typeof MaskedDynamic;\n// export function maskedClass<Mask extends typeof Masked> (mask: Mask): Mask;\n// export function maskedClass(mask: RegExp): typeof MaskedRegExp;\n// export function maskedClass(mask: (value: string, ...args: any[]) => boolean): typeof MaskedFunction;\n/** Get Masked class by mask type */\nfunction maskedClass(mask) /* TODO */{\n  if (mask == null) throw new Error('mask property should be defined');\n  if (mask instanceof RegExp) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedRegExp;\n  if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.isString)(mask)) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedPattern;\n  if (mask === Date) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedDate;\n  if (mask === Number) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedNumber;\n  if (Array.isArray(mask) || mask === Array) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedDynamic;\n  if (_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked && mask.prototype instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return mask;\n  if (_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked && mask instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return mask.constructor;\n  if (mask instanceof Function) return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedFunction;\n  console.warn('Mask not found for mask', mask); // eslint-disable-line no-console\n  return _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked;\n}\nfunction normalizeOpts(opts) {\n  if (!opts) throw new Error('Options in not defined');\n  if (_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) {\n    if (opts.prototype instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return {\n      mask: opts\n    };\n\n    /*\n      handle cases like:\n      1) opts = Masked\n      2) opts = { mask: Masked, ...instanceOpts }\n    */\n    const {\n      mask = undefined,\n      ...instanceOpts\n    } = opts instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked ? {\n      mask: opts\n    } : (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.isObject)(opts) && opts.mask instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked ? opts : {};\n    if (mask) {\n      const _mask = mask.mask;\n      return {\n        ...(0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.pick)(mask, (_, k) => !k.startsWith('_')),\n        mask: mask.constructor,\n        _mask,\n        ...instanceOpts\n      };\n    }\n  }\n  if (!(0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.isObject)(opts)) return {\n    mask: opts\n  };\n  return {\n    ...opts\n  };\n}\n\n// TODO can't use overloads here because of https://github.com/microsoft/TypeScript/issues/50754\n\n// From masked\n// export default function createMask<Opts extends Masked, ReturnMasked=Opts> (opts: Opts): ReturnMasked;\n// // From masked class\n// export default function createMask<Opts extends MaskedOptions<typeof Masked>, ReturnMasked extends Masked=InstanceType<Opts['mask']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedDate>, ReturnMasked extends MaskedDate=MaskedDate<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedNumber>, ReturnMasked extends MaskedNumber=MaskedNumber<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedEnum>, ReturnMasked extends MaskedEnum=MaskedEnum<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedRange>, ReturnMasked extends MaskedRange=MaskedRange<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedRegExp>, ReturnMasked extends MaskedRegExp=MaskedRegExp<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedFunction>, ReturnMasked extends MaskedFunction=MaskedFunction<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedPattern>, ReturnMasked extends MaskedPattern=MaskedPattern<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedDynamic>, ReturnMasked extends MaskedDynamic=MaskedDynamic<Opts['parent']>> (opts: Opts): ReturnMasked;\n// // From mask opts\n// export default function createMask<Opts extends MaskedOptions<Masked>, ReturnMasked=Opts extends MaskedOptions<infer M> ? M : never> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedNumberOptions, ReturnMasked extends MaskedNumber=MaskedNumber<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedDateFactoryOptions, ReturnMasked extends MaskedDate=MaskedDate<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedEnumOptions, ReturnMasked extends MaskedEnum=MaskedEnum<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedRangeOptions, ReturnMasked extends MaskedRange=MaskedRange<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedPatternOptions, ReturnMasked extends MaskedPattern=MaskedPattern<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedDynamicOptions, ReturnMasked extends MaskedDynamic=MaskedDynamic<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<RegExp>, ReturnMasked extends MaskedRegExp=MaskedRegExp<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<Function>, ReturnMasked extends MaskedFunction=MaskedFunction<Opts['parent']>> (opts: Opts): ReturnMasked;\n\n/** Creates new {@link Masked} depending on mask type */\nfunction createMask(opts) {\n  if (_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked && opts instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Masked) return opts;\n  const nOpts = normalizeOpts(opts);\n  const MaskedClass = maskedClass(nOpts.mask);\n  if (!MaskedClass) throw new Error('Masked class is not found for provided mask, appropriate module needs to be imported manually before creating mask.');\n  if (nOpts.mask === MaskedClass) delete nOpts.mask;\n  if (nOpts._mask) {\n    nOpts.mask = nOpts._mask;\n    delete nOpts._mask;\n  }\n  return new MaskedClass(nOpts);\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createMask = createMask;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/function.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/function.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedFunction; }\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n\n\n\n\n\n\n/** Masking by custom Function */\nclass MaskedFunction extends _base_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /** */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    super._update({\n      ...opts,\n      validate: opts.mask\n    });\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedFunction = MaskedFunction;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/number.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/number.js ***!\n  \\*************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedNumber; }\n/* harmony export */ });\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n\n\n\n\n\n\n/**\n  Number mask\n*/\nclass MaskedNumber extends _base_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n\n  /** Format typed value to string */\n\n  /** Parse string to get typed value */\n\n  constructor(opts) {\n    super({\n      ...MaskedNumber.DEFAULTS,\n      ...opts\n    });\n  }\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    super._update(opts);\n    this._updateRegExps();\n  }\n  _updateRegExps() {\n    const start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n    const mid = '\\\\d*';\n    const end = (this.scale ? \"(\" + (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp)(this.radix) + \"\\\\d{0,\" + this.scale + \"})?\" : '') + '$';\n    this._numberRegExp = new RegExp(start + mid + end);\n    this._mapToRadixRegExp = new RegExp(\"[\" + this.mapToRadix.map(_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp).join('') + \"]\", 'g');\n    this._thousandsSeparatorRegExp = new RegExp((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp)(this.thousandsSeparator), 'g');\n  }\n  _removeThousandsSeparators(value) {\n    return value.replace(this._thousandsSeparatorRegExp, '');\n  }\n  _insertThousandsSeparators(value) {\n    // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n    const parts = value.split(this.radix);\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n    return parts.join(this.radix);\n  }\n  doPrepareChar(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    ch = this._removeThousandsSeparators(this.scale && this.mapToRadix.length && (\n    /*\n      radix should be mapped when\n      1) input is done from keyboard = flags.input && flags.raw\n      2) unmasked value is set = !flags.input && !flags.raw\n      and should not be mapped when\n      1) value is set = flags.input && !flags.raw\n      2) raw value is set = !flags.input && flags.raw\n    */\n    flags.input && flags.raw || !flags.input && !flags.raw) ? ch.replace(this._mapToRadixRegExp, this.radix) : ch);\n    const [prepCh, details] = super.doPrepareChar(ch, flags);\n    if (ch && !prepCh) details.skip = true;\n    if (prepCh && !this.allowPositive && !this.value && prepCh !== '-') details.aggregate(this._appendChar('-'));\n    return [prepCh, details];\n  }\n  _separatorsCount(to, extendOnSeparators) {\n    if (extendOnSeparators === void 0) {\n      extendOnSeparators = false;\n    }\n    let count = 0;\n    for (let pos = 0; pos < to; ++pos) {\n      if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n        ++count;\n        if (extendOnSeparators) to += this.thousandsSeparator.length;\n      }\n    }\n    return count;\n  }\n  _separatorsCountFromSlice(slice) {\n    if (slice === void 0) {\n      slice = this._value;\n    }\n    return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n  }\n  extractInput(fromPos, toPos, flags) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    return this._removeThousandsSeparators(super.extractInput(fromPos, toPos, flags));\n  }\n  _appendCharRaw(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    if (!this.thousandsSeparator) return super._appendCharRaw(ch, flags);\n    const prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n    const prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n    this._value = this._removeThousandsSeparators(this.value);\n    const appendDetails = super._appendCharRaw(ch, flags);\n    this._value = this._insertThousandsSeparators(this._value);\n    const beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n    appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n    appendDetails.skip = !appendDetails.rawInserted && ch === this.thousandsSeparator;\n    return appendDetails;\n  }\n  _findSeparatorAround(pos) {\n    if (this.thousandsSeparator) {\n      const searchFrom = pos - this.thousandsSeparator.length + 1;\n      const separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n      if (separatorPos <= pos) return separatorPos;\n    }\n    return -1;\n  }\n  _adjustRangeWithSeparators(from, to) {\n    const separatorAroundFromPos = this._findSeparatorAround(from);\n    if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n    const separatorAroundToPos = this._findSeparatorAround(to);\n    if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n    return [from, to];\n  }\n  remove(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    const valueBeforePos = this.value.slice(0, fromPos);\n    const valueAfterPos = this.value.slice(toPos);\n    const prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n    this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n      tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n    });\n  }\n  nearestInputPos(cursorPos, direction) {\n    if (!this.thousandsSeparator) return cursorPos;\n    switch (direction) {\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.LEFT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_LEFT:\n        {\n          const separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n          if (separatorAtLeftPos >= 0) {\n            const separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n            if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_LEFT) {\n              return separatorAtLeftPos;\n            }\n          }\n          break;\n        }\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.RIGHT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_RIGHT:\n        {\n          const separatorAtRightPos = this._findSeparatorAround(cursorPos);\n          if (separatorAtRightPos >= 0) {\n            return separatorAtRightPos + this.thousandsSeparator.length;\n          }\n        }\n    }\n    return cursorPos;\n  }\n  doValidate(flags) {\n    // validate as string\n    let valid = Boolean(this._removeThousandsSeparators(this.value).match(this._numberRegExp));\n    if (valid) {\n      // validate as number\n      const number = this.number;\n      valid = valid && !isNaN(number) && (\n      // check min bound for negative values\n      this.min == null || this.min >= 0 || this.min <= this.number) && (\n      // check max bound for positive values\n      this.max == null || this.max <= 0 || this.number <= this.max);\n    }\n    return valid && super.doValidate(flags);\n  }\n  doCommit() {\n    if (this.value) {\n      const number = this.number;\n      let validnum = number;\n\n      // check bounds\n      if (this.min != null) validnum = Math.max(validnum, this.min);\n      if (this.max != null) validnum = Math.min(validnum, this.max);\n      if (validnum !== number) this.unmaskedValue = this.format(validnum, this);\n      let formatted = this.value;\n      if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n      if (this.padFractionalZeros && this.scale > 0) formatted = this._padFractionalZeros(formatted);\n      this._value = formatted;\n    }\n    super.doCommit();\n  }\n  _normalizeZeros(value) {\n    const parts = this._removeThousandsSeparators(value).split(this.radix);\n\n    // remove leading zeros\n    parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, (match, sign, zeros, num) => sign + num);\n    // add leading zero\n    if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n    if (parts.length > 1) {\n      parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n      if (!parts[1].length) parts.length = 1; // remove fractional\n    }\n\n    return this._insertThousandsSeparators(parts.join(this.radix));\n  }\n  _padFractionalZeros(value) {\n    if (!value) return value;\n    const parts = value.split(this.radix);\n    if (parts.length < 2) parts.push('');\n    parts[1] = parts[1].padEnd(this.scale, '0');\n    return parts.join(this.radix);\n  }\n  doSkipInvalid(ch, flags, checkTail) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const dropFractional = this.scale === 0 && ch !== this.thousandsSeparator && (ch === this.radix || ch === MaskedNumber.UNMASKED_RADIX || this.mapToRadix.includes(ch));\n    return super.doSkipInvalid(ch, flags, checkTail) && !dropFractional;\n  }\n  get unmaskedValue() {\n    return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, MaskedNumber.UNMASKED_RADIX);\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n  get typedValue() {\n    return this.parse(this.unmaskedValue, this);\n  }\n  set typedValue(n) {\n    this.rawInputValue = this.format(n, this).replace(MaskedNumber.UNMASKED_RADIX, this.radix);\n  }\n\n  /** Parsed Number */\n  get number() {\n    return this.typedValue;\n  }\n  set number(number) {\n    this.typedValue = number;\n  }\n\n  /**\n    Is negative allowed\n  */\n  get allowNegative() {\n    return this.min != null && this.min < 0 || this.max != null && this.max < 0;\n  }\n\n  /**\n    Is positive allowed\n  */\n  get allowPositive() {\n    return this.min != null && this.min > 0 || this.max != null && this.max > 0;\n  }\n  typedValueEquals(value) {\n    // handle  0 -> '' case (typed = 0 even if value = '')\n    // for details see https://github.com/uNmAnNeR/imaskjs/issues/134\n    return (super.typedValueEquals(value) || MaskedNumber.EMPTY_VALUES.includes(value) && MaskedNumber.EMPTY_VALUES.includes(this.typedValue)) && !(value === 0 && this.value === '');\n  }\n}\nMaskedNumber.UNMASKED_RADIX = '.';\nMaskedNumber.EMPTY_VALUES = [..._base_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].EMPTY_VALUES, 0];\nMaskedNumber.DEFAULTS = {\n  mask: Number,\n  radix: ',',\n  thousandsSeparator: '',\n  mapToRadix: [MaskedNumber.UNMASKED_RADIX],\n  min: Number.MIN_SAFE_INTEGER,\n  max: Number.MAX_SAFE_INTEGER,\n  scale: 2,\n  normalizeZeros: true,\n  padFractionalZeros: false,\n  parse: Number,\n  format: n => n.toLocaleString('en-US', {\n    useGrouping: false,\n    maximumFractionDigits: 20\n  })\n};\n_core_holder_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].MaskedNumber = MaskedNumber;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern.js ***!\n  \\**************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedPattern; }\n/* harmony export */ });\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/** Pattern mask */\nclass MaskedPattern extends _base_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  /** */\n\n  /** */\n\n  /** Single char for empty input */\n\n  /** Single char for filled input */\n\n  /** Show placeholder only when needed */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    super({\n      ...MaskedPattern.DEFAULTS,\n      ...opts,\n      definitions: Object.assign({}, _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].DEFAULT_DEFINITIONS, opts == null ? void 0 : opts.definitions)\n    });\n  }\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    opts.definitions = Object.assign({}, this.definitions, opts.definitions);\n    super._update(opts);\n    this._rebuildMask();\n  }\n  _rebuildMask() {\n    const defs = this.definitions;\n    this._blocks = [];\n    this._stops = [];\n    this._maskedBlocks = {};\n    const pattern = this.mask;\n    if (!pattern || !defs) return;\n    let unmaskingBlock = false;\n    let optionalBlock = false;\n    for (let i = 0; i < pattern.length; ++i) {\n      if (this.blocks) {\n        const p = pattern.slice(i);\n        const bNames = Object.keys(this.blocks).filter(bName => p.indexOf(bName) === 0);\n        // order by key length\n        bNames.sort((a, b) => b.length - a.length);\n        // use block name with max length\n        const bName = bNames[0];\n        if (bName) {\n          const maskedBlock = (0,_factory_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n            lazy: this.lazy,\n            eager: this.eager,\n            placeholderChar: this.placeholderChar,\n            displayChar: this.displayChar,\n            overwrite: this.overwrite,\n            ...(0,_factory_js__WEBPACK_IMPORTED_MODULE_4__.normalizeOpts)(this.blocks[bName]),\n            parent: this\n          });\n          if (maskedBlock) {\n            this._blocks.push(maskedBlock);\n\n            // store block index\n            if (!this._maskedBlocks[bName]) this._maskedBlocks[bName] = [];\n            this._maskedBlocks[bName].push(this._blocks.length - 1);\n          }\n          i += bName.length - 1;\n          continue;\n        }\n      }\n      let char = pattern[i];\n      let isInput = (char in defs);\n      if (char === MaskedPattern.STOP_CHAR) {\n        this._stops.push(this._blocks.length);\n        continue;\n      }\n      if (char === '{' || char === '}') {\n        unmaskingBlock = !unmaskingBlock;\n        continue;\n      }\n      if (char === '[' || char === ']') {\n        optionalBlock = !optionalBlock;\n        continue;\n      }\n      if (char === MaskedPattern.ESCAPE_CHAR) {\n        ++i;\n        char = pattern[i];\n        if (!char) break;\n        isInput = false;\n      }\n      const def = isInput ? new _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\n        isOptional: optionalBlock,\n        lazy: this.lazy,\n        eager: this.eager,\n        placeholderChar: this.placeholderChar,\n        displayChar: this.displayChar,\n        ...(0,_factory_js__WEBPACK_IMPORTED_MODULE_4__.normalizeOpts)(defs[char]),\n        parent: this\n      }) : new _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\n        char,\n        eager: this.eager,\n        isUnmasking: unmaskingBlock\n      });\n      this._blocks.push(def);\n    }\n  }\n  get state() {\n    return {\n      ...super.state,\n      _blocks: this._blocks.map(b => b.state)\n    };\n  }\n  set state(state) {\n    const {\n      _blocks,\n      ...maskedState\n    } = state;\n    this._blocks.forEach((b, bi) => b.state = _blocks[bi]);\n    super.state = maskedState;\n  }\n  reset() {\n    super.reset();\n    this._blocks.forEach(b => b.reset());\n  }\n  get isComplete() {\n    return this._blocks.every(b => b.isComplete);\n  }\n  get isFilled() {\n    return this._blocks.every(b => b.isFilled);\n  }\n  get isFixed() {\n    return this._blocks.every(b => b.isFixed);\n  }\n  get isOptional() {\n    return this._blocks.every(b => b.isOptional);\n  }\n  doCommit() {\n    this._blocks.forEach(b => b.doCommit());\n    super.doCommit();\n  }\n  get unmaskedValue() {\n    return this._blocks.reduce((str, b) => str += b.unmaskedValue, '');\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n  get value() {\n    // TODO return _value when not in change?\n    return this._blocks.reduce((str, b) => str += b.value, '');\n  }\n  set value(value) {\n    super.value = value;\n  }\n  get displayValue() {\n    return this._blocks.reduce((str, b) => str += b.displayValue, '');\n  }\n  appendTail(tail) {\n    return super.appendTail(tail).aggregate(this._appendPlaceholder());\n  }\n  _appendEager() {\n    var _this$_mapPosToBlock;\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    let startBlockIndex = (_this$_mapPosToBlock = this._mapPosToBlock(this.value.length)) == null ? void 0 : _this$_mapPosToBlock.index;\n    if (startBlockIndex == null) return details;\n\n    // TODO test if it works for nested pattern masks\n    if (this._blocks[startBlockIndex].isFilled) ++startBlockIndex;\n    for (let bi = startBlockIndex; bi < this._blocks.length; ++bi) {\n      const d = this._blocks[bi]._appendEager();\n      if (!d.inserted) break;\n      details.aggregate(d);\n    }\n    return details;\n  }\n  _appendCharRaw(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const blockIter = this._mapPosToBlock(this.value.length);\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    if (!blockIter) return details;\n    for (let bi = blockIter.index;; ++bi) {\n      var _flags$_beforeTailSta, _flags$_beforeTailSta2;\n      const block = this._blocks[bi];\n      if (!block) break;\n      const blockDetails = block._appendChar(ch, {\n        ...flags,\n        _beforeTailState: (_flags$_beforeTailSta = flags._beforeTailState) == null ? void 0 : (_flags$_beforeTailSta2 = _flags$_beforeTailSta._blocks) == null ? void 0 : _flags$_beforeTailSta2[bi]\n      });\n      const skip = blockDetails.skip;\n      details.aggregate(blockDetails);\n      if (skip || blockDetails.rawInserted) break; // go next char\n    }\n\n    return details;\n  }\n  extractTail(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    const chunkTail = new _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n    if (fromPos === toPos) return chunkTail;\n    this._forEachBlocksInRange(fromPos, toPos, (b, bi, bFromPos, bToPos) => {\n      const blockChunk = b.extractTail(bFromPos, bToPos);\n      blockChunk.stop = this._findStopBefore(bi);\n      blockChunk.from = this._blockStartPos(bi);\n      if (blockChunk instanceof _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]) blockChunk.blockIndex = bi;\n      chunkTail.extend(blockChunk);\n    });\n    return chunkTail;\n  }\n  extractInput(fromPos, toPos, flags) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    if (flags === void 0) {\n      flags = {};\n    }\n    if (fromPos === toPos) return '';\n    let input = '';\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, fromPos, toPos) => {\n      input += b.extractInput(fromPos, toPos, flags);\n    });\n    return input;\n  }\n  _findStopBefore(blockIndex) {\n    let stopBefore;\n    for (let si = 0; si < this._stops.length; ++si) {\n      const stop = this._stops[si];\n      if (stop <= blockIndex) stopBefore = stop;else break;\n    }\n    return stopBefore;\n  }\n\n  /** Appends placeholder depending on laziness */\n  _appendPlaceholder(toBlockIndex) {\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    if (this.lazy && toBlockIndex == null) return details;\n    const startBlockIter = this._mapPosToBlock(this.value.length);\n    if (!startBlockIter) return details;\n    const startBlockIndex = startBlockIter.index;\n    const endBlockIndex = toBlockIndex != null ? toBlockIndex : this._blocks.length;\n    this._blocks.slice(startBlockIndex, endBlockIndex).forEach(b => {\n      if (!b.lazy || toBlockIndex != null) {\n        var _blocks2;\n        const bDetails = b._appendPlaceholder((_blocks2 = b._blocks) == null ? void 0 : _blocks2.length);\n        this._value += bDetails.inserted;\n        details.aggregate(bDetails);\n      }\n    });\n    return details;\n  }\n\n  /** Finds block in pos */\n  _mapPosToBlock(pos) {\n    let accVal = '';\n    for (let bi = 0; bi < this._blocks.length; ++bi) {\n      const block = this._blocks[bi];\n      const blockStartPos = accVal.length;\n      accVal += block.value;\n      if (pos <= accVal.length) {\n        return {\n          index: bi,\n          offset: pos - blockStartPos\n        };\n      }\n    }\n  }\n  _blockStartPos(blockIndex) {\n    return this._blocks.slice(0, blockIndex).reduce((pos, b) => pos += b.value.length, 0);\n  }\n  _forEachBlocksInRange(fromPos, toPos, fn) {\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    const fromBlockIter = this._mapPosToBlock(fromPos);\n    if (fromBlockIter) {\n      const toBlockIter = this._mapPosToBlock(toPos);\n      // process first block\n      const isSameBlock = toBlockIter && fromBlockIter.index === toBlockIter.index;\n      const fromBlockStartPos = fromBlockIter.offset;\n      const fromBlockEndPos = toBlockIter && isSameBlock ? toBlockIter.offset : this._blocks[fromBlockIter.index].value.length;\n      fn(this._blocks[fromBlockIter.index], fromBlockIter.index, fromBlockStartPos, fromBlockEndPos);\n      if (toBlockIter && !isSameBlock) {\n        // process intermediate blocks\n        for (let bi = fromBlockIter.index + 1; bi < toBlockIter.index; ++bi) {\n          fn(this._blocks[bi], bi, 0, this._blocks[bi].value.length);\n        }\n\n        // process last block\n        fn(this._blocks[toBlockIter.index], toBlockIter.index, 0, toBlockIter.offset);\n      }\n    }\n  }\n  remove(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    const removeDetails = super.remove(fromPos, toPos);\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, bFromPos, bToPos) => {\n      removeDetails.aggregate(b.remove(bFromPos, bToPos));\n    });\n    return removeDetails;\n  }\n  nearestInputPos(cursorPos, direction) {\n    if (direction === void 0) {\n      direction = _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE;\n    }\n    if (!this._blocks.length) return 0;\n    const cursor = new _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this, cursorPos);\n    if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE) {\n      // -------------------------------------------------\n      // NONE should only go out from fixed to the right!\n      // -------------------------------------------------\n      if (cursor.pushRightBeforeInput()) return cursor.pos;\n      cursor.popState();\n      if (cursor.pushLeftBeforeInput()) return cursor.pos;\n      return this.value.length;\n    }\n\n    // FORCE is only about a|* otherwise is 0\n    if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.LEFT || direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_LEFT) {\n      // try to break fast when *|a\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.LEFT) {\n        cursor.pushRightBeforeFilled();\n        if (cursor.ok && cursor.pos === cursorPos) return cursorPos;\n        cursor.popState();\n      }\n\n      // forward flow\n      cursor.pushLeftBeforeInput();\n      cursor.pushLeftBeforeRequired();\n      cursor.pushLeftBeforeFilled();\n\n      // backward flow\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.LEFT) {\n        cursor.pushRightBeforeInput();\n        cursor.pushRightBeforeRequired();\n        if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\n        cursor.popState();\n        if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\n        cursor.popState();\n      }\n      if (cursor.ok) return cursor.pos;\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_LEFT) return 0;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      return 0;\n    }\n    if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.RIGHT || direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_RIGHT) {\n      // forward flow\n      cursor.pushRightBeforeInput();\n      cursor.pushRightBeforeRequired();\n      if (cursor.pushRightBeforeFilled()) return cursor.pos;\n      if (direction === _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_RIGHT) return this.value.length;\n\n      // backward flow\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      return this.nearestInputPos(cursorPos, _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.LEFT);\n    }\n    return cursorPos;\n  }\n  totalInputPositions(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    let total = 0;\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, bFromPos, bToPos) => {\n      total += b.totalInputPositions(bFromPos, bToPos);\n    });\n    return total;\n  }\n\n  /** Get block by name */\n  maskedBlock(name) {\n    return this.maskedBlocks(name)[0];\n  }\n\n  /** Get all blocks by name */\n  maskedBlocks(name) {\n    const indices = this._maskedBlocks[name];\n    if (!indices) return [];\n    return indices.map(gi => this._blocks[gi]);\n  }\n}\nMaskedPattern.DEFAULTS = {\n  lazy: true,\n  placeholderChar: '_'\n};\nMaskedPattern.STOP_CHAR = '`';\nMaskedPattern.ESCAPE_CHAR = '\\\\';\nMaskedPattern.InputDefinition = _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\nMaskedPattern.FixedDefinition = _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedPattern = MaskedPattern;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/chunk-tail-details.js ***!\n  \\*********************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChunksTailDetails; }\n/* harmony export */ });\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\nclass ChunksTailDetails {\n  /** */\n\n  constructor(chunks, from) {\n    if (chunks === void 0) {\n      chunks = [];\n    }\n    if (from === void 0) {\n      from = 0;\n    }\n    this.chunks = chunks;\n    this.from = from;\n  }\n  toString() {\n    return this.chunks.map(String).join('');\n  }\n  extend(tailChunk) {\n    if (!String(tailChunk)) return;\n    tailChunk = (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(tailChunk) ? new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](String(tailChunk)) : tailChunk;\n    const lastChunk = this.chunks[this.chunks.length - 1];\n    const extendLast = lastChunk && (\n    // if stops are same or tail has no stop\n    lastChunk.stop === tailChunk.stop || tailChunk.stop == null) &&\n    // if tail chunk goes just after last chunk\n    tailChunk.from === lastChunk.from + lastChunk.toString().length;\n    if (tailChunk instanceof _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {\n      // check the ability to extend previous chunk\n      if (extendLast) {\n        // extend previous chunk\n        lastChunk.extend(tailChunk.toString());\n      } else {\n        // append new chunk\n        this.chunks.push(tailChunk);\n      }\n    } else if (tailChunk instanceof ChunksTailDetails) {\n      if (tailChunk.stop == null) {\n        // unwrap floating chunks to parent, keeping `from` pos\n        let firstTailChunk;\n        while (tailChunk.chunks.length && tailChunk.chunks[0].stop == null) {\n          firstTailChunk = tailChunk.chunks.shift(); // not possible to be `undefined` because length was checked above\n          firstTailChunk.from += tailChunk.from;\n          this.extend(firstTailChunk);\n        }\n      }\n\n      // if tail chunk still has value\n      if (tailChunk.toString()) {\n        // if chunks contains stops, then popup stop to container\n        tailChunk.stop = tailChunk.blockIndex;\n        this.chunks.push(tailChunk);\n      }\n    }\n  }\n  appendTo(masked) {\n    if (!(masked instanceof _core_holder_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].MaskedPattern)) {\n      const tail = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.toString());\n      return tail.appendTo(masked);\n    }\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    for (let ci = 0; ci < this.chunks.length && !details.skip; ++ci) {\n      const chunk = this.chunks[ci];\n      const lastBlockIter = masked._mapPosToBlock(masked.value.length);\n      const stop = chunk.stop;\n      let chunkBlock;\n      if (stop != null && (\n      // if block not found or stop is behind lastBlock\n      !lastBlockIter || lastBlockIter.index <= stop)) {\n        if (chunk instanceof ChunksTailDetails ||\n        // for continuous block also check if stop is exist\n        masked._stops.indexOf(stop) >= 0) {\n          const phDetails = masked._appendPlaceholder(stop);\n          details.aggregate(phDetails);\n        }\n        chunkBlock = chunk instanceof ChunksTailDetails && masked._blocks[stop];\n      }\n      if (chunkBlock) {\n        const tailDetails = chunkBlock.appendTail(chunk);\n        tailDetails.skip = false; // always ignore skip, it will be set on last\n        details.aggregate(tailDetails);\n        masked._value += tailDetails.inserted;\n\n        // get not inserted chars\n        const remainChars = chunk.toString().slice(tailDetails.rawInserted.length);\n        if (remainChars) details.aggregate(masked.append(remainChars, {\n          tail: true\n        }));\n      } else {\n        details.aggregate(masked.append(chunk.toString(), {\n          tail: true\n        }));\n      }\n    }\n    return details;\n  }\n  get state() {\n    return {\n      chunks: this.chunks.map(c => c.state),\n      from: this.from,\n      stop: this.stop,\n      blockIndex: this.blockIndex\n    };\n  }\n  set state(state) {\n    const {\n      chunks,\n      ...props\n    } = state;\n    Object.assign(this, props);\n    this.chunks = chunks.map(cstate => {\n      const chunk = \"chunks\" in cstate ? new ChunksTailDetails() : new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      chunk.state = cstate;\n      return chunk;\n    });\n  }\n  unshift(beforePos) {\n    if (!this.chunks.length || beforePos != null && this.from >= beforePos) return '';\n    const chunkShiftPos = beforePos != null ? beforePos - this.from : beforePos;\n    let ci = 0;\n    while (ci < this.chunks.length) {\n      const chunk = this.chunks[ci];\n      const shiftChar = chunk.unshift(chunkShiftPos);\n      if (chunk.toString()) {\n        // chunk still contains value\n        // but not shifted - means no more available chars to shift\n        if (!shiftChar) break;\n        ++ci;\n      } else {\n        // clean if chunk has no value\n        this.chunks.splice(ci, 1);\n      }\n      if (shiftChar) return shiftChar;\n    }\n    return '';\n  }\n  shift() {\n    if (!this.chunks.length) return '';\n    let ci = this.chunks.length - 1;\n    while (0 <= ci) {\n      const chunk = this.chunks[ci];\n      const shiftChar = chunk.shift();\n      if (chunk.toString()) {\n        // chunk still contains value\n        // but not shifted - means no more available chars to shift\n        if (!shiftChar) break;\n        --ci;\n      } else {\n        // clean if chunk has no value\n        this.chunks.splice(ci, 1);\n      }\n      if (shiftChar) return shiftChar;\n    }\n    return '';\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/cursor.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/cursor.js ***!\n  \\*********************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PatternCursor; }\n/* harmony export */ });\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n\n\nclass PatternCursor {\n  constructor(masked, pos) {\n    this.masked = masked;\n    this._log = [];\n    const {\n      offset,\n      index\n    } = masked._mapPosToBlock(pos) || (pos < 0 ?\n    // first\n    {\n      index: 0,\n      offset: 0\n    } :\n    // last\n    {\n      index: this.masked._blocks.length,\n      offset: 0\n    });\n    this.offset = offset;\n    this.index = index;\n    this.ok = false;\n  }\n  get block() {\n    return this.masked._blocks[this.index];\n  }\n  get pos() {\n    return this.masked._blockStartPos(this.index) + this.offset;\n  }\n  get state() {\n    return {\n      index: this.index,\n      offset: this.offset,\n      ok: this.ok\n    };\n  }\n  set state(s) {\n    Object.assign(this, s);\n  }\n  pushState() {\n    this._log.push(this.state);\n  }\n  popState() {\n    const s = this._log.pop();\n    if (s) this.state = s;\n    return s;\n  }\n  bindBlock() {\n    if (this.block) return;\n    if (this.index < 0) {\n      this.index = 0;\n      this.offset = 0;\n    }\n    if (this.index >= this.masked._blocks.length) {\n      this.index = this.masked._blocks.length - 1;\n      this.offset = this.block.value.length; // TODO this is stupid type error, `block` depends on index that was changed above\n    }\n  }\n\n  _pushLeft(fn) {\n    this.pushState();\n    for (this.bindBlock(); 0 <= this.index; --this.index, this.offset = ((_this$block = this.block) == null ? void 0 : _this$block.value.length) || 0) {\n      var _this$block;\n      if (fn()) return this.ok = true;\n    }\n    return this.ok = false;\n  }\n  _pushRight(fn) {\n    this.pushState();\n    for (this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) {\n      if (fn()) return this.ok = true;\n    }\n    return this.ok = false;\n  }\n  pushLeftBeforeFilled() {\n    return this._pushLeft(() => {\n      if (this.block.isFixed || !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_LEFT);\n      if (this.offset !== 0) return true;\n    });\n  }\n  pushLeftBeforeInput() {\n    // cases:\n    // filled input: 00|\n    // optional empty input: 00[]|\n    // nested block: XX<[]>|\n    return this._pushLeft(() => {\n      if (this.block.isFixed) return;\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.LEFT);\n      return true;\n    });\n  }\n  pushLeftBeforeRequired() {\n    return this._pushLeft(() => {\n      if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.LEFT);\n      return true;\n    });\n  }\n  pushRightBeforeFilled() {\n    return this._pushRight(() => {\n      if (this.block.isFixed || !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.FORCE_RIGHT);\n      if (this.offset !== this.block.value.length) return true;\n    });\n  }\n  pushRightBeforeInput() {\n    return this._pushRight(() => {\n      if (this.block.isFixed) return;\n\n      // const o = this.offset;\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE);\n      // HACK cases like (STILL DOES NOT WORK FOR NESTED)\n      // aa|X\n      // aa<X|[]>X_    - this will not work\n      // if (o && o === this.offset && this.block instanceof PatternInputDefinition) continue;\n      return true;\n    });\n  }\n  pushRightBeforeRequired() {\n    return this._pushRight(() => {\n      if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\n\n      // TODO check |[*]XX_\n      this.offset = this.block.nearestInputPos(this.offset, _core_utils_js__WEBPACK_IMPORTED_MODULE_0__.DIRECTION.NONE);\n      return true;\n    });\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/fixed-definition.js ***!\n  \\*******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PatternFixedDefinition; }\n/* harmony export */ });\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\nclass PatternFixedDefinition {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    Object.assign(this, opts);\n    this._value = '';\n    this.isFixed = true;\n  }\n  get value() {\n    return this._value;\n  }\n  get unmaskedValue() {\n    return this.isUnmasking ? this.value : '';\n  }\n  get rawInputValue() {\n    return this._isRawInput ? this.value : '';\n  }\n  get displayValue() {\n    return this.value;\n  }\n  reset() {\n    this._isRawInput = false;\n    this._value = '';\n  }\n  remove(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this._value.length;\n    }\n    this._value = this._value.slice(0, fromPos) + this._value.slice(toPos);\n    if (!this._value) this._isRawInput = false;\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n  nearestInputPos(cursorPos, direction) {\n    if (direction === void 0) {\n      direction = _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE;\n    }\n    const minPos = 0;\n    const maxPos = this._value.length;\n    switch (direction) {\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.LEFT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_LEFT:\n        return minPos;\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.NONE:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.RIGHT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_1__.DIRECTION.FORCE_RIGHT:\n      default:\n        return maxPos;\n    }\n  }\n  totalInputPositions(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this._value.length;\n    }\n    return this._isRawInput ? toPos - fromPos : 0;\n  }\n  extractInput(fromPos, toPos, flags) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this._value.length;\n    }\n    if (flags === void 0) {\n      flags = {};\n    }\n    return flags.raw && this._isRawInput && this._value.slice(fromPos, toPos) || '';\n  }\n  get isComplete() {\n    return true;\n  }\n  get isFilled() {\n    return Boolean(this._value);\n  }\n  _appendChar(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    if (this.isFilled) return details;\n    const appendEager = this.eager === true || this.eager === 'append';\n    const appended = this.char === ch;\n    const isResolved = appended && (this.isUnmasking || flags.input || flags.raw) && (!flags.raw || !appendEager) && !flags.tail;\n    if (isResolved) details.rawInserted = this.char;\n    this._value = details.inserted = this.char;\n    this._isRawInput = isResolved && (flags.raw || flags.input);\n    return details;\n  }\n  _appendEager() {\n    return this._appendChar(this.char, {\n      tail: true\n    });\n  }\n  _appendPlaceholder() {\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    if (this.isFilled) return details;\n    this._value = details.inserted = this.char;\n    return details;\n  }\n  extractTail() {\n    return new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]('');\n  }\n  appendTail(tail) {\n    if ((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_1__.isString)(tail)) tail = new _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](String(tail));\n    return tail.appendTo(this);\n  }\n  append(str, flags, tail) {\n    const details = this._appendChar(str[0], flags);\n    if (tail != null) {\n      details.tailShift += this.appendTail(tail).tailShift;\n    }\n    return details;\n  }\n  doCommit() {}\n  get state() {\n    return {\n      _value: this._value,\n      _rawInputValue: this.rawInputValue\n    };\n  }\n  set state(state) {\n    this._value = state._value;\n    this._isRawInput = Boolean(state._rawInputValue);\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pattern/input-definition.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pattern/input-definition.js ***!\n  \\*******************************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PatternInputDefinition; }\n/* harmony export */ });\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n\n\n\n\n\nclass PatternInputDefinition {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    const {\n      parent,\n      isOptional,\n      placeholderChar,\n      displayChar,\n      lazy,\n      eager,\n      ...maskOpts\n    } = opts;\n    this.masked = (0,_factory_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(maskOpts);\n    Object.assign(this, {\n      parent,\n      isOptional,\n      placeholderChar,\n      displayChar,\n      lazy,\n      eager\n    });\n  }\n  reset() {\n    this.isFilled = false;\n    this.masked.reset();\n  }\n  remove(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    if (fromPos === 0 && toPos >= 1) {\n      this.isFilled = false;\n      return this.masked.remove(fromPos, toPos);\n    }\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  }\n  get value() {\n    return this.masked.value || (this.isFilled && !this.isOptional ? this.placeholderChar : '');\n  }\n  get unmaskedValue() {\n    return this.masked.unmaskedValue;\n  }\n  get rawInputValue() {\n    return this.masked.rawInputValue;\n  }\n  get displayValue() {\n    return this.masked.value && this.displayChar || this.value;\n  }\n  get isComplete() {\n    return Boolean(this.masked.value) || this.isOptional;\n  }\n  _appendChar(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    if (this.isFilled) return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    const state = this.masked.state;\n    // simulate input\n    const details = this.masked._appendChar(ch, this.currentMaskFlags(flags));\n    if (details.inserted && this.doValidate(flags) === false) {\n      details.inserted = details.rawInserted = '';\n      this.masked.state = state;\n    }\n    if (!details.inserted && !this.isOptional && !this.lazy && !flags.input) {\n      details.inserted = this.placeholderChar;\n    }\n    details.skip = !details.inserted && !this.isOptional;\n    this.isFilled = Boolean(details.inserted);\n    return details;\n  }\n  append(str, flags, tail) {\n    // TODO probably should be done via _appendChar\n    return this.masked.append(str, this.currentMaskFlags(flags), tail);\n  }\n  _appendPlaceholder() {\n    const details = new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    if (this.isFilled || this.isOptional) return details;\n    this.isFilled = true;\n    details.inserted = this.placeholderChar;\n    return details;\n  }\n  _appendEager() {\n    return new _core_change_details_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  }\n  extractTail(fromPos, toPos) {\n    return this.masked.extractTail(fromPos, toPos);\n  }\n  appendTail(tail) {\n    return this.masked.appendTail(tail);\n  }\n  extractInput(fromPos, toPos, flags) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    return this.masked.extractInput(fromPos, toPos, flags);\n  }\n  nearestInputPos(cursorPos, direction) {\n    if (direction === void 0) {\n      direction = _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE;\n    }\n    const minPos = 0;\n    const maxPos = this.value.length;\n    const boundPos = Math.min(Math.max(cursorPos, minPos), maxPos);\n    switch (direction) {\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.LEFT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_LEFT:\n        return this.isComplete ? boundPos : minPos;\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.RIGHT:\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.FORCE_RIGHT:\n        return this.isComplete ? boundPos : maxPos;\n      case _core_utils_js__WEBPACK_IMPORTED_MODULE_2__.DIRECTION.NONE:\n      default:\n        return boundPos;\n    }\n  }\n  totalInputPositions(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    return this.value.slice(fromPos, toPos).length;\n  }\n  doValidate(flags) {\n    return this.masked.doValidate(this.currentMaskFlags(flags)) && (!this.parent || this.parent.doValidate(this.currentMaskFlags(flags)));\n  }\n  doCommit() {\n    this.masked.doCommit();\n  }\n  get state() {\n    return {\n      _value: this.value,\n      _rawInputValue: this.rawInputValue,\n      masked: this.masked.state,\n      isFilled: this.isFilled\n    };\n  }\n  set state(state) {\n    this.masked.state = state.masked;\n    this.isFilled = state.isFilled;\n  }\n  currentMaskFlags(flags) {\n    var _flags$_beforeTailSta;\n    return {\n      ...flags,\n      _beforeTailState: (flags == null ? void 0 : (_flags$_beforeTailSta = flags._beforeTailState) == null ? void 0 : _flags$_beforeTailSta.masked) || (flags == null ? void 0 : flags._beforeTailState)\n    };\n  }\n}\nPatternInputDefinition.DEFAULT_DEFINITIONS = {\n  '0': /\\d/,\n  'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\n  // http://stackoverflow.com/a/22075070\n  '*': /./\n};\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/pipe.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/imask/esm/masked/pipe.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PIPE_TYPE\": function() { return /* binding */ PIPE_TYPE; },\n/* harmony export */   \"createPipe\": function() { return /* binding */ createPipe; },\n/* harmony export */   \"pipe\": function() { return /* binding */ pipe; }\n/* harmony export */ });\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n\n\n\n\n/** Mask pipe source and destination types */\nconst PIPE_TYPE = {\n  MASKED: 'value',\n  UNMASKED: 'unmaskedValue',\n  TYPED: 'typedValue'\n};\n/** Creates new pipe function depending on mask type, source and destination options */\nfunction createPipe(arg, from, to) {\n  if (from === void 0) {\n    from = PIPE_TYPE.MASKED;\n  }\n  if (to === void 0) {\n    to = PIPE_TYPE.MASKED;\n  }\n  const masked = (0,_factory_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arg);\n  return value => masked.runIsolated(m => {\n    m[from] = value;\n    return m[to];\n  });\n}\n\n/** Pipes value through mask depending on mask type, source and destination options */\nfunction pipe(value, mask, from, to) {\n  return createPipe(mask, from, to)(value);\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].PIPE_TYPE = PIPE_TYPE;\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createPipe = createPipe;\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pipe = pipe;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/range.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/range.js ***!\n  \\************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedRange; }\n/* harmony export */ });\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _pattern_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pattern.js */ \"./node_modules/imask/esm/masked/pattern.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _factory_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./factory.js */ \"./node_modules/imask/esm/masked/factory.js\");\n/* harmony import */ var _pattern_chunk_tail_details_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pattern/chunk-tail-details.js */ \"./node_modules/imask/esm/masked/pattern/chunk-tail-details.js\");\n/* harmony import */ var _pattern_cursor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pattern/cursor.js */ \"./node_modules/imask/esm/masked/pattern/cursor.js\");\n/* harmony import */ var _pattern_fixed_definition_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pattern/fixed-definition.js */ \"./node_modules/imask/esm/masked/pattern/fixed-definition.js\");\n/* harmony import */ var _pattern_input_definition_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pattern/input-definition.js */ \"./node_modules/imask/esm/masked/pattern/input-definition.js\");\n/* harmony import */ var _regexp_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./regexp.js */ \"./node_modules/imask/esm/masked/regexp.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n/** Pattern which accepts ranges */\nclass MaskedRange extends _pattern_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  /**\n    Optionally sets max length of pattern.\n    Used when pattern length is longer then `to` param length. Pads zeros at start in this case.\n  */\n\n  /** Min bound */\n\n  /** Max bound */\n\n  /** */\n\n  get _matchFrom() {\n    return this.maxLength - String(this.from).length;\n  }\n  constructor(opts) {\n    super(opts); // mask will be created in _update\n  }\n\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    const {\n      to = this.to || 0,\n      from = this.from || 0,\n      maxLength = this.maxLength || 0,\n      autofix = this.autofix,\n      ...patternOpts\n    } = opts;\n    this.to = to;\n    this.from = from;\n    this.maxLength = Math.max(String(to).length, maxLength);\n    this.autofix = autofix;\n    const fromStr = String(this.from).padStart(this.maxLength, '0');\n    const toStr = String(this.to).padStart(this.maxLength, '0');\n    let sameCharsCount = 0;\n    while (sameCharsCount < toStr.length && toStr[sameCharsCount] === fromStr[sameCharsCount]) ++sameCharsCount;\n    patternOpts.mask = toStr.slice(0, sameCharsCount).replace(/0/g, '\\\\0') + '0'.repeat(this.maxLength - sameCharsCount);\n    super._update(patternOpts);\n  }\n  get isComplete() {\n    return super.isComplete && Boolean(this.value);\n  }\n  boundaries(str) {\n    let minstr = '';\n    let maxstr = '';\n    const [, placeholder, num] = str.match(/^(\\D*)(\\d*)(\\D*)/) || [];\n    if (num) {\n      minstr = '0'.repeat(placeholder.length) + num;\n      maxstr = '9'.repeat(placeholder.length) + num;\n    }\n    minstr = minstr.padEnd(this.maxLength, '0');\n    maxstr = maxstr.padEnd(this.maxLength, '9');\n    return [minstr, maxstr];\n  }\n  doPrepareChar(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    let details;\n    [ch, details] = super.doPrepareChar(ch.replace(/\\D/g, ''), flags);\n    if (!this.autofix || !ch) return [ch, details];\n    const fromStr = String(this.from).padStart(this.maxLength, '0');\n    const toStr = String(this.to).padStart(this.maxLength, '0');\n    const nextVal = this.value + ch;\n    if (nextVal.length > this.maxLength) return ['', details];\n    const [minstr, maxstr] = this.boundaries(nextVal);\n    if (Number(maxstr) < this.from) return [fromStr[nextVal.length - 1], details];\n    if (Number(minstr) > this.to) {\n      if (this.autofix === 'pad' && nextVal.length < this.maxLength) {\n        return ['', details.aggregate(this.append(fromStr[nextVal.length - 1] + ch, flags))];\n      }\n      return [toStr[nextVal.length - 1], details];\n    }\n    return [ch, details];\n  }\n  doValidate(flags) {\n    const str = this.value;\n    const firstNonZero = str.search(/[^0]/);\n    if (firstNonZero === -1 && str.length <= this._matchFrom) return true;\n    const [minstr, maxstr] = this.boundaries(str);\n    return this.from <= Number(maxstr) && Number(minstr) <= this.to && super.doValidate(flags);\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].MaskedRange = MaskedRange;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/imask/esm/masked/regexp.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/imask/esm/masked/regexp.js ***!\n  \\*************************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MaskedRegExp; }\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./node_modules/imask/esm/masked/base.js\");\n/* harmony import */ var _core_holder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/holder.js */ \"./node_modules/imask/esm/core/holder.js\");\n/* harmony import */ var _core_change_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/change-details.js */ \"./node_modules/imask/esm/core/change-details.js\");\n/* harmony import */ var _core_continuous_tail_details_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/continuous-tail-details.js */ \"./node_modules/imask/esm/core/continuous-tail-details.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/utils.js */ \"./node_modules/imask/esm/core/utils.js\");\n\n\n\n\n\n\n/** Masking by RegExp */\nclass MaskedRegExp extends _base_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /** */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    const mask = opts.mask;\n    if (mask) opts.validate = value => value.search(mask) >= 0;\n    super._update(opts);\n  }\n}\n_core_holder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MaskedRegExp = MaskedRegExp;\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/nouislider/dist/nouislider.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/nouislider/dist/nouislider.js ***!\n  \\****************************************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n(function (global, factory) {\n     true ? factory(exports) :\n    0;\n})(this, (function (exports) { 'use strict';\n\n    exports.PipsMode = void 0;\n    (function (PipsMode) {\n        PipsMode[\"Range\"] = \"range\";\n        PipsMode[\"Steps\"] = \"steps\";\n        PipsMode[\"Positions\"] = \"positions\";\n        PipsMode[\"Count\"] = \"count\";\n        PipsMode[\"Values\"] = \"values\";\n    })(exports.PipsMode || (exports.PipsMode = {}));\n    exports.PipsType = void 0;\n    (function (PipsType) {\n        PipsType[PipsType[\"None\"] = -1] = \"None\";\n        PipsType[PipsType[\"NoValue\"] = 0] = \"NoValue\";\n        PipsType[PipsType[\"LargeValue\"] = 1] = \"LargeValue\";\n        PipsType[PipsType[\"SmallValue\"] = 2] = \"SmallValue\";\n    })(exports.PipsType || (exports.PipsType = {}));\n    //region Helper Methods\n    function isValidFormatter(entry) {\n        return isValidPartialFormatter(entry) && typeof entry.from === \"function\";\n    }\n    function isValidPartialFormatter(entry) {\n        // partial formatters only need a to function and not a from function\n        return typeof entry === \"object\" && typeof entry.to === \"function\";\n    }\n    function removeElement(el) {\n        el.parentElement.removeChild(el);\n    }\n    function isSet(value) {\n        return value !== null && value !== undefined;\n    }\n    // Bindable version\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n    // Removes duplicates from an array.\n    function unique(array) {\n        return array.filter(function (a) {\n            return !this[a] ? (this[a] = true) : false;\n        }, {});\n    }\n    // Round a value to the closest 'to'.\n    function closest(value, to) {\n        return Math.round(value / to) * to;\n    }\n    // Current position of an element relative to the document.\n    function offset(elem, orientation) {\n        var rect = elem.getBoundingClientRect();\n        var doc = elem.ownerDocument;\n        var docElem = doc.documentElement;\n        var pageOffset = getPageOffset(doc);\n        // getBoundingClientRect contains left scroll in Chrome on Android.\n        // I haven't found a feature detection that proves this. Worst case\n        // scenario on mis-match: the 'tap' feature on horizontal sliders breaks.\n        if (/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)) {\n            pageOffset.x = 0;\n        }\n        return orientation ? rect.top + pageOffset.y - docElem.clientTop : rect.left + pageOffset.x - docElem.clientLeft;\n    }\n    // Checks whether a value is numerical.\n    function isNumeric(a) {\n        return typeof a === \"number\" && !isNaN(a) && isFinite(a);\n    }\n    // Sets a class and removes it after [duration] ms.\n    function addClassFor(element, className, duration) {\n        if (duration > 0) {\n            addClass(element, className);\n            setTimeout(function () {\n                removeClass(element, className);\n            }, duration);\n        }\n    }\n    // Limits a value to 0 - 100\n    function limit(a) {\n        return Math.max(Math.min(a, 100), 0);\n    }\n    // Wraps a variable as an array, if it isn't one yet.\n    // Note that an input array is returned by reference!\n    function asArray(a) {\n        return Array.isArray(a) ? a : [a];\n    }\n    // Counts decimals\n    function countDecimals(numStr) {\n        numStr = String(numStr);\n        var pieces = numStr.split(\".\");\n        return pieces.length > 1 ? pieces[1].length : 0;\n    }\n    // http://youmightnotneedjquery.com/#add_class\n    function addClass(el, className) {\n        if (el.classList && !/\\s/.test(className)) {\n            el.classList.add(className);\n        }\n        else {\n            el.className += \" \" + className;\n        }\n    }\n    // http://youmightnotneedjquery.com/#remove_class\n    function removeClass(el, className) {\n        if (el.classList && !/\\s/.test(className)) {\n            el.classList.remove(className);\n        }\n        else {\n            el.className = el.className.replace(new RegExp(\"(^|\\\\b)\" + className.split(\" \").join(\"|\") + \"(\\\\b|$)\", \"gi\"), \" \");\n        }\n    }\n    // https://plainjs.com/javascript/attributes/adding-removing-and-testing-for-classes-9/\n    function hasClass(el, className) {\n        return el.classList ? el.classList.contains(className) : new RegExp(\"\\\\b\" + className + \"\\\\b\").test(el.className);\n    }\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollY#Notes\n    function getPageOffset(doc) {\n        var supportPageOffset = window.pageXOffset !== undefined;\n        var isCSS1Compat = (doc.compatMode || \"\") === \"CSS1Compat\";\n        var x = supportPageOffset\n            ? window.pageXOffset\n            : isCSS1Compat\n                ? doc.documentElement.scrollLeft\n                : doc.body.scrollLeft;\n        var y = supportPageOffset\n            ? window.pageYOffset\n            : isCSS1Compat\n                ? doc.documentElement.scrollTop\n                : doc.body.scrollTop;\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    // we provide a function to compute constants instead\n    // of accessing window.* as soon as the module needs it\n    // so that we do not compute anything if not needed\n    function getActions() {\n        // Determine the events to bind. IE11 implements pointerEvents without\n        // a prefix, which breaks compatibility with the IE10 implementation.\n        return window.navigator.pointerEnabled\n            ? {\n                start: \"pointerdown\",\n                move: \"pointermove\",\n                end: \"pointerup\",\n            }\n            : window.navigator.msPointerEnabled\n                ? {\n                    start: \"MSPointerDown\",\n                    move: \"MSPointerMove\",\n                    end: \"MSPointerUp\",\n                }\n                : {\n                    start: \"mousedown touchstart\",\n                    move: \"mousemove touchmove\",\n                    end: \"mouseup touchend\",\n                };\n    }\n    // https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n    // Issue #785\n    function getSupportsPassive() {\n        var supportsPassive = false;\n        /* eslint-disable */\n        try {\n            var opts = Object.defineProperty({}, \"passive\", {\n                get: function () {\n                    supportsPassive = true;\n                },\n            });\n            // @ts-ignore\n            window.addEventListener(\"test\", null, opts);\n        }\n        catch (e) { }\n        /* eslint-enable */\n        return supportsPassive;\n    }\n    function getSupportsTouchActionNone() {\n        return window.CSS && CSS.supports && CSS.supports(\"touch-action\", \"none\");\n    }\n    //endregion\n    //region Range Calculation\n    // Determine the size of a sub-range in relation to a full range.\n    function subRangeRatio(pa, pb) {\n        return 100 / (pb - pa);\n    }\n    // (percentage) How many percent is this value of this range?\n    function fromPercentage(range, value, startRange) {\n        return (value * 100) / (range[startRange + 1] - range[startRange]);\n    }\n    // (percentage) Where is this value on this range?\n    function toPercentage(range, value) {\n        return fromPercentage(range, range[0] < 0 ? value + Math.abs(range[0]) : value - range[0], 0);\n    }\n    // (value) How much is this percentage on this range?\n    function isPercentage(range, value) {\n        return (value * (range[1] - range[0])) / 100 + range[0];\n    }\n    function getJ(value, arr) {\n        var j = 1;\n        while (value >= arr[j]) {\n            j += 1;\n        }\n        return j;\n    }\n    // (percentage) Input a value, find where, on a scale of 0-100, it applies.\n    function toStepping(xVal, xPct, value) {\n        if (value >= xVal.slice(-1)[0]) {\n            return 100;\n        }\n        var j = getJ(value, xVal);\n        var va = xVal[j - 1];\n        var vb = xVal[j];\n        var pa = xPct[j - 1];\n        var pb = xPct[j];\n        return pa + toPercentage([va, vb], value) / subRangeRatio(pa, pb);\n    }\n    // (value) Input a percentage, find where it is on the specified range.\n    function fromStepping(xVal, xPct, value) {\n        // There is no range group that fits 100\n        if (value >= 100) {\n            return xVal.slice(-1)[0];\n        }\n        var j = getJ(value, xPct);\n        var va = xVal[j - 1];\n        var vb = xVal[j];\n        var pa = xPct[j - 1];\n        var pb = xPct[j];\n        return isPercentage([va, vb], (value - pa) * subRangeRatio(pa, pb));\n    }\n    // (percentage) Get the step that applies at a certain value.\n    function getStep(xPct, xSteps, snap, value) {\n        if (value === 100) {\n            return value;\n        }\n        var j = getJ(value, xPct);\n        var a = xPct[j - 1];\n        var b = xPct[j];\n        // If 'snap' is set, steps are used as fixed points on the slider.\n        if (snap) {\n            // Find the closest position, a or b.\n            if (value - a > (b - a) / 2) {\n                return b;\n            }\n            return a;\n        }\n        if (!xSteps[j - 1]) {\n            return value;\n        }\n        return xPct[j - 1] + closest(value - xPct[j - 1], xSteps[j - 1]);\n    }\n    //endregion\n    //region Spectrum\n    var Spectrum = /** @class */ (function () {\n        function Spectrum(entry, snap, singleStep) {\n            this.xPct = [];\n            this.xVal = [];\n            this.xSteps = [];\n            this.xNumSteps = [];\n            this.xHighestCompleteStep = [];\n            this.xSteps = [singleStep || false];\n            this.xNumSteps = [false];\n            this.snap = snap;\n            var index;\n            var ordered = [];\n            // Map the object keys to an array.\n            Object.keys(entry).forEach(function (index) {\n                ordered.push([asArray(entry[index]), index]);\n            });\n            // Sort all entries by value (numeric sort).\n            ordered.sort(function (a, b) {\n                return a[0][0] - b[0][0];\n            });\n            // Convert all entries to subranges.\n            for (index = 0; index < ordered.length; index++) {\n                this.handleEntryPoint(ordered[index][1], ordered[index][0]);\n            }\n            // Store the actual step values.\n            // xSteps is sorted in the same order as xPct and xVal.\n            this.xNumSteps = this.xSteps.slice(0);\n            // Convert all numeric steps to the percentage of the subrange they represent.\n            for (index = 0; index < this.xNumSteps.length; index++) {\n                this.handleStepPoint(index, this.xNumSteps[index]);\n            }\n        }\n        Spectrum.prototype.getDistance = function (value) {\n            var distances = [];\n            for (var index = 0; index < this.xNumSteps.length - 1; index++) {\n                distances[index] = fromPercentage(this.xVal, value, index);\n            }\n            return distances;\n        };\n        // Calculate the percentual distance over the whole scale of ranges.\n        // direction: 0 = backwards / 1 = forwards\n        Spectrum.prototype.getAbsoluteDistance = function (value, distances, direction) {\n            var xPct_index = 0;\n            // Calculate range where to start calculation\n            if (value < this.xPct[this.xPct.length - 1]) {\n                while (value > this.xPct[xPct_index + 1]) {\n                    xPct_index++;\n                }\n            }\n            else if (value === this.xPct[this.xPct.length - 1]) {\n                xPct_index = this.xPct.length - 2;\n            }\n            // If looking backwards and the value is exactly at a range separator then look one range further\n            if (!direction && value === this.xPct[xPct_index + 1]) {\n                xPct_index++;\n            }\n            if (distances === null) {\n                distances = [];\n            }\n            var start_factor;\n            var rest_factor = 1;\n            var rest_rel_distance = distances[xPct_index];\n            var range_pct = 0;\n            var rel_range_distance = 0;\n            var abs_distance_counter = 0;\n            var range_counter = 0;\n            // Calculate what part of the start range the value is\n            if (direction) {\n                start_factor = (value - this.xPct[xPct_index]) / (this.xPct[xPct_index + 1] - this.xPct[xPct_index]);\n            }\n            else {\n                start_factor = (this.xPct[xPct_index + 1] - value) / (this.xPct[xPct_index + 1] - this.xPct[xPct_index]);\n            }\n            // Do until the complete distance across ranges is calculated\n            while (rest_rel_distance > 0) {\n                // Calculate the percentage of total range\n                range_pct = this.xPct[xPct_index + 1 + range_counter] - this.xPct[xPct_index + range_counter];\n                // Detect if the margin, padding or limit is larger then the current range and calculate\n                if (distances[xPct_index + range_counter] * rest_factor + 100 - start_factor * 100 > 100) {\n                    // If larger then take the percentual distance of the whole range\n                    rel_range_distance = range_pct * start_factor;\n                    // Rest factor of relative percentual distance still to be calculated\n                    rest_factor = (rest_rel_distance - 100 * start_factor) / distances[xPct_index + range_counter];\n                    // Set start factor to 1 as for next range it does not apply.\n                    start_factor = 1;\n                }\n                else {\n                    // If smaller or equal then take the percentual distance of the calculate percentual part of that range\n                    rel_range_distance = ((distances[xPct_index + range_counter] * range_pct) / 100) * rest_factor;\n                    // No rest left as the rest fits in current range\n                    rest_factor = 0;\n                }\n                if (direction) {\n                    abs_distance_counter = abs_distance_counter - rel_range_distance;\n                    // Limit range to first range when distance becomes outside of minimum range\n                    if (this.xPct.length + range_counter >= 1) {\n                        range_counter--;\n                    }\n                }\n                else {\n                    abs_distance_counter = abs_distance_counter + rel_range_distance;\n                    // Limit range to last range when distance becomes outside of maximum range\n                    if (this.xPct.length - range_counter >= 1) {\n                        range_counter++;\n                    }\n                }\n                // Rest of relative percentual distance still to be calculated\n                rest_rel_distance = distances[xPct_index + range_counter] * rest_factor;\n            }\n            return value + abs_distance_counter;\n        };\n        Spectrum.prototype.toStepping = function (value) {\n            value = toStepping(this.xVal, this.xPct, value);\n            return value;\n        };\n        Spectrum.prototype.fromStepping = function (value) {\n            return fromStepping(this.xVal, this.xPct, value);\n        };\n        Spectrum.prototype.getStep = function (value) {\n            value = getStep(this.xPct, this.xSteps, this.snap, value);\n            return value;\n        };\n        Spectrum.prototype.getDefaultStep = function (value, isDown, size) {\n            var j = getJ(value, this.xPct);\n            // When at the top or stepping down, look at the previous sub-range\n            if (value === 100 || (isDown && value === this.xPct[j - 1])) {\n                j = Math.max(j - 1, 1);\n            }\n            return (this.xVal[j] - this.xVal[j - 1]) / size;\n        };\n        Spectrum.prototype.getNearbySteps = function (value) {\n            var j = getJ(value, this.xPct);\n            return {\n                stepBefore: {\n                    startValue: this.xVal[j - 2],\n                    step: this.xNumSteps[j - 2],\n                    highestStep: this.xHighestCompleteStep[j - 2],\n                },\n                thisStep: {\n                    startValue: this.xVal[j - 1],\n                    step: this.xNumSteps[j - 1],\n                    highestStep: this.xHighestCompleteStep[j - 1],\n                },\n                stepAfter: {\n                    startValue: this.xVal[j],\n                    step: this.xNumSteps[j],\n                    highestStep: this.xHighestCompleteStep[j],\n                },\n            };\n        };\n        Spectrum.prototype.countStepDecimals = function () {\n            var stepDecimals = this.xNumSteps.map(countDecimals);\n            return Math.max.apply(null, stepDecimals);\n        };\n        Spectrum.prototype.hasNoSize = function () {\n            return this.xVal[0] === this.xVal[this.xVal.length - 1];\n        };\n        // Outside testing\n        Spectrum.prototype.convert = function (value) {\n            return this.getStep(this.toStepping(value));\n        };\n        Spectrum.prototype.handleEntryPoint = function (index, value) {\n            var percentage;\n            // Covert min/max syntax to 0 and 100.\n            if (index === \"min\") {\n                percentage = 0;\n            }\n            else if (index === \"max\") {\n                percentage = 100;\n            }\n            else {\n                percentage = parseFloat(index);\n            }\n            // Check for correct input.\n            if (!isNumeric(percentage) || !isNumeric(value[0])) {\n                throw new Error(\"noUiSlider: 'range' value isn't numeric.\");\n            }\n            // Store values.\n            this.xPct.push(percentage);\n            this.xVal.push(value[0]);\n            var value1 = Number(value[1]);\n            // NaN will evaluate to false too, but to keep\n            // logging clear, set step explicitly. Make sure\n            // not to override the 'step' setting with false.\n            if (!percentage) {\n                if (!isNaN(value1)) {\n                    this.xSteps[0] = value1;\n                }\n            }\n            else {\n                this.xSteps.push(isNaN(value1) ? false : value1);\n            }\n            this.xHighestCompleteStep.push(0);\n        };\n        Spectrum.prototype.handleStepPoint = function (i, n) {\n            // Ignore 'false' stepping.\n            if (!n) {\n                return;\n            }\n            // Step over zero-length ranges (#948);\n            if (this.xVal[i] === this.xVal[i + 1]) {\n                this.xSteps[i] = this.xHighestCompleteStep[i] = this.xVal[i];\n                return;\n            }\n            // Factor to range ratio\n            this.xSteps[i] =\n                fromPercentage([this.xVal[i], this.xVal[i + 1]], n, 0) / subRangeRatio(this.xPct[i], this.xPct[i + 1]);\n            var totalSteps = (this.xVal[i + 1] - this.xVal[i]) / this.xNumSteps[i];\n            var highestStep = Math.ceil(Number(totalSteps.toFixed(3)) - 1);\n            var step = this.xVal[i] + this.xNumSteps[i] * highestStep;\n            this.xHighestCompleteStep[i] = step;\n        };\n        return Spectrum;\n    }());\n    //endregion\n    //region Options\n    /*\tEvery input option is tested and parsed. This will prevent\n        endless validation in internal methods. These tests are\n        structured with an item for every option available. An\n        option can be marked as required by setting the 'r' flag.\n        The testing function is provided with three arguments:\n            - The provided value for the option;\n            - A reference to the options object;\n            - The name for the option;\n\n        The testing function returns false when an error is detected,\n        or true when everything is OK. It can also modify the option\n        object, to make sure all values can be correctly looped elsewhere. */\n    //region Defaults\n    var defaultFormatter = {\n        to: function (value) {\n            return value === undefined ? \"\" : value.toFixed(2);\n        },\n        from: Number,\n    };\n    var cssClasses = {\n        target: \"target\",\n        base: \"base\",\n        origin: \"origin\",\n        handle: \"handle\",\n        handleLower: \"handle-lower\",\n        handleUpper: \"handle-upper\",\n        touchArea: \"touch-area\",\n        horizontal: \"horizontal\",\n        vertical: \"vertical\",\n        background: \"background\",\n        connect: \"connect\",\n        connects: \"connects\",\n        ltr: \"ltr\",\n        rtl: \"rtl\",\n        textDirectionLtr: \"txt-dir-ltr\",\n        textDirectionRtl: \"txt-dir-rtl\",\n        draggable: \"draggable\",\n        drag: \"state-drag\",\n        tap: \"state-tap\",\n        active: \"active\",\n        tooltip: \"tooltip\",\n        pips: \"pips\",\n        pipsHorizontal: \"pips-horizontal\",\n        pipsVertical: \"pips-vertical\",\n        marker: \"marker\",\n        markerHorizontal: \"marker-horizontal\",\n        markerVertical: \"marker-vertical\",\n        markerNormal: \"marker-normal\",\n        markerLarge: \"marker-large\",\n        markerSub: \"marker-sub\",\n        value: \"value\",\n        valueHorizontal: \"value-horizontal\",\n        valueVertical: \"value-vertical\",\n        valueNormal: \"value-normal\",\n        valueLarge: \"value-large\",\n        valueSub: \"value-sub\",\n    };\n    // Namespaces of internal event listeners\n    var INTERNAL_EVENT_NS = {\n        tooltips: \".__tooltips\",\n        aria: \".__aria\",\n    };\n    //endregion\n    function testStep(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'step' is not numeric.\");\n        }\n        // The step option can still be used to set stepping\n        // for linear sliders. Overwritten if set in 'range'.\n        parsed.singleStep = entry;\n    }\n    function testKeyboardPageMultiplier(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'keyboardPageMultiplier' is not numeric.\");\n        }\n        parsed.keyboardPageMultiplier = entry;\n    }\n    function testKeyboardMultiplier(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'keyboardMultiplier' is not numeric.\");\n        }\n        parsed.keyboardMultiplier = entry;\n    }\n    function testKeyboardDefaultStep(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'keyboardDefaultStep' is not numeric.\");\n        }\n        parsed.keyboardDefaultStep = entry;\n    }\n    function testRange(parsed, entry) {\n        // Filter incorrect input.\n        if (typeof entry !== \"object\" || Array.isArray(entry)) {\n            throw new Error(\"noUiSlider: 'range' is not an object.\");\n        }\n        // Catch missing start or end.\n        if (entry.min === undefined || entry.max === undefined) {\n            throw new Error(\"noUiSlider: Missing 'min' or 'max' in 'range'.\");\n        }\n        parsed.spectrum = new Spectrum(entry, parsed.snap || false, parsed.singleStep);\n    }\n    function testStart(parsed, entry) {\n        entry = asArray(entry);\n        // Validate input. Values aren't tested, as the public .val method\n        // will always provide a valid location.\n        if (!Array.isArray(entry) || !entry.length) {\n            throw new Error(\"noUiSlider: 'start' option is incorrect.\");\n        }\n        // Store the number of handles.\n        parsed.handles = entry.length;\n        // When the slider is initialized, the .val method will\n        // be called with the start options.\n        parsed.start = entry;\n    }\n    function testSnap(parsed, entry) {\n        if (typeof entry !== \"boolean\") {\n            throw new Error(\"noUiSlider: 'snap' option must be a boolean.\");\n        }\n        // Enforce 100% stepping within subranges.\n        parsed.snap = entry;\n    }\n    function testAnimate(parsed, entry) {\n        if (typeof entry !== \"boolean\") {\n            throw new Error(\"noUiSlider: 'animate' option must be a boolean.\");\n        }\n        // Enforce 100% stepping within subranges.\n        parsed.animate = entry;\n    }\n    function testAnimationDuration(parsed, entry) {\n        if (typeof entry !== \"number\") {\n            throw new Error(\"noUiSlider: 'animationDuration' option must be a number.\");\n        }\n        parsed.animationDuration = entry;\n    }\n    function testConnect(parsed, entry) {\n        var connect = [false];\n        var i;\n        // Map legacy options\n        if (entry === \"lower\") {\n            entry = [true, false];\n        }\n        else if (entry === \"upper\") {\n            entry = [false, true];\n        }\n        // Handle boolean options\n        if (entry === true || entry === false) {\n            for (i = 1; i < parsed.handles; i++) {\n                connect.push(entry);\n            }\n            connect.push(false);\n        }\n        // Reject invalid input\n        else if (!Array.isArray(entry) || !entry.length || entry.length !== parsed.handles + 1) {\n            throw new Error(\"noUiSlider: 'connect' option doesn't match handle count.\");\n        }\n        else {\n            connect = entry;\n        }\n        parsed.connect = connect;\n    }\n    function testOrientation(parsed, entry) {\n        // Set orientation to an a numerical value for easy\n        // array selection.\n        switch (entry) {\n            case \"horizontal\":\n                parsed.ort = 0;\n                break;\n            case \"vertical\":\n                parsed.ort = 1;\n                break;\n            default:\n                throw new Error(\"noUiSlider: 'orientation' option is invalid.\");\n        }\n    }\n    function testMargin(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'margin' option must be numeric.\");\n        }\n        // Issue #582\n        if (entry === 0) {\n            return;\n        }\n        parsed.margin = parsed.spectrum.getDistance(entry);\n    }\n    function testLimit(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'limit' option must be numeric.\");\n        }\n        parsed.limit = parsed.spectrum.getDistance(entry);\n        if (!parsed.limit || parsed.handles < 2) {\n            throw new Error(\"noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.\");\n        }\n    }\n    function testPadding(parsed, entry) {\n        var index;\n        if (!isNumeric(entry) && !Array.isArray(entry)) {\n            throw new Error(\"noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.\");\n        }\n        if (Array.isArray(entry) && !(entry.length === 2 || isNumeric(entry[0]) || isNumeric(entry[1]))) {\n            throw new Error(\"noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.\");\n        }\n        if (entry === 0) {\n            return;\n        }\n        if (!Array.isArray(entry)) {\n            entry = [entry, entry];\n        }\n        // 'getDistance' returns false for invalid values.\n        parsed.padding = [parsed.spectrum.getDistance(entry[0]), parsed.spectrum.getDistance(entry[1])];\n        for (index = 0; index < parsed.spectrum.xNumSteps.length - 1; index++) {\n            // last \"range\" can't contain step size as it is purely an endpoint.\n            if (parsed.padding[0][index] < 0 || parsed.padding[1][index] < 0) {\n                throw new Error(\"noUiSlider: 'padding' option must be a positive number(s).\");\n            }\n        }\n        var totalPadding = entry[0] + entry[1];\n        var firstValue = parsed.spectrum.xVal[0];\n        var lastValue = parsed.spectrum.xVal[parsed.spectrum.xVal.length - 1];\n        if (totalPadding / (lastValue - firstValue) > 1) {\n            throw new Error(\"noUiSlider: 'padding' option must not exceed 100% of the range.\");\n        }\n    }\n    function testDirection(parsed, entry) {\n        // Set direction as a numerical value for easy parsing.\n        // Invert connection for RTL sliders, so that the proper\n        // handles get the connect/background classes.\n        switch (entry) {\n            case \"ltr\":\n                parsed.dir = 0;\n                break;\n            case \"rtl\":\n                parsed.dir = 1;\n                break;\n            default:\n                throw new Error(\"noUiSlider: 'direction' option was not recognized.\");\n        }\n    }\n    function testBehaviour(parsed, entry) {\n        // Make sure the input is a string.\n        if (typeof entry !== \"string\") {\n            throw new Error(\"noUiSlider: 'behaviour' must be a string containing options.\");\n        }\n        // Check if the string contains any keywords.\n        // None are required.\n        var tap = entry.indexOf(\"tap\") >= 0;\n        var drag = entry.indexOf(\"drag\") >= 0;\n        var fixed = entry.indexOf(\"fixed\") >= 0;\n        var snap = entry.indexOf(\"snap\") >= 0;\n        var hover = entry.indexOf(\"hover\") >= 0;\n        var unconstrained = entry.indexOf(\"unconstrained\") >= 0;\n        var dragAll = entry.indexOf(\"drag-all\") >= 0;\n        var smoothSteps = entry.indexOf(\"smooth-steps\") >= 0;\n        if (fixed) {\n            if (parsed.handles !== 2) {\n                throw new Error(\"noUiSlider: 'fixed' behaviour must be used with 2 handles\");\n            }\n            // Use margin to enforce fixed state\n            testMargin(parsed, parsed.start[1] - parsed.start[0]);\n        }\n        if (unconstrained && (parsed.margin || parsed.limit)) {\n            throw new Error(\"noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit\");\n        }\n        parsed.events = {\n            tap: tap || snap,\n            drag: drag,\n            dragAll: dragAll,\n            smoothSteps: smoothSteps,\n            fixed: fixed,\n            snap: snap,\n            hover: hover,\n            unconstrained: unconstrained,\n        };\n    }\n    function testTooltips(parsed, entry) {\n        if (entry === false) {\n            return;\n        }\n        if (entry === true || isValidPartialFormatter(entry)) {\n            parsed.tooltips = [];\n            for (var i = 0; i < parsed.handles; i++) {\n                parsed.tooltips.push(entry);\n            }\n        }\n        else {\n            entry = asArray(entry);\n            if (entry.length !== parsed.handles) {\n                throw new Error(\"noUiSlider: must pass a formatter for all handles.\");\n            }\n            entry.forEach(function (formatter) {\n                if (typeof formatter !== \"boolean\" && !isValidPartialFormatter(formatter)) {\n                    throw new Error(\"noUiSlider: 'tooltips' must be passed a formatter or 'false'.\");\n                }\n            });\n            parsed.tooltips = entry;\n        }\n    }\n    function testHandleAttributes(parsed, entry) {\n        if (entry.length !== parsed.handles) {\n            throw new Error(\"noUiSlider: must pass a attributes for all handles.\");\n        }\n        parsed.handleAttributes = entry;\n    }\n    function testAriaFormat(parsed, entry) {\n        if (!isValidPartialFormatter(entry)) {\n            throw new Error(\"noUiSlider: 'ariaFormat' requires 'to' method.\");\n        }\n        parsed.ariaFormat = entry;\n    }\n    function testFormat(parsed, entry) {\n        if (!isValidFormatter(entry)) {\n            throw new Error(\"noUiSlider: 'format' requires 'to' and 'from' methods.\");\n        }\n        parsed.format = entry;\n    }\n    function testKeyboardSupport(parsed, entry) {\n        if (typeof entry !== \"boolean\") {\n            throw new Error(\"noUiSlider: 'keyboardSupport' option must be a boolean.\");\n        }\n        parsed.keyboardSupport = entry;\n    }\n    function testDocumentElement(parsed, entry) {\n        // This is an advanced option. Passed values are used without validation.\n        parsed.documentElement = entry;\n    }\n    function testCssPrefix(parsed, entry) {\n        if (typeof entry !== \"string\" && entry !== false) {\n            throw new Error(\"noUiSlider: 'cssPrefix' must be a string or `false`.\");\n        }\n        parsed.cssPrefix = entry;\n    }\n    function testCssClasses(parsed, entry) {\n        if (typeof entry !== \"object\") {\n            throw new Error(\"noUiSlider: 'cssClasses' must be an object.\");\n        }\n        if (typeof parsed.cssPrefix === \"string\") {\n            parsed.cssClasses = {};\n            Object.keys(entry).forEach(function (key) {\n                parsed.cssClasses[key] = parsed.cssPrefix + entry[key];\n            });\n        }\n        else {\n            parsed.cssClasses = entry;\n        }\n    }\n    // Test all developer settings and parse to assumption-safe values.\n    function testOptions(options) {\n        // To prove a fix for #537, freeze options here.\n        // If the object is modified, an error will be thrown.\n        // Object.freeze(options);\n        var parsed = {\n            margin: null,\n            limit: null,\n            padding: null,\n            animate: true,\n            animationDuration: 300,\n            ariaFormat: defaultFormatter,\n            format: defaultFormatter,\n        };\n        // Tests are executed in the order they are presented here.\n        var tests = {\n            step: { r: false, t: testStep },\n            keyboardPageMultiplier: { r: false, t: testKeyboardPageMultiplier },\n            keyboardMultiplier: { r: false, t: testKeyboardMultiplier },\n            keyboardDefaultStep: { r: false, t: testKeyboardDefaultStep },\n            start: { r: true, t: testStart },\n            connect: { r: true, t: testConnect },\n            direction: { r: true, t: testDirection },\n            snap: { r: false, t: testSnap },\n            animate: { r: false, t: testAnimate },\n            animationDuration: { r: false, t: testAnimationDuration },\n            range: { r: true, t: testRange },\n            orientation: { r: false, t: testOrientation },\n            margin: { r: false, t: testMargin },\n            limit: { r: false, t: testLimit },\n            padding: { r: false, t: testPadding },\n            behaviour: { r: true, t: testBehaviour },\n            ariaFormat: { r: false, t: testAriaFormat },\n            format: { r: false, t: testFormat },\n            tooltips: { r: false, t: testTooltips },\n            keyboardSupport: { r: true, t: testKeyboardSupport },\n            documentElement: { r: false, t: testDocumentElement },\n            cssPrefix: { r: true, t: testCssPrefix },\n            cssClasses: { r: true, t: testCssClasses },\n            handleAttributes: { r: false, t: testHandleAttributes },\n        };\n        var defaults = {\n            connect: false,\n            direction: \"ltr\",\n            behaviour: \"tap\",\n            orientation: \"horizontal\",\n            keyboardSupport: true,\n            cssPrefix: \"noUi-\",\n            cssClasses: cssClasses,\n            keyboardPageMultiplier: 5,\n            keyboardMultiplier: 1,\n            keyboardDefaultStep: 10,\n        };\n        // AriaFormat defaults to regular format, if any.\n        if (options.format && !options.ariaFormat) {\n            options.ariaFormat = options.format;\n        }\n        // Run all options through a testing mechanism to ensure correct\n        // input. It should be noted that options might get modified to\n        // be handled properly. E.g. wrapping integers in arrays.\n        Object.keys(tests).forEach(function (name) {\n            // If the option isn't set, but it is required, throw an error.\n            if (!isSet(options[name]) && defaults[name] === undefined) {\n                if (tests[name].r) {\n                    throw new Error(\"noUiSlider: '\" + name + \"' is required.\");\n                }\n                return;\n            }\n            tests[name].t(parsed, !isSet(options[name]) ? defaults[name] : options[name]);\n        });\n        // Forward pips options\n        parsed.pips = options.pips;\n        // All recent browsers accept unprefixed transform.\n        // We need -ms- for IE9 and -webkit- for older Android;\n        // Assume use of -webkit- if unprefixed and -ms- are not supported.\n        // https://caniuse.com/#feat=transforms2d\n        var d = document.createElement(\"div\");\n        var msPrefix = d.style.msTransform !== undefined;\n        var noPrefix = d.style.transform !== undefined;\n        parsed.transformRule = noPrefix ? \"transform\" : msPrefix ? \"msTransform\" : \"webkitTransform\";\n        // Pips don't move, so we can place them using left/top.\n        var styles = [\n            [\"left\", \"top\"],\n            [\"right\", \"bottom\"],\n        ];\n        parsed.style = styles[parsed.dir][parsed.ort];\n        return parsed;\n    }\n    //endregion\n    function scope(target, options, originalOptions) {\n        var actions = getActions();\n        var supportsTouchActionNone = getSupportsTouchActionNone();\n        var supportsPassive = supportsTouchActionNone && getSupportsPassive();\n        // All variables local to 'scope' are prefixed with 'scope_'\n        // Slider DOM Nodes\n        var scope_Target = target;\n        var scope_Base;\n        var scope_Handles;\n        var scope_Connects;\n        var scope_Pips;\n        var scope_Tooltips;\n        // Slider state values\n        var scope_Spectrum = options.spectrum;\n        var scope_Values = [];\n        var scope_Locations = [];\n        var scope_HandleNumbers = [];\n        var scope_ActiveHandlesCount = 0;\n        var scope_Events = {};\n        // Document Nodes\n        var scope_Document = target.ownerDocument;\n        var scope_DocumentElement = options.documentElement || scope_Document.documentElement;\n        var scope_Body = scope_Document.body;\n        // For horizontal sliders in standard ltr documents,\n        // make .noUi-origin overflow to the left so the document doesn't scroll.\n        var scope_DirOffset = scope_Document.dir === \"rtl\" || options.ort === 1 ? 0 : 100;\n        // Creates a node, adds it to target, returns the new node.\n        function addNodeTo(addTarget, className) {\n            var div = scope_Document.createElement(\"div\");\n            if (className) {\n                addClass(div, className);\n            }\n            addTarget.appendChild(div);\n            return div;\n        }\n        // Append a origin to the base\n        function addOrigin(base, handleNumber) {\n            var origin = addNodeTo(base, options.cssClasses.origin);\n            var handle = addNodeTo(origin, options.cssClasses.handle);\n            addNodeTo(handle, options.cssClasses.touchArea);\n            handle.setAttribute(\"data-handle\", String(handleNumber));\n            if (options.keyboardSupport) {\n                // https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex\n                // 0 = focusable and reachable\n                handle.setAttribute(\"tabindex\", \"0\");\n                handle.addEventListener(\"keydown\", function (event) {\n                    return eventKeydown(event, handleNumber);\n                });\n            }\n            if (options.handleAttributes !== undefined) {\n                var attributes_1 = options.handleAttributes[handleNumber];\n                Object.keys(attributes_1).forEach(function (attribute) {\n                    handle.setAttribute(attribute, attributes_1[attribute]);\n                });\n            }\n            handle.setAttribute(\"role\", \"slider\");\n            handle.setAttribute(\"aria-orientation\", options.ort ? \"vertical\" : \"horizontal\");\n            if (handleNumber === 0) {\n                addClass(handle, options.cssClasses.handleLower);\n            }\n            else if (handleNumber === options.handles - 1) {\n                addClass(handle, options.cssClasses.handleUpper);\n            }\n            origin.handle = handle;\n            return origin;\n        }\n        // Insert nodes for connect elements\n        function addConnect(base, add) {\n            if (!add) {\n                return false;\n            }\n            return addNodeTo(base, options.cssClasses.connect);\n        }\n        // Add handles to the slider base.\n        function addElements(connectOptions, base) {\n            var connectBase = addNodeTo(base, options.cssClasses.connects);\n            scope_Handles = [];\n            scope_Connects = [];\n            scope_Connects.push(addConnect(connectBase, connectOptions[0]));\n            // [::::O====O====O====]\n            // connectOptions = [0, 1, 1, 1]\n            for (var i = 0; i < options.handles; i++) {\n                // Keep a list of all added handles.\n                scope_Handles.push(addOrigin(base, i));\n                scope_HandleNumbers[i] = i;\n                scope_Connects.push(addConnect(connectBase, connectOptions[i + 1]));\n            }\n        }\n        // Initialize a single slider.\n        function addSlider(addTarget) {\n            // Apply classes and data to the target.\n            addClass(addTarget, options.cssClasses.target);\n            if (options.dir === 0) {\n                addClass(addTarget, options.cssClasses.ltr);\n            }\n            else {\n                addClass(addTarget, options.cssClasses.rtl);\n            }\n            if (options.ort === 0) {\n                addClass(addTarget, options.cssClasses.horizontal);\n            }\n            else {\n                addClass(addTarget, options.cssClasses.vertical);\n            }\n            var textDirection = getComputedStyle(addTarget).direction;\n            if (textDirection === \"rtl\") {\n                addClass(addTarget, options.cssClasses.textDirectionRtl);\n            }\n            else {\n                addClass(addTarget, options.cssClasses.textDirectionLtr);\n            }\n            return addNodeTo(addTarget, options.cssClasses.base);\n        }\n        function addTooltip(handle, handleNumber) {\n            if (!options.tooltips || !options.tooltips[handleNumber]) {\n                return false;\n            }\n            return addNodeTo(handle.firstChild, options.cssClasses.tooltip);\n        }\n        function isSliderDisabled() {\n            return scope_Target.hasAttribute(\"disabled\");\n        }\n        // Disable the slider dragging if any handle is disabled\n        function isHandleDisabled(handleNumber) {\n            var handleOrigin = scope_Handles[handleNumber];\n            return handleOrigin.hasAttribute(\"disabled\");\n        }\n        function disable(handleNumber) {\n            if (handleNumber !== null && handleNumber !== undefined) {\n                scope_Handles[handleNumber].setAttribute(\"disabled\", \"\");\n                scope_Handles[handleNumber].handle.removeAttribute(\"tabindex\");\n            }\n            else {\n                scope_Target.setAttribute(\"disabled\", \"\");\n                scope_Handles.forEach(function (handle) {\n                    handle.handle.removeAttribute(\"tabindex\");\n                });\n            }\n        }\n        function enable(handleNumber) {\n            if (handleNumber !== null && handleNumber !== undefined) {\n                scope_Handles[handleNumber].removeAttribute(\"disabled\");\n                scope_Handles[handleNumber].handle.setAttribute(\"tabindex\", \"0\");\n            }\n            else {\n                scope_Target.removeAttribute(\"disabled\");\n                scope_Handles.forEach(function (handle) {\n                    handle.removeAttribute(\"disabled\");\n                    handle.handle.setAttribute(\"tabindex\", \"0\");\n                });\n            }\n        }\n        function removeTooltips() {\n            if (scope_Tooltips) {\n                removeEvent(\"update\" + INTERNAL_EVENT_NS.tooltips);\n                scope_Tooltips.forEach(function (tooltip) {\n                    if (tooltip) {\n                        removeElement(tooltip);\n                    }\n                });\n                scope_Tooltips = null;\n            }\n        }\n        // The tooltips option is a shorthand for using the 'update' event.\n        function tooltips() {\n            removeTooltips();\n            // Tooltips are added with options.tooltips in original order.\n            scope_Tooltips = scope_Handles.map(addTooltip);\n            bindEvent(\"update\" + INTERNAL_EVENT_NS.tooltips, function (values, handleNumber, unencoded) {\n                if (!scope_Tooltips || !options.tooltips) {\n                    return;\n                }\n                if (scope_Tooltips[handleNumber] === false) {\n                    return;\n                }\n                var formattedValue = values[handleNumber];\n                if (options.tooltips[handleNumber] !== true) {\n                    formattedValue = options.tooltips[handleNumber].to(unencoded[handleNumber]);\n                }\n                scope_Tooltips[handleNumber].innerHTML = formattedValue;\n            });\n        }\n        function aria() {\n            removeEvent(\"update\" + INTERNAL_EVENT_NS.aria);\n            bindEvent(\"update\" + INTERNAL_EVENT_NS.aria, function (values, handleNumber, unencoded, tap, positions) {\n                // Update Aria Values for all handles, as a change in one changes min and max values for the next.\n                scope_HandleNumbers.forEach(function (index) {\n                    var handle = scope_Handles[index];\n                    var min = checkHandlePosition(scope_Locations, index, 0, true, true, true);\n                    var max = checkHandlePosition(scope_Locations, index, 100, true, true, true);\n                    var now = positions[index];\n                    // Formatted value for display\n                    var text = String(options.ariaFormat.to(unencoded[index]));\n                    // Map to slider range values\n                    min = scope_Spectrum.fromStepping(min).toFixed(1);\n                    max = scope_Spectrum.fromStepping(max).toFixed(1);\n                    now = scope_Spectrum.fromStepping(now).toFixed(1);\n                    handle.children[0].setAttribute(\"aria-valuemin\", min);\n                    handle.children[0].setAttribute(\"aria-valuemax\", max);\n                    handle.children[0].setAttribute(\"aria-valuenow\", now);\n                    handle.children[0].setAttribute(\"aria-valuetext\", text);\n                });\n            });\n        }\n        function getGroup(pips) {\n            // Use the range.\n            if (pips.mode === exports.PipsMode.Range || pips.mode === exports.PipsMode.Steps) {\n                return scope_Spectrum.xVal;\n            }\n            if (pips.mode === exports.PipsMode.Count) {\n                if (pips.values < 2) {\n                    throw new Error(\"noUiSlider: 'values' (>= 2) required for mode 'count'.\");\n                }\n                // Divide 0 - 100 in 'count' parts.\n                var interval = pips.values - 1;\n                var spread = 100 / interval;\n                var values = [];\n                // List these parts and have them handled as 'positions'.\n                while (interval--) {\n                    values[interval] = interval * spread;\n                }\n                values.push(100);\n                return mapToRange(values, pips.stepped);\n            }\n            if (pips.mode === exports.PipsMode.Positions) {\n                // Map all percentages to on-range values.\n                return mapToRange(pips.values, pips.stepped);\n            }\n            if (pips.mode === exports.PipsMode.Values) {\n                // If the value must be stepped, it needs to be converted to a percentage first.\n                if (pips.stepped) {\n                    return pips.values.map(function (value) {\n                        // Convert to percentage, apply step, return to value.\n                        return scope_Spectrum.fromStepping(scope_Spectrum.getStep(scope_Spectrum.toStepping(value)));\n                    });\n                }\n                // Otherwise, we can simply use the values.\n                return pips.values;\n            }\n            return []; // pips.mode = never\n        }\n        function mapToRange(values, stepped) {\n            return values.map(function (value) {\n                return scope_Spectrum.fromStepping(stepped ? scope_Spectrum.getStep(value) : value);\n            });\n        }\n        function generateSpread(pips) {\n            function safeIncrement(value, increment) {\n                // Avoid floating point variance by dropping the smallest decimal places.\n                return Number((value + increment).toFixed(7));\n            }\n            var group = getGroup(pips);\n            var indexes = {};\n            var firstInRange = scope_Spectrum.xVal[0];\n            var lastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length - 1];\n            var ignoreFirst = false;\n            var ignoreLast = false;\n            var prevPct = 0;\n            // Create a copy of the group, sort it and filter away all duplicates.\n            group = unique(group.slice().sort(function (a, b) {\n                return a - b;\n            }));\n            // Make sure the range starts with the first element.\n            if (group[0] !== firstInRange) {\n                group.unshift(firstInRange);\n                ignoreFirst = true;\n            }\n            // Likewise for the last one.\n            if (group[group.length - 1] !== lastInRange) {\n                group.push(lastInRange);\n                ignoreLast = true;\n            }\n            group.forEach(function (current, index) {\n                // Get the current step and the lower + upper positions.\n                var step;\n                var i;\n                var q;\n                var low = current;\n                var high = group[index + 1];\n                var newPct;\n                var pctDifference;\n                var pctPos;\n                var type;\n                var steps;\n                var realSteps;\n                var stepSize;\n                var isSteps = pips.mode === exports.PipsMode.Steps;\n                // When using 'steps' mode, use the provided steps.\n                // Otherwise, we'll step on to the next subrange.\n                if (isSteps) {\n                    step = scope_Spectrum.xNumSteps[index];\n                }\n                // Default to a 'full' step.\n                if (!step) {\n                    step = high - low;\n                }\n                // If high is undefined we are at the last subrange. Make sure it iterates once (#1088)\n                if (high === undefined) {\n                    high = low;\n                }\n                // Make sure step isn't 0, which would cause an infinite loop (#654)\n                step = Math.max(step, 0.0000001);\n                // Find all steps in the subrange.\n                for (i = low; i <= high; i = safeIncrement(i, step)) {\n                    // Get the percentage value for the current step,\n                    // calculate the size for the subrange.\n                    newPct = scope_Spectrum.toStepping(i);\n                    pctDifference = newPct - prevPct;\n                    steps = pctDifference / (pips.density || 1);\n                    realSteps = Math.round(steps);\n                    // This ratio represents the amount of percentage-space a point indicates.\n                    // For a density 1 the points/percentage = 1. For density 2, that percentage needs to be re-divided.\n                    // Round the percentage offset to an even number, then divide by two\n                    // to spread the offset on both sides of the range.\n                    stepSize = pctDifference / realSteps;\n                    // Divide all points evenly, adding the correct number to this subrange.\n                    // Run up to <= so that 100% gets a point, event if ignoreLast is set.\n                    for (q = 1; q <= realSteps; q += 1) {\n                        // The ratio between the rounded value and the actual size might be ~1% off.\n                        // Correct the percentage offset by the number of points\n                        // per subrange. density = 1 will result in 100 points on the\n                        // full range, 2 for 50, 4 for 25, etc.\n                        pctPos = prevPct + q * stepSize;\n                        indexes[pctPos.toFixed(5)] = [scope_Spectrum.fromStepping(pctPos), 0];\n                    }\n                    // Determine the point type.\n                    type = group.indexOf(i) > -1 ? exports.PipsType.LargeValue : isSteps ? exports.PipsType.SmallValue : exports.PipsType.NoValue;\n                    // Enforce the 'ignoreFirst' option by overwriting the type for 0.\n                    if (!index && ignoreFirst && i !== high) {\n                        type = 0;\n                    }\n                    if (!(i === high && ignoreLast)) {\n                        // Mark the 'type' of this point. 0 = plain, 1 = real value, 2 = step value.\n                        indexes[newPct.toFixed(5)] = [i, type];\n                    }\n                    // Update the percentage count.\n                    prevPct = newPct;\n                }\n            });\n            return indexes;\n        }\n        function addMarking(spread, filterFunc, formatter) {\n            var _a, _b;\n            var element = scope_Document.createElement(\"div\");\n            var valueSizeClasses = (_a = {},\n                _a[exports.PipsType.None] = \"\",\n                _a[exports.PipsType.NoValue] = options.cssClasses.valueNormal,\n                _a[exports.PipsType.LargeValue] = options.cssClasses.valueLarge,\n                _a[exports.PipsType.SmallValue] = options.cssClasses.valueSub,\n                _a);\n            var markerSizeClasses = (_b = {},\n                _b[exports.PipsType.None] = \"\",\n                _b[exports.PipsType.NoValue] = options.cssClasses.markerNormal,\n                _b[exports.PipsType.LargeValue] = options.cssClasses.markerLarge,\n                _b[exports.PipsType.SmallValue] = options.cssClasses.markerSub,\n                _b);\n            var valueOrientationClasses = [options.cssClasses.valueHorizontal, options.cssClasses.valueVertical];\n            var markerOrientationClasses = [options.cssClasses.markerHorizontal, options.cssClasses.markerVertical];\n            addClass(element, options.cssClasses.pips);\n            addClass(element, options.ort === 0 ? options.cssClasses.pipsHorizontal : options.cssClasses.pipsVertical);\n            function getClasses(type, source) {\n                var a = source === options.cssClasses.value;\n                var orientationClasses = a ? valueOrientationClasses : markerOrientationClasses;\n                var sizeClasses = a ? valueSizeClasses : markerSizeClasses;\n                return source + \" \" + orientationClasses[options.ort] + \" \" + sizeClasses[type];\n            }\n            function addSpread(offset, value, type) {\n                // Apply the filter function, if it is set.\n                type = filterFunc ? filterFunc(value, type) : type;\n                if (type === exports.PipsType.None) {\n                    return;\n                }\n                // Add a marker for every point\n                var node = addNodeTo(element, false);\n                node.className = getClasses(type, options.cssClasses.marker);\n                node.style[options.style] = offset + \"%\";\n                // Values are only appended for points marked '1' or '2'.\n                if (type > exports.PipsType.NoValue) {\n                    node = addNodeTo(element, false);\n                    node.className = getClasses(type, options.cssClasses.value);\n                    node.setAttribute(\"data-value\", String(value));\n                    node.style[options.style] = offset + \"%\";\n                    node.innerHTML = String(formatter.to(value));\n                }\n            }\n            // Append all points.\n            Object.keys(spread).forEach(function (offset) {\n                addSpread(offset, spread[offset][0], spread[offset][1]);\n            });\n            return element;\n        }\n        function removePips() {\n            if (scope_Pips) {\n                removeElement(scope_Pips);\n                scope_Pips = null;\n            }\n        }\n        function pips(pips) {\n            // Fix #669\n            removePips();\n            var spread = generateSpread(pips);\n            var filter = pips.filter;\n            var format = pips.format || {\n                to: function (value) {\n                    return String(Math.round(value));\n                },\n            };\n            scope_Pips = scope_Target.appendChild(addMarking(spread, filter, format));\n            return scope_Pips;\n        }\n        // Shorthand for base dimensions.\n        function baseSize() {\n            var rect = scope_Base.getBoundingClientRect();\n            var alt = (\"offset\" + [\"Width\", \"Height\"][options.ort]);\n            return options.ort === 0 ? rect.width || scope_Base[alt] : rect.height || scope_Base[alt];\n        }\n        // Handler for attaching events trough a proxy.\n        function attachEvent(events, element, callback, data) {\n            // This function can be used to 'filter' events to the slider.\n            // element is a node, not a nodeList\n            var method = function (event) {\n                var e = fixEvent(event, data.pageOffset, data.target || element);\n                // fixEvent returns false if this event has a different target\n                // when handling (multi-) touch events;\n                if (!e) {\n                    return false;\n                }\n                // doNotReject is passed by all end events to make sure released touches\n                // are not rejected, leaving the slider \"stuck\" to the cursor;\n                if (isSliderDisabled() && !data.doNotReject) {\n                    return false;\n                }\n                // Stop if an active 'tap' transition is taking place.\n                if (hasClass(scope_Target, options.cssClasses.tap) && !data.doNotReject) {\n                    return false;\n                }\n                // Ignore right or middle clicks on start #454\n                if (events === actions.start && e.buttons !== undefined && e.buttons > 1) {\n                    return false;\n                }\n                // Ignore right or middle clicks on start #454\n                if (data.hover && e.buttons) {\n                    return false;\n                }\n                // 'supportsPassive' is only true if a browser also supports touch-action: none in CSS.\n                // iOS safari does not, so it doesn't get to benefit from passive scrolling. iOS does support\n                // touch-action: manipulation, but that allows panning, which breaks\n                // sliders after zooming/on non-responsive pages.\n                // See: https://bugs.webkit.org/show_bug.cgi?id=133112\n                if (!supportsPassive) {\n                    e.preventDefault();\n                }\n                e.calcPoint = e.points[options.ort];\n                // Call the event handler with the event [ and additional data ].\n                callback(e, data);\n                return;\n            };\n            var methods = [];\n            // Bind a closure on the target for every event type.\n            events.split(\" \").forEach(function (eventName) {\n                element.addEventListener(eventName, method, supportsPassive ? { passive: true } : false);\n                methods.push([eventName, method]);\n            });\n            return methods;\n        }\n        // Provide a clean event with standardized offset values.\n        function fixEvent(e, pageOffset, eventTarget) {\n            // Filter the event to register the type, which can be\n            // touch, mouse or pointer. Offset changes need to be\n            // made on an event specific basis.\n            var touch = e.type.indexOf(\"touch\") === 0;\n            var mouse = e.type.indexOf(\"mouse\") === 0;\n            var pointer = e.type.indexOf(\"pointer\") === 0;\n            var x = 0;\n            var y = 0;\n            // IE10 implemented pointer events with a prefix;\n            if (e.type.indexOf(\"MSPointer\") === 0) {\n                pointer = true;\n            }\n            // Erroneous events seem to be passed in occasionally on iOS/iPadOS after user finishes interacting with\n            // the slider. They appear to be of type MouseEvent, yet they don't have usual properties set. Ignore\n            // events that have no touches or buttons associated with them. (#1057, #1079, #1095)\n            if (e.type === \"mousedown\" && !e.buttons && !e.touches) {\n                return false;\n            }\n            // The only thing one handle should be concerned about is the touches that originated on top of it.\n            if (touch) {\n                // Returns true if a touch originated on the target.\n                var isTouchOnTarget = function (checkTouch) {\n                    var target = checkTouch.target;\n                    return (target === eventTarget ||\n                        eventTarget.contains(target) ||\n                        (e.composed && e.composedPath().shift() === eventTarget));\n                };\n                // In the case of touchstart events, we need to make sure there is still no more than one\n                // touch on the target so we look amongst all touches.\n                if (e.type === \"touchstart\") {\n                    var targetTouches = Array.prototype.filter.call(e.touches, isTouchOnTarget);\n                    // Do not support more than one touch per handle.\n                    if (targetTouches.length > 1) {\n                        return false;\n                    }\n                    x = targetTouches[0].pageX;\n                    y = targetTouches[0].pageY;\n                }\n                else {\n                    // In the other cases, find on changedTouches is enough.\n                    var targetTouch = Array.prototype.find.call(e.changedTouches, isTouchOnTarget);\n                    // Cancel if the target touch has not moved.\n                    if (!targetTouch) {\n                        return false;\n                    }\n                    x = targetTouch.pageX;\n                    y = targetTouch.pageY;\n                }\n            }\n            pageOffset = pageOffset || getPageOffset(scope_Document);\n            if (mouse || pointer) {\n                x = e.clientX + pageOffset.x;\n                y = e.clientY + pageOffset.y;\n            }\n            e.pageOffset = pageOffset;\n            e.points = [x, y];\n            e.cursor = mouse || pointer; // Fix #435\n            return e;\n        }\n        // Translate a coordinate in the document to a percentage on the slider\n        function calcPointToPercentage(calcPoint) {\n            var location = calcPoint - offset(scope_Base, options.ort);\n            var proposal = (location * 100) / baseSize();\n            // Clamp proposal between 0% and 100%\n            // Out-of-bound coordinates may occur when .noUi-base pseudo-elements\n            // are used (e.g. contained handles feature)\n            proposal = limit(proposal);\n            return options.dir ? 100 - proposal : proposal;\n        }\n        // Find handle closest to a certain percentage on the slider\n        function getClosestHandle(clickedPosition) {\n            var smallestDifference = 100;\n            var handleNumber = false;\n            scope_Handles.forEach(function (handle, index) {\n                // Disabled handles are ignored\n                if (isHandleDisabled(index)) {\n                    return;\n                }\n                var handlePosition = scope_Locations[index];\n                var differenceWithThisHandle = Math.abs(handlePosition - clickedPosition);\n                // Initial state\n                var clickAtEdge = differenceWithThisHandle === 100 && smallestDifference === 100;\n                // Difference with this handle is smaller than the previously checked handle\n                var isCloser = differenceWithThisHandle < smallestDifference;\n                var isCloserAfter = differenceWithThisHandle <= smallestDifference && clickedPosition > handlePosition;\n                if (isCloser || isCloserAfter || clickAtEdge) {\n                    handleNumber = index;\n                    smallestDifference = differenceWithThisHandle;\n                }\n            });\n            return handleNumber;\n        }\n        // Fire 'end' when a mouse or pen leaves the document.\n        function documentLeave(event, data) {\n            if (event.type === \"mouseout\" &&\n                event.target.nodeName === \"HTML\" &&\n                event.relatedTarget === null) {\n                eventEnd(event, data);\n            }\n        }\n        // Handle movement on document for handle and range drag.\n        function eventMove(event, data) {\n            // Fix #498\n            // Check value of .buttons in 'start' to work around a bug in IE10 mobile (data.buttonsProperty).\n            // https://connect.microsoft.com/IE/feedback/details/927005/mobile-ie10-windows-phone-buttons-property-of-pointermove-event-always-zero\n            // IE9 has .buttons and .which zero on mousemove.\n            // Firefox breaks the spec MDN defines.\n            if (navigator.appVersion.indexOf(\"MSIE 9\") === -1 && event.buttons === 0 && data.buttonsProperty !== 0) {\n                return eventEnd(event, data);\n            }\n            // Check if we are moving up or down\n            var movement = (options.dir ? -1 : 1) * (event.calcPoint - data.startCalcPoint);\n            // Convert the movement into a percentage of the slider width/height\n            var proposal = (movement * 100) / data.baseSize;\n            moveHandles(movement > 0, proposal, data.locations, data.handleNumbers, data.connect);\n        }\n        // Unbind move events on document, call callbacks.\n        function eventEnd(event, data) {\n            // The handle is no longer active, so remove the class.\n            if (data.handle) {\n                removeClass(data.handle, options.cssClasses.active);\n                scope_ActiveHandlesCount -= 1;\n            }\n            // Unbind the move and end events, which are added on 'start'.\n            data.listeners.forEach(function (c) {\n                scope_DocumentElement.removeEventListener(c[0], c[1]);\n            });\n            if (scope_ActiveHandlesCount === 0) {\n                // Remove dragging class.\n                removeClass(scope_Target, options.cssClasses.drag);\n                setZindex();\n                // Remove cursor styles and text-selection events bound to the body.\n                if (event.cursor) {\n                    scope_Body.style.cursor = \"\";\n                    scope_Body.removeEventListener(\"selectstart\", preventDefault);\n                }\n            }\n            if (options.events.smoothSteps) {\n                data.handleNumbers.forEach(function (handleNumber) {\n                    setHandle(handleNumber, scope_Locations[handleNumber], true, true, false, false);\n                });\n                data.handleNumbers.forEach(function (handleNumber) {\n                    fireEvent(\"update\", handleNumber);\n                });\n            }\n            data.handleNumbers.forEach(function (handleNumber) {\n                fireEvent(\"change\", handleNumber);\n                fireEvent(\"set\", handleNumber);\n                fireEvent(\"end\", handleNumber);\n            });\n        }\n        // Bind move events on document.\n        function eventStart(event, data) {\n            // Ignore event if any handle is disabled\n            if (data.handleNumbers.some(isHandleDisabled)) {\n                return;\n            }\n            var handle;\n            if (data.handleNumbers.length === 1) {\n                var handleOrigin = scope_Handles[data.handleNumbers[0]];\n                handle = handleOrigin.children[0];\n                scope_ActiveHandlesCount += 1;\n                // Mark the handle as 'active' so it can be styled.\n                addClass(handle, options.cssClasses.active);\n            }\n            // A drag should never propagate up to the 'tap' event.\n            event.stopPropagation();\n            // Record the event listeners.\n            var listeners = [];\n            // Attach the move and end events.\n            var moveEvent = attachEvent(actions.move, scope_DocumentElement, eventMove, {\n                // The event target has changed so we need to propagate the original one so that we keep\n                // relying on it to extract target touches.\n                target: event.target,\n                handle: handle,\n                connect: data.connect,\n                listeners: listeners,\n                startCalcPoint: event.calcPoint,\n                baseSize: baseSize(),\n                pageOffset: event.pageOffset,\n                handleNumbers: data.handleNumbers,\n                buttonsProperty: event.buttons,\n                locations: scope_Locations.slice(),\n            });\n            var endEvent = attachEvent(actions.end, scope_DocumentElement, eventEnd, {\n                target: event.target,\n                handle: handle,\n                listeners: listeners,\n                doNotReject: true,\n                handleNumbers: data.handleNumbers,\n            });\n            var outEvent = attachEvent(\"mouseout\", scope_DocumentElement, documentLeave, {\n                target: event.target,\n                handle: handle,\n                listeners: listeners,\n                doNotReject: true,\n                handleNumbers: data.handleNumbers,\n            });\n            // We want to make sure we pushed the listeners in the listener list rather than creating\n            // a new one as it has already been passed to the event handlers.\n            listeners.push.apply(listeners, moveEvent.concat(endEvent, outEvent));\n            // Text selection isn't an issue on touch devices,\n            // so adding cursor styles can be skipped.\n            if (event.cursor) {\n                // Prevent the 'I' cursor and extend the range-drag cursor.\n                scope_Body.style.cursor = getComputedStyle(event.target).cursor;\n                // Mark the target with a dragging state.\n                if (scope_Handles.length > 1) {\n                    addClass(scope_Target, options.cssClasses.drag);\n                }\n                // Prevent text selection when dragging the handles.\n                // In noUiSlider <= 9.2.0, this was handled by calling preventDefault on mouse/touch start/move,\n                // which is scroll blocking. The selectstart event is supported by FireFox starting from version 52,\n                // meaning the only holdout is iOS Safari. This doesn't matter: text selection isn't triggered there.\n                // The 'cursor' flag is false.\n                // See: http://caniuse.com/#search=selectstart\n                scope_Body.addEventListener(\"selectstart\", preventDefault, false);\n            }\n            data.handleNumbers.forEach(function (handleNumber) {\n                fireEvent(\"start\", handleNumber);\n            });\n        }\n        // Move closest handle to tapped location.\n        function eventTap(event) {\n            // The tap event shouldn't propagate up\n            event.stopPropagation();\n            var proposal = calcPointToPercentage(event.calcPoint);\n            var handleNumber = getClosestHandle(proposal);\n            // Tackle the case that all handles are 'disabled'.\n            if (handleNumber === false) {\n                return;\n            }\n            // Flag the slider as it is now in a transitional state.\n            // Transition takes a configurable amount of ms (default 300). Re-enable the slider after that.\n            if (!options.events.snap) {\n                addClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);\n            }\n            setHandle(handleNumber, proposal, true, true);\n            setZindex();\n            fireEvent(\"slide\", handleNumber, true);\n            fireEvent(\"update\", handleNumber, true);\n            if (!options.events.snap) {\n                fireEvent(\"change\", handleNumber, true);\n                fireEvent(\"set\", handleNumber, true);\n            }\n            else {\n                eventStart(event, { handleNumbers: [handleNumber] });\n            }\n        }\n        // Fires a 'hover' event for a hovered mouse/pen position.\n        function eventHover(event) {\n            var proposal = calcPointToPercentage(event.calcPoint);\n            var to = scope_Spectrum.getStep(proposal);\n            var value = scope_Spectrum.fromStepping(to);\n            Object.keys(scope_Events).forEach(function (targetEvent) {\n                if (\"hover\" === targetEvent.split(\".\")[0]) {\n                    scope_Events[targetEvent].forEach(function (callback) {\n                        callback.call(scope_Self, value);\n                    });\n                }\n            });\n        }\n        // Handles keydown on focused handles\n        // Don't move the document when pressing arrow keys on focused handles\n        function eventKeydown(event, handleNumber) {\n            if (isSliderDisabled() || isHandleDisabled(handleNumber)) {\n                return false;\n            }\n            var horizontalKeys = [\"Left\", \"Right\"];\n            var verticalKeys = [\"Down\", \"Up\"];\n            var largeStepKeys = [\"PageDown\", \"PageUp\"];\n            var edgeKeys = [\"Home\", \"End\"];\n            if (options.dir && !options.ort) {\n                // On an right-to-left slider, the left and right keys act inverted\n                horizontalKeys.reverse();\n            }\n            else if (options.ort && !options.dir) {\n                // On a top-to-bottom slider, the up and down keys act inverted\n                verticalKeys.reverse();\n                largeStepKeys.reverse();\n            }\n            // Strip \"Arrow\" for IE compatibility. https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n            var key = event.key.replace(\"Arrow\", \"\");\n            var isLargeDown = key === largeStepKeys[0];\n            var isLargeUp = key === largeStepKeys[1];\n            var isDown = key === verticalKeys[0] || key === horizontalKeys[0] || isLargeDown;\n            var isUp = key === verticalKeys[1] || key === horizontalKeys[1] || isLargeUp;\n            var isMin = key === edgeKeys[0];\n            var isMax = key === edgeKeys[1];\n            if (!isDown && !isUp && !isMin && !isMax) {\n                return true;\n            }\n            event.preventDefault();\n            var to;\n            if (isUp || isDown) {\n                var direction = isDown ? 0 : 1;\n                var steps = getNextStepsForHandle(handleNumber);\n                var step = steps[direction];\n                // At the edge of a slider, do nothing\n                if (step === null) {\n                    return false;\n                }\n                // No step set, use the default of 10% of the sub-range\n                if (step === false) {\n                    step = scope_Spectrum.getDefaultStep(scope_Locations[handleNumber], isDown, options.keyboardDefaultStep);\n                }\n                if (isLargeUp || isLargeDown) {\n                    step *= options.keyboardPageMultiplier;\n                }\n                else {\n                    step *= options.keyboardMultiplier;\n                }\n                // Step over zero-length ranges (#948);\n                step = Math.max(step, 0.0000001);\n                // Decrement for down steps\n                step = (isDown ? -1 : 1) * step;\n                to = scope_Values[handleNumber] + step;\n            }\n            else if (isMax) {\n                // End key\n                to = options.spectrum.xVal[options.spectrum.xVal.length - 1];\n            }\n            else {\n                // Home key\n                to = options.spectrum.xVal[0];\n            }\n            setHandle(handleNumber, scope_Spectrum.toStepping(to), true, true);\n            fireEvent(\"slide\", handleNumber);\n            fireEvent(\"update\", handleNumber);\n            fireEvent(\"change\", handleNumber);\n            fireEvent(\"set\", handleNumber);\n            return false;\n        }\n        // Attach events to several slider parts.\n        function bindSliderEvents(behaviour) {\n            // Attach the standard drag event to the handles.\n            if (!behaviour.fixed) {\n                scope_Handles.forEach(function (handle, index) {\n                    // These events are only bound to the visual handle\n                    // element, not the 'real' origin element.\n                    attachEvent(actions.start, handle.children[0], eventStart, {\n                        handleNumbers: [index],\n                    });\n                });\n            }\n            // Attach the tap event to the slider base.\n            if (behaviour.tap) {\n                attachEvent(actions.start, scope_Base, eventTap, {});\n            }\n            // Fire hover events\n            if (behaviour.hover) {\n                attachEvent(actions.move, scope_Base, eventHover, {\n                    hover: true,\n                });\n            }\n            // Make the range draggable.\n            if (behaviour.drag) {\n                scope_Connects.forEach(function (connect, index) {\n                    if (connect === false || index === 0 || index === scope_Connects.length - 1) {\n                        return;\n                    }\n                    var handleBefore = scope_Handles[index - 1];\n                    var handleAfter = scope_Handles[index];\n                    var eventHolders = [connect];\n                    var handlesToDrag = [handleBefore, handleAfter];\n                    var handleNumbersToDrag = [index - 1, index];\n                    addClass(connect, options.cssClasses.draggable);\n                    // When the range is fixed, the entire range can\n                    // be dragged by the handles. The handle in the first\n                    // origin will propagate the start event upward,\n                    // but it needs to be bound manually on the other.\n                    if (behaviour.fixed) {\n                        eventHolders.push(handleBefore.children[0]);\n                        eventHolders.push(handleAfter.children[0]);\n                    }\n                    if (behaviour.dragAll) {\n                        handlesToDrag = scope_Handles;\n                        handleNumbersToDrag = scope_HandleNumbers;\n                    }\n                    eventHolders.forEach(function (eventHolder) {\n                        attachEvent(actions.start, eventHolder, eventStart, {\n                            handles: handlesToDrag,\n                            handleNumbers: handleNumbersToDrag,\n                            connect: connect,\n                        });\n                    });\n                });\n            }\n        }\n        // Attach an event to this slider, possibly including a namespace\n        function bindEvent(namespacedEvent, callback) {\n            scope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [];\n            scope_Events[namespacedEvent].push(callback);\n            // If the event bound is 'update,' fire it immediately for all handles.\n            if (namespacedEvent.split(\".\")[0] === \"update\") {\n                scope_Handles.forEach(function (a, index) {\n                    fireEvent(\"update\", index);\n                });\n            }\n        }\n        function isInternalNamespace(namespace) {\n            return namespace === INTERNAL_EVENT_NS.aria || namespace === INTERNAL_EVENT_NS.tooltips;\n        }\n        // Undo attachment of event\n        function removeEvent(namespacedEvent) {\n            var event = namespacedEvent && namespacedEvent.split(\".\")[0];\n            var namespace = event ? namespacedEvent.substring(event.length) : namespacedEvent;\n            Object.keys(scope_Events).forEach(function (bind) {\n                var tEvent = bind.split(\".\")[0];\n                var tNamespace = bind.substring(tEvent.length);\n                if ((!event || event === tEvent) && (!namespace || namespace === tNamespace)) {\n                    // only delete protected internal event if intentional\n                    if (!isInternalNamespace(tNamespace) || namespace === tNamespace) {\n                        delete scope_Events[bind];\n                    }\n                }\n            });\n        }\n        // External event handling\n        function fireEvent(eventName, handleNumber, tap) {\n            Object.keys(scope_Events).forEach(function (targetEvent) {\n                var eventType = targetEvent.split(\".\")[0];\n                if (eventName === eventType) {\n                    scope_Events[targetEvent].forEach(function (callback) {\n                        callback.call(\n                        // Use the slider public API as the scope ('this')\n                        scope_Self, \n                        // Return values as array, so arg_1[arg_2] is always valid.\n                        scope_Values.map(options.format.to), \n                        // Handle index, 0 or 1\n                        handleNumber, \n                        // Un-formatted slider values\n                        scope_Values.slice(), \n                        // Event is fired by tap, true or false\n                        tap || false, \n                        // Left offset of the handle, in relation to the slider\n                        scope_Locations.slice(), \n                        // add the slider public API to an accessible parameter when this is unavailable\n                        scope_Self);\n                    });\n                }\n            });\n        }\n        // Split out the handle positioning logic so the Move event can use it, too\n        function checkHandlePosition(reference, handleNumber, to, lookBackward, lookForward, getValue, smoothSteps) {\n            var distance;\n            // For sliders with multiple handles, limit movement to the other handle.\n            // Apply the margin option by adding it to the handle positions.\n            if (scope_Handles.length > 1 && !options.events.unconstrained) {\n                if (lookBackward && handleNumber > 0) {\n                    distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber - 1], options.margin, false);\n                    to = Math.max(to, distance);\n                }\n                if (lookForward && handleNumber < scope_Handles.length - 1) {\n                    distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber + 1], options.margin, true);\n                    to = Math.min(to, distance);\n                }\n            }\n            // The limit option has the opposite effect, limiting handles to a\n            // maximum distance from another. Limit must be > 0, as otherwise\n            // handles would be unmovable.\n            if (scope_Handles.length > 1 && options.limit) {\n                if (lookBackward && handleNumber > 0) {\n                    distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber - 1], options.limit, false);\n                    to = Math.min(to, distance);\n                }\n                if (lookForward && handleNumber < scope_Handles.length - 1) {\n                    distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber + 1], options.limit, true);\n                    to = Math.max(to, distance);\n                }\n            }\n            // The padding option keeps the handles a certain distance from the\n            // edges of the slider. Padding must be > 0.\n            if (options.padding) {\n                if (handleNumber === 0) {\n                    distance = scope_Spectrum.getAbsoluteDistance(0, options.padding[0], false);\n                    to = Math.max(to, distance);\n                }\n                if (handleNumber === scope_Handles.length - 1) {\n                    distance = scope_Spectrum.getAbsoluteDistance(100, options.padding[1], true);\n                    to = Math.min(to, distance);\n                }\n            }\n            if (!smoothSteps) {\n                to = scope_Spectrum.getStep(to);\n            }\n            // Limit percentage to the 0 - 100 range\n            to = limit(to);\n            // Return false if handle can't move\n            if (to === reference[handleNumber] && !getValue) {\n                return false;\n            }\n            return to;\n        }\n        // Uses slider orientation to create CSS rules. a = base value;\n        function inRuleOrder(v, a) {\n            var o = options.ort;\n            return (o ? a : v) + \", \" + (o ? v : a);\n        }\n        // Moves handle(s) by a percentage\n        // (bool, % to move, [% where handle started, ...], [index in scope_Handles, ...])\n        function moveHandles(upward, proposal, locations, handleNumbers, connect) {\n            var proposals = locations.slice();\n            // Store first handle now, so we still have it in case handleNumbers is reversed\n            var firstHandle = handleNumbers[0];\n            var smoothSteps = options.events.smoothSteps;\n            var b = [!upward, upward];\n            var f = [upward, !upward];\n            // Copy handleNumbers so we don't change the dataset\n            handleNumbers = handleNumbers.slice();\n            // Check to see which handle is 'leading'.\n            // If that one can't move the second can't either.\n            if (upward) {\n                handleNumbers.reverse();\n            }\n            // Step 1: get the maximum percentage that any of the handles can move\n            if (handleNumbers.length > 1) {\n                handleNumbers.forEach(function (handleNumber, o) {\n                    var to = checkHandlePosition(proposals, handleNumber, proposals[handleNumber] + proposal, b[o], f[o], false, smoothSteps);\n                    // Stop if one of the handles can't move.\n                    if (to === false) {\n                        proposal = 0;\n                    }\n                    else {\n                        proposal = to - proposals[handleNumber];\n                        proposals[handleNumber] = to;\n                    }\n                });\n            }\n            // If using one handle, check backward AND forward\n            else {\n                b = f = [true];\n            }\n            var state = false;\n            // Step 2: Try to set the handles with the found percentage\n            handleNumbers.forEach(function (handleNumber, o) {\n                state =\n                    setHandle(handleNumber, locations[handleNumber] + proposal, b[o], f[o], false, smoothSteps) || state;\n            });\n            // Step 3: If a handle moved, fire events\n            if (state) {\n                handleNumbers.forEach(function (handleNumber) {\n                    fireEvent(\"update\", handleNumber);\n                    fireEvent(\"slide\", handleNumber);\n                });\n                // If target is a connect, then fire drag event\n                if (connect != undefined) {\n                    fireEvent(\"drag\", firstHandle);\n                }\n            }\n        }\n        // Takes a base value and an offset. This offset is used for the connect bar size.\n        // In the initial design for this feature, the origin element was 1% wide.\n        // Unfortunately, a rounding bug in Chrome makes it impossible to implement this feature\n        // in this manner: https://bugs.chromium.org/p/chromium/issues/detail?id=798223\n        function transformDirection(a, b) {\n            return options.dir ? 100 - a - b : a;\n        }\n        // Updates scope_Locations and scope_Values, updates visual state\n        function updateHandlePosition(handleNumber, to) {\n            // Update locations.\n            scope_Locations[handleNumber] = to;\n            // Convert the value to the slider stepping/range.\n            scope_Values[handleNumber] = scope_Spectrum.fromStepping(to);\n            var translation = transformDirection(to, 0) - scope_DirOffset;\n            var translateRule = \"translate(\" + inRuleOrder(translation + \"%\", \"0\") + \")\";\n            scope_Handles[handleNumber].style[options.transformRule] = translateRule;\n            updateConnect(handleNumber);\n            updateConnect(handleNumber + 1);\n        }\n        // Handles before the slider middle are stacked later = higher,\n        // Handles after the middle later is lower\n        // [[7] [8] .......... | .......... [5] [4]\n        function setZindex() {\n            scope_HandleNumbers.forEach(function (handleNumber) {\n                var dir = scope_Locations[handleNumber] > 50 ? -1 : 1;\n                var zIndex = 3 + (scope_Handles.length + dir * handleNumber);\n                scope_Handles[handleNumber].style.zIndex = String(zIndex);\n            });\n        }\n        // Test suggested values and apply margin, step.\n        // if exactInput is true, don't run checkHandlePosition, then the handle can be placed in between steps (#436)\n        function setHandle(handleNumber, to, lookBackward, lookForward, exactInput, smoothSteps) {\n            if (!exactInput) {\n                to = checkHandlePosition(scope_Locations, handleNumber, to, lookBackward, lookForward, false, smoothSteps);\n            }\n            if (to === false) {\n                return false;\n            }\n            updateHandlePosition(handleNumber, to);\n            return true;\n        }\n        // Updates style attribute for connect nodes\n        function updateConnect(index) {\n            // Skip connects set to false\n            if (!scope_Connects[index]) {\n                return;\n            }\n            var l = 0;\n            var h = 100;\n            if (index !== 0) {\n                l = scope_Locations[index - 1];\n            }\n            if (index !== scope_Connects.length - 1) {\n                h = scope_Locations[index];\n            }\n            // We use two rules:\n            // 'translate' to change the left/top offset;\n            // 'scale' to change the width of the element;\n            // As the element has a width of 100%, a translation of 100% is equal to 100% of the parent (.noUi-base)\n            var connectWidth = h - l;\n            var translateRule = \"translate(\" + inRuleOrder(transformDirection(l, connectWidth) + \"%\", \"0\") + \")\";\n            var scaleRule = \"scale(\" + inRuleOrder(connectWidth / 100, \"1\") + \")\";\n            scope_Connects[index].style[options.transformRule] =\n                translateRule + \" \" + scaleRule;\n        }\n        // Parses value passed to .set method. Returns current value if not parse-able.\n        function resolveToValue(to, handleNumber) {\n            // Setting with null indicates an 'ignore'.\n            // Inputting 'false' is invalid.\n            if (to === null || to === false || to === undefined) {\n                return scope_Locations[handleNumber];\n            }\n            // If a formatted number was passed, attempt to decode it.\n            if (typeof to === \"number\") {\n                to = String(to);\n            }\n            to = options.format.from(to);\n            if (to !== false) {\n                to = scope_Spectrum.toStepping(to);\n            }\n            // If parsing the number failed, use the current value.\n            if (to === false || isNaN(to)) {\n                return scope_Locations[handleNumber];\n            }\n            return to;\n        }\n        // Set the slider value.\n        function valueSet(input, fireSetEvent, exactInput) {\n            var values = asArray(input);\n            var isInit = scope_Locations[0] === undefined;\n            // Event fires by default\n            fireSetEvent = fireSetEvent === undefined ? true : fireSetEvent;\n            // Animation is optional.\n            // Make sure the initial values were set before using animated placement.\n            if (options.animate && !isInit) {\n                addClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);\n            }\n            // First pass, without lookAhead but with lookBackward. Values are set from left to right.\n            scope_HandleNumbers.forEach(function (handleNumber) {\n                setHandle(handleNumber, resolveToValue(values[handleNumber], handleNumber), true, false, exactInput);\n            });\n            var i = scope_HandleNumbers.length === 1 ? 0 : 1;\n            // Spread handles evenly across the slider if the range has no size (min=max)\n            if (isInit && scope_Spectrum.hasNoSize()) {\n                exactInput = true;\n                scope_Locations[0] = 0;\n                if (scope_HandleNumbers.length > 1) {\n                    var space_1 = 100 / (scope_HandleNumbers.length - 1);\n                    scope_HandleNumbers.forEach(function (handleNumber) {\n                        scope_Locations[handleNumber] = handleNumber * space_1;\n                    });\n                }\n            }\n            // Secondary passes. Now that all base values are set, apply constraints.\n            // Iterate all handles to ensure constraints are applied for the entire slider (Issue #1009)\n            for (; i < scope_HandleNumbers.length; ++i) {\n                scope_HandleNumbers.forEach(function (handleNumber) {\n                    setHandle(handleNumber, scope_Locations[handleNumber], true, true, exactInput);\n                });\n            }\n            setZindex();\n            scope_HandleNumbers.forEach(function (handleNumber) {\n                fireEvent(\"update\", handleNumber);\n                // Fire the event only for handles that received a new value, as per #579\n                if (values[handleNumber] !== null && fireSetEvent) {\n                    fireEvent(\"set\", handleNumber);\n                }\n            });\n        }\n        // Reset slider to initial values\n        function valueReset(fireSetEvent) {\n            valueSet(options.start, fireSetEvent);\n        }\n        // Set value for a single handle\n        function valueSetHandle(handleNumber, value, fireSetEvent, exactInput) {\n            // Ensure numeric input\n            handleNumber = Number(handleNumber);\n            if (!(handleNumber >= 0 && handleNumber < scope_HandleNumbers.length)) {\n                throw new Error(\"noUiSlider: invalid handle number, got: \" + handleNumber);\n            }\n            // Look both backward and forward, since we don't want this handle to \"push\" other handles (#960);\n            // The exactInput argument can be used to ignore slider stepping (#436)\n            setHandle(handleNumber, resolveToValue(value, handleNumber), true, true, exactInput);\n            fireEvent(\"update\", handleNumber);\n            if (fireSetEvent) {\n                fireEvent(\"set\", handleNumber);\n            }\n        }\n        // Get the slider value.\n        function valueGet(unencoded) {\n            if (unencoded === void 0) { unencoded = false; }\n            if (unencoded) {\n                // return a copy of the raw values\n                return scope_Values.length === 1 ? scope_Values[0] : scope_Values.slice(0);\n            }\n            var values = scope_Values.map(options.format.to);\n            // If only one handle is used, return a single value.\n            if (values.length === 1) {\n                return values[0];\n            }\n            return values;\n        }\n        // Removes classes from the root and empties it.\n        function destroy() {\n            // remove protected internal listeners\n            removeEvent(INTERNAL_EVENT_NS.aria);\n            removeEvent(INTERNAL_EVENT_NS.tooltips);\n            Object.keys(options.cssClasses).forEach(function (key) {\n                removeClass(scope_Target, options.cssClasses[key]);\n            });\n            while (scope_Target.firstChild) {\n                scope_Target.removeChild(scope_Target.firstChild);\n            }\n            delete scope_Target.noUiSlider;\n        }\n        function getNextStepsForHandle(handleNumber) {\n            var location = scope_Locations[handleNumber];\n            var nearbySteps = scope_Spectrum.getNearbySteps(location);\n            var value = scope_Values[handleNumber];\n            var increment = nearbySteps.thisStep.step;\n            var decrement = null;\n            // If snapped, directly use defined step value\n            if (options.snap) {\n                return [\n                    value - nearbySteps.stepBefore.startValue || null,\n                    nearbySteps.stepAfter.startValue - value || null,\n                ];\n            }\n            // If the next value in this step moves into the next step,\n            // the increment is the start of the next step - the current value\n            if (increment !== false) {\n                if (value + increment > nearbySteps.stepAfter.startValue) {\n                    increment = nearbySteps.stepAfter.startValue - value;\n                }\n            }\n            // If the value is beyond the starting point\n            if (value > nearbySteps.thisStep.startValue) {\n                decrement = nearbySteps.thisStep.step;\n            }\n            else if (nearbySteps.stepBefore.step === false) {\n                decrement = false;\n            }\n            // If a handle is at the start of a step, it always steps back into the previous step first\n            else {\n                decrement = value - nearbySteps.stepBefore.highestStep;\n            }\n            // Now, if at the slider edges, there is no in/decrement\n            if (location === 100) {\n                increment = null;\n            }\n            else if (location === 0) {\n                decrement = null;\n            }\n            // As per #391, the comparison for the decrement step can have some rounding issues.\n            var stepDecimals = scope_Spectrum.countStepDecimals();\n            // Round per #391\n            if (increment !== null && increment !== false) {\n                increment = Number(increment.toFixed(stepDecimals));\n            }\n            if (decrement !== null && decrement !== false) {\n                decrement = Number(decrement.toFixed(stepDecimals));\n            }\n            return [decrement, increment];\n        }\n        // Get the current step size for the slider.\n        function getNextSteps() {\n            return scope_HandleNumbers.map(getNextStepsForHandle);\n        }\n        // Updatable: margin, limit, padding, step, range, animate, snap\n        function updateOptions(optionsToUpdate, fireSetEvent) {\n            // Spectrum is created using the range, snap, direction and step options.\n            // 'snap' and 'step' can be updated.\n            // If 'snap' and 'step' are not passed, they should remain unchanged.\n            var v = valueGet();\n            var updateAble = [\n                \"margin\",\n                \"limit\",\n                \"padding\",\n                \"range\",\n                \"animate\",\n                \"snap\",\n                \"step\",\n                \"format\",\n                \"pips\",\n                \"tooltips\",\n            ];\n            // Only change options that we're actually passed to update.\n            updateAble.forEach(function (name) {\n                // Check for undefined. null removes the value.\n                if (optionsToUpdate[name] !== undefined) {\n                    originalOptions[name] = optionsToUpdate[name];\n                }\n            });\n            var newOptions = testOptions(originalOptions);\n            // Load new options into the slider state\n            updateAble.forEach(function (name) {\n                if (optionsToUpdate[name] !== undefined) {\n                    options[name] = newOptions[name];\n                }\n            });\n            scope_Spectrum = newOptions.spectrum;\n            // Limit, margin and padding depend on the spectrum but are stored outside of it. (#677)\n            options.margin = newOptions.margin;\n            options.limit = newOptions.limit;\n            options.padding = newOptions.padding;\n            // Update pips, removes existing.\n            if (options.pips) {\n                pips(options.pips);\n            }\n            else {\n                removePips();\n            }\n            // Update tooltips, removes existing.\n            if (options.tooltips) {\n                tooltips();\n            }\n            else {\n                removeTooltips();\n            }\n            // Invalidate the current positioning so valueSet forces an update.\n            scope_Locations = [];\n            valueSet(isSet(optionsToUpdate.start) ? optionsToUpdate.start : v, fireSetEvent);\n        }\n        // Initialization steps\n        function setupSlider() {\n            // Create the base element, initialize HTML and set classes.\n            // Add handles and connect elements.\n            scope_Base = addSlider(scope_Target);\n            addElements(options.connect, scope_Base);\n            // Attach user events.\n            bindSliderEvents(options.events);\n            // Use the public value method to set the start values.\n            valueSet(options.start);\n            if (options.pips) {\n                pips(options.pips);\n            }\n            if (options.tooltips) {\n                tooltips();\n            }\n            aria();\n        }\n        setupSlider();\n        var scope_Self = {\n            destroy: destroy,\n            steps: getNextSteps,\n            on: bindEvent,\n            off: removeEvent,\n            get: valueGet,\n            set: valueSet,\n            setHandle: valueSetHandle,\n            reset: valueReset,\n            disable: disable,\n            enable: enable,\n            // Exposed for unit testing, don't use this in your application.\n            __moveHandles: function (upward, proposal, handleNumbers) {\n                moveHandles(upward, proposal, scope_Locations, handleNumbers);\n            },\n            options: originalOptions,\n            updateOptions: updateOptions,\n            target: scope_Target,\n            removePips: removePips,\n            removeTooltips: removeTooltips,\n            getPositions: function () {\n                return scope_Locations.slice();\n            },\n            getTooltips: function () {\n                return scope_Tooltips;\n            },\n            getOrigins: function () {\n                return scope_Handles;\n            },\n            pips: pips, // Issue #594\n        };\n        return scope_Self;\n    }\n    // Run the standard initializer\n    function initialize(target, originalOptions) {\n        if (!target || !target.nodeName) {\n            throw new Error(\"noUiSlider: create requires a single element, got: \" + target);\n        }\n        // Throw an error if the slider was already initialized.\n        if (target.noUiSlider) {\n            throw new Error(\"noUiSlider: Slider was already initialized.\");\n        }\n        // Test the options and create the slider environment;\n        var options = testOptions(originalOptions);\n        var api = scope(target, options, originalOptions);\n        target.noUiSlider = api;\n        return api;\n    }\n    var nouislider = {\n        // Exposed for unit testing, don't use this in your application.\n        __spectrum: Spectrum,\n        // A reference to the default classes, allows global changes.\n        // Use the cssClasses option for changes to one slider.\n        cssClasses: cssClasses,\n        create: initialize,\n    };\n\n    exports.create = initialize;\n    exports.cssClasses = cssClasses;\n    exports[\"default\"] = nouislider;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_Symbol.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/lodash-es/_Symbol.js ***!\n  \\*******************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _root_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_root.js */ \"./node_modules/lodash-es/_root.js\");\n\n\n/** Built-in value references. */\nvar Symbol = _root_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Symbol;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Symbol);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_baseGetTag.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/lodash-es/_baseGetTag.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_Symbol.js */ \"./node_modules/lodash-es/_Symbol.js\");\n/* harmony import */ var _getRawTag_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_getRawTag.js */ \"./node_modules/lodash-es/_getRawTag.js\");\n/* harmony import */ var _objectToString_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_objectToString.js */ \"./node_modules/lodash-es/_objectToString.js\");\n\n\n\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ? _Symbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? (0,_getRawTag_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value)\n    : (0,_objectToString_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (baseGetTag);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_baseTrim.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/lodash-es/_baseTrim.js ***!\n  \\*********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _trimmedEndIndex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_trimmedEndIndex.js */ \"./node_modules/lodash-es/_trimmedEndIndex.js\");\n\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, (0,_trimmedEndIndex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (baseTrim);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_freeGlobal.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/lodash-es/_freeGlobal.js ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (freeGlobal);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_getRawTag.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/lodash-es/_getRawTag.js ***!\n  \\**********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_Symbol.js */ \"./node_modules/lodash-es/_Symbol.js\");\n\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ? _Symbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (getRawTag);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_objectToString.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/lodash-es/_objectToString.js ***!\n  \\***************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (objectToString);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_root.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/lodash-es/_root.js ***!\n  \\*****************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _freeGlobal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_freeGlobal.js */ \"./node_modules/lodash-es/_freeGlobal.js\");\n\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] || freeSelf || Function('return this')();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (root);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/_trimmedEndIndex.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/lodash-es/_trimmedEndIndex.js ***!\n  \\****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (trimmedEndIndex);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/debounce.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash-es/debounce.js ***!\n  \\********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _isObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isObject.js */ \"./node_modules/lodash-es/isObject.js\");\n/* harmony import */ var _now_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./now.js */ \"./node_modules/lodash-es/now.js\");\n/* harmony import */ var _toNumber_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toNumber.js */ \"./node_modules/lodash-es/toNumber.js\");\n\n\n\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = (0,_toNumber_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(wait) || 0;\n  if ((0,_isObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax((0,_toNumber_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = (0,_now_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge((0,_now_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])());\n  }\n\n  function debounced() {\n    var time = (0,_now_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (debounce);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/isObject.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash-es/isObject.js ***!\n  \\********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (isObject);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/isObjectLike.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/lodash-es/isObjectLike.js ***!\n  \\************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (isObjectLike);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/isSymbol.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash-es/isSymbol.js ***!\n  \\********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_baseGetTag.js */ \"./node_modules/lodash-es/_baseGetTag.js\");\n/* harmony import */ var _isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isObjectLike.js */ \"./node_modules/lodash-es/isObjectLike.js\");\n\n\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    ((0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(value) && (0,_baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value) == symbolTag);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (isSymbol);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/now.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/lodash-es/now.js ***!\n  \\***************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _root_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_root.js */ \"./node_modules/lodash-es/_root.js\");\n\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return _root_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Date.now();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (now);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/throttle.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash-es/throttle.js ***!\n  \\********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _debounce_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./debounce.js */ \"./node_modules/lodash-es/debounce.js\");\n/* harmony import */ var _isObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isObject.js */ \"./node_modules/lodash-es/isObject.js\");\n\n\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if ((0,_isObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return (0,_debounce_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (throttle);\n\n\n/***/ }),\n\n/***/ \"./node_modules/lodash-es/toNumber.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash-es/toNumber.js ***!\n  \\********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _baseTrim_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_baseTrim.js */ \"./node_modules/lodash-es/_baseTrim.js\");\n/* harmony import */ var _isObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isObject.js */ \"./node_modules/lodash-es/isObject.js\");\n/* harmony import */ var _isSymbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isSymbol.js */ \"./node_modules/lodash-es/isSymbol.js\");\n\n\n\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if ((0,_isSymbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(value)) {\n    return NAN;\n  }\n  if ((0,_isObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = (0,_isObject_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = (0,_baseTrim_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (toNumber);\n\n\n/***/ }),\n\n/***/ \"./node_modules/simplebar-core/dist/index.mjs\":\n/*!****************************************************!*\\\n  !*** ./node_modules/simplebar-core/dist/index.mjs ***!\n  \\****************************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ SimpleBarCore; }\n/* harmony export */ });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash-es */ \"./node_modules/lodash-es/throttle.js\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash-es */ \"./node_modules/lodash-es/debounce.js\");\n/* harmony import */ var can_use_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! can-use-dom */ \"./node_modules/can-use-dom/index.js\");\n/**\n * simplebar-core - v1.2.4\n * Scrollbars, simpler.\n * https://grsmto.github.io/simplebar/\n *\n * Made by Adrien Denat from a fork by Jonathan Nicol\n * Under MIT License\n */\n\n\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar cachedScrollbarWidth = null;\nvar cachedDevicePixelRatio = null;\nif (can_use_dom__WEBPACK_IMPORTED_MODULE_0__) {\n    window.addEventListener('resize', function () {\n        if (cachedDevicePixelRatio !== window.devicePixelRatio) {\n            cachedDevicePixelRatio = window.devicePixelRatio;\n            cachedScrollbarWidth = null;\n        }\n    });\n}\nfunction scrollbarWidth() {\n    if (cachedScrollbarWidth === null) {\n        if (typeof document === 'undefined') {\n            cachedScrollbarWidth = 0;\n            return cachedScrollbarWidth;\n        }\n        var body = document.body;\n        var box = document.createElement('div');\n        box.classList.add('simplebar-hide-scrollbar');\n        body.appendChild(box);\n        var width = box.getBoundingClientRect().right;\n        body.removeChild(box);\n        cachedScrollbarWidth = width;\n    }\n    return cachedScrollbarWidth;\n}\n\nfunction getElementWindow$1(element) {\n    if (!element ||\n        !element.ownerDocument ||\n        !element.ownerDocument.defaultView) {\n        return window;\n    }\n    return element.ownerDocument.defaultView;\n}\nfunction getElementDocument$1(element) {\n    if (!element || !element.ownerDocument) {\n        return document;\n    }\n    return element.ownerDocument;\n}\n// Helper function to retrieve options from element attributes\nvar getOptions$1 = function (obj) {\n    var initialObj = {};\n    var options = Array.prototype.reduce.call(obj, function (acc, attribute) {\n        var option = attribute.name.match(/data-simplebar-(.+)/);\n        if (option) {\n            var key = option[1].replace(/\\W+(.)/g, function (_, chr) { return chr.toUpperCase(); });\n            switch (attribute.value) {\n                case 'true':\n                    acc[key] = true;\n                    break;\n                case 'false':\n                    acc[key] = false;\n                    break;\n                case undefined:\n                    acc[key] = true;\n                    break;\n                default:\n                    acc[key] = attribute.value;\n            }\n        }\n        return acc;\n    }, initialObj);\n    return options;\n};\nfunction addClasses$1(el, classes) {\n    var _a;\n    if (!el)\n        return;\n    (_a = el.classList).add.apply(_a, classes.split(' '));\n}\nfunction removeClasses$1(el, classes) {\n    if (!el)\n        return;\n    classes.split(' ').forEach(function (className) {\n        el.classList.remove(className);\n    });\n}\nfunction classNamesToQuery$1(classNames) {\n    return \".\".concat(classNames.split(' ').join('.'));\n}\n\nvar helpers = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    getElementWindow: getElementWindow$1,\n    getElementDocument: getElementDocument$1,\n    getOptions: getOptions$1,\n    addClasses: addClasses$1,\n    removeClasses: removeClasses$1,\n    classNamesToQuery: classNamesToQuery$1\n});\n\nvar getElementWindow = getElementWindow$1, getElementDocument = getElementDocument$1, getOptions = getOptions$1, addClasses = addClasses$1, removeClasses = removeClasses$1, classNamesToQuery = classNamesToQuery$1;\nvar SimpleBarCore = /** @class */ (function () {\n    function SimpleBarCore(element, options) {\n        if (options === void 0) { options = {}; }\n        var _this = this;\n        this.removePreventClickId = null;\n        this.minScrollbarWidth = 20;\n        this.stopScrollDelay = 175;\n        this.isScrolling = false;\n        this.isMouseEntering = false;\n        this.scrollXTicking = false;\n        this.scrollYTicking = false;\n        this.wrapperEl = null;\n        this.contentWrapperEl = null;\n        this.contentEl = null;\n        this.offsetEl = null;\n        this.maskEl = null;\n        this.placeholderEl = null;\n        this.heightAutoObserverWrapperEl = null;\n        this.heightAutoObserverEl = null;\n        this.rtlHelpers = null;\n        this.scrollbarWidth = 0;\n        this.resizeObserver = null;\n        this.mutationObserver = null;\n        this.elStyles = null;\n        this.isRtl = null;\n        this.mouseX = 0;\n        this.mouseY = 0;\n        this.onMouseMove = function () { };\n        this.onWindowResize = function () { };\n        this.onStopScrolling = function () { };\n        this.onMouseEntered = function () { };\n        /**\n         * On scroll event handling\n         */\n        this.onScroll = function () {\n            var elWindow = getElementWindow(_this.el);\n            if (!_this.scrollXTicking) {\n                elWindow.requestAnimationFrame(_this.scrollX);\n                _this.scrollXTicking = true;\n            }\n            if (!_this.scrollYTicking) {\n                elWindow.requestAnimationFrame(_this.scrollY);\n                _this.scrollYTicking = true;\n            }\n            if (!_this.isScrolling) {\n                _this.isScrolling = true;\n                addClasses(_this.el, _this.classNames.scrolling);\n            }\n            _this.showScrollbar('x');\n            _this.showScrollbar('y');\n            _this.onStopScrolling();\n        };\n        this.scrollX = function () {\n            if (_this.axis.x.isOverflowing) {\n                _this.positionScrollbar('x');\n            }\n            _this.scrollXTicking = false;\n        };\n        this.scrollY = function () {\n            if (_this.axis.y.isOverflowing) {\n                _this.positionScrollbar('y');\n            }\n            _this.scrollYTicking = false;\n        };\n        this._onStopScrolling = function () {\n            removeClasses(_this.el, _this.classNames.scrolling);\n            if (_this.options.autoHide) {\n                _this.hideScrollbar('x');\n                _this.hideScrollbar('y');\n            }\n            _this.isScrolling = false;\n        };\n        this.onMouseEnter = function () {\n            if (!_this.isMouseEntering) {\n                addClasses(_this.el, _this.classNames.mouseEntered);\n                _this.showScrollbar('x');\n                _this.showScrollbar('y');\n                _this.isMouseEntering = true;\n            }\n            _this.onMouseEntered();\n        };\n        this._onMouseEntered = function () {\n            removeClasses(_this.el, _this.classNames.mouseEntered);\n            if (_this.options.autoHide) {\n                _this.hideScrollbar('x');\n                _this.hideScrollbar('y');\n            }\n            _this.isMouseEntering = false;\n        };\n        this._onMouseMove = function (e) {\n            _this.mouseX = e.clientX;\n            _this.mouseY = e.clientY;\n            if (_this.axis.x.isOverflowing || _this.axis.x.forceVisible) {\n                _this.onMouseMoveForAxis('x');\n            }\n            if (_this.axis.y.isOverflowing || _this.axis.y.forceVisible) {\n                _this.onMouseMoveForAxis('y');\n            }\n        };\n        this.onMouseLeave = function () {\n            _this.onMouseMove.cancel();\n            if (_this.axis.x.isOverflowing || _this.axis.x.forceVisible) {\n                _this.onMouseLeaveForAxis('x');\n            }\n            if (_this.axis.y.isOverflowing || _this.axis.y.forceVisible) {\n                _this.onMouseLeaveForAxis('y');\n            }\n            _this.mouseX = -1;\n            _this.mouseY = -1;\n        };\n        this._onWindowResize = function () {\n            // Recalculate scrollbarWidth in case it's a zoom\n            _this.scrollbarWidth = _this.getScrollbarWidth();\n            _this.hideNativeScrollbar();\n        };\n        this.onPointerEvent = function (e) {\n            if (!_this.axis.x.track.el ||\n                !_this.axis.y.track.el ||\n                !_this.axis.x.scrollbar.el ||\n                !_this.axis.y.scrollbar.el)\n                return;\n            var isWithinTrackXBounds, isWithinTrackYBounds;\n            _this.axis.x.track.rect = _this.axis.x.track.el.getBoundingClientRect();\n            _this.axis.y.track.rect = _this.axis.y.track.el.getBoundingClientRect();\n            if (_this.axis.x.isOverflowing || _this.axis.x.forceVisible) {\n                isWithinTrackXBounds = _this.isWithinBounds(_this.axis.x.track.rect);\n            }\n            if (_this.axis.y.isOverflowing || _this.axis.y.forceVisible) {\n                isWithinTrackYBounds = _this.isWithinBounds(_this.axis.y.track.rect);\n            }\n            // If any pointer event is called on the scrollbar\n            if (isWithinTrackXBounds || isWithinTrackYBounds) {\n                // Prevent event leaking\n                e.stopPropagation();\n                if (e.type === 'pointerdown' && e.pointerType !== 'touch') {\n                    if (isWithinTrackXBounds) {\n                        _this.axis.x.scrollbar.rect =\n                            _this.axis.x.scrollbar.el.getBoundingClientRect();\n                        if (_this.isWithinBounds(_this.axis.x.scrollbar.rect)) {\n                            _this.onDragStart(e, 'x');\n                        }\n                        else {\n                            _this.onTrackClick(e, 'x');\n                        }\n                    }\n                    if (isWithinTrackYBounds) {\n                        _this.axis.y.scrollbar.rect =\n                            _this.axis.y.scrollbar.el.getBoundingClientRect();\n                        if (_this.isWithinBounds(_this.axis.y.scrollbar.rect)) {\n                            _this.onDragStart(e, 'y');\n                        }\n                        else {\n                            _this.onTrackClick(e, 'y');\n                        }\n                    }\n                }\n            }\n        };\n        /**\n         * Drag scrollbar handle\n         */\n        this.drag = function (e) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n            if (!_this.draggedAxis || !_this.contentWrapperEl)\n                return;\n            var eventOffset;\n            var track = _this.axis[_this.draggedAxis].track;\n            var trackSize = (_b = (_a = track.rect) === null || _a === void 0 ? void 0 : _a[_this.axis[_this.draggedAxis].sizeAttr]) !== null && _b !== void 0 ? _b : 0;\n            var scrollbar = _this.axis[_this.draggedAxis].scrollbar;\n            var contentSize = (_d = (_c = _this.contentWrapperEl) === null || _c === void 0 ? void 0 : _c[_this.axis[_this.draggedAxis].scrollSizeAttr]) !== null && _d !== void 0 ? _d : 0;\n            var hostSize = parseInt((_f = (_e = _this.elStyles) === null || _e === void 0 ? void 0 : _e[_this.axis[_this.draggedAxis].sizeAttr]) !== null && _f !== void 0 ? _f : '0px', 10);\n            e.preventDefault();\n            e.stopPropagation();\n            if (_this.draggedAxis === 'y') {\n                eventOffset = e.pageY;\n            }\n            else {\n                eventOffset = e.pageX;\n            }\n            // Calculate how far the user's mouse is from the top/left of the scrollbar (minus the dragOffset).\n            var dragPos = eventOffset -\n                ((_h = (_g = track.rect) === null || _g === void 0 ? void 0 : _g[_this.axis[_this.draggedAxis].offsetAttr]) !== null && _h !== void 0 ? _h : 0) -\n                _this.axis[_this.draggedAxis].dragOffset;\n            dragPos = _this.draggedAxis === 'x' && _this.isRtl\n                ? ((_k = (_j = track.rect) === null || _j === void 0 ? void 0 : _j[_this.axis[_this.draggedAxis].sizeAttr]) !== null && _k !== void 0 ? _k : 0) -\n                    scrollbar.size -\n                    dragPos\n                : dragPos;\n            // Convert the mouse position into a percentage of the scrollbar height/width.\n            var dragPerc = dragPos / (trackSize - scrollbar.size);\n            // Scroll the content by the same percentage.\n            var scrollPos = dragPerc * (contentSize - hostSize);\n            // Fix browsers inconsistency on RTL\n            if (_this.draggedAxis === 'x' && _this.isRtl) {\n                scrollPos = ((_l = SimpleBarCore.getRtlHelpers()) === null || _l === void 0 ? void 0 : _l.isScrollingToNegative)\n                    ? -scrollPos\n                    : scrollPos;\n            }\n            _this.contentWrapperEl[_this.axis[_this.draggedAxis].scrollOffsetAttr] =\n                scrollPos;\n        };\n        /**\n         * End scroll handle drag\n         */\n        this.onEndDrag = function (e) {\n            var elDocument = getElementDocument(_this.el);\n            var elWindow = getElementWindow(_this.el);\n            e.preventDefault();\n            e.stopPropagation();\n            removeClasses(_this.el, _this.classNames.dragging);\n            elDocument.removeEventListener('mousemove', _this.drag, true);\n            elDocument.removeEventListener('mouseup', _this.onEndDrag, true);\n            _this.removePreventClickId = elWindow.setTimeout(function () {\n                // Remove these asynchronously so we still suppress click events\n                // generated simultaneously with mouseup.\n                elDocument.removeEventListener('click', _this.preventClick, true);\n                elDocument.removeEventListener('dblclick', _this.preventClick, true);\n                _this.removePreventClickId = null;\n            });\n        };\n        /**\n         * Handler to ignore click events during drag\n         */\n        this.preventClick = function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n        };\n        this.el = element;\n        this.options = __assign(__assign({}, SimpleBarCore.defaultOptions), options);\n        this.classNames = __assign(__assign({}, SimpleBarCore.defaultOptions.classNames), options.classNames);\n        this.axis = {\n            x: {\n                scrollOffsetAttr: 'scrollLeft',\n                sizeAttr: 'width',\n                scrollSizeAttr: 'scrollWidth',\n                offsetSizeAttr: 'offsetWidth',\n                offsetAttr: 'left',\n                overflowAttr: 'overflowX',\n                dragOffset: 0,\n                isOverflowing: true,\n                forceVisible: false,\n                track: { size: null, el: null, rect: null, isVisible: false },\n                scrollbar: { size: null, el: null, rect: null, isVisible: false }\n            },\n            y: {\n                scrollOffsetAttr: 'scrollTop',\n                sizeAttr: 'height',\n                scrollSizeAttr: 'scrollHeight',\n                offsetSizeAttr: 'offsetHeight',\n                offsetAttr: 'top',\n                overflowAttr: 'overflowY',\n                dragOffset: 0,\n                isOverflowing: true,\n                forceVisible: false,\n                track: { size: null, el: null, rect: null, isVisible: false },\n                scrollbar: { size: null, el: null, rect: null, isVisible: false }\n            }\n        };\n        if (typeof this.el !== 'object' || !this.el.nodeName) {\n            throw new Error(\"Argument passed to SimpleBar must be an HTML element instead of \".concat(this.el));\n        }\n        this.onMouseMove = (0,lodash_es__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this._onMouseMove, 64);\n        this.onWindowResize = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this._onWindowResize, 64, { leading: true });\n        this.onStopScrolling = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this._onStopScrolling, this.stopScrollDelay);\n        this.onMouseEntered = (0,lodash_es__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this._onMouseEntered, this.stopScrollDelay);\n        this.init();\n    }\n    /**\n     * Helper to fix browsers inconsistency on RTL:\n     *  - Firefox inverts the scrollbar initial position\n     *  - IE11 inverts both scrollbar position and scrolling offset\n     * Directly inspired by @KingSora's OverlayScrollbars https://github.com/KingSora/OverlayScrollbars/blob/master/js/OverlayScrollbars.js#L1634\n     */\n    SimpleBarCore.getRtlHelpers = function () {\n        if (SimpleBarCore.rtlHelpers) {\n            return SimpleBarCore.rtlHelpers;\n        }\n        var dummyDiv = document.createElement('div');\n        dummyDiv.innerHTML =\n            '<div class=\"simplebar-dummy-scrollbar-size\"><div></div></div>';\n        var scrollbarDummyEl = dummyDiv.firstElementChild;\n        var dummyChild = scrollbarDummyEl === null || scrollbarDummyEl === void 0 ? void 0 : scrollbarDummyEl.firstElementChild;\n        if (!dummyChild)\n            return null;\n        document.body.appendChild(scrollbarDummyEl);\n        scrollbarDummyEl.scrollLeft = 0;\n        var dummyContainerOffset = SimpleBarCore.getOffset(scrollbarDummyEl);\n        var dummyChildOffset = SimpleBarCore.getOffset(dummyChild);\n        scrollbarDummyEl.scrollLeft = -999;\n        var dummyChildOffsetAfterScroll = SimpleBarCore.getOffset(dummyChild);\n        document.body.removeChild(scrollbarDummyEl);\n        SimpleBarCore.rtlHelpers = {\n            // determines if the scrolling is responding with negative values\n            isScrollOriginAtZero: dummyContainerOffset.left !== dummyChildOffset.left,\n            // determines if the origin scrollbar position is inverted or not (positioned on left or right)\n            isScrollingToNegative: dummyChildOffset.left !== dummyChildOffsetAfterScroll.left\n        };\n        return SimpleBarCore.rtlHelpers;\n    };\n    SimpleBarCore.prototype.getScrollbarWidth = function () {\n        // Try/catch for FF 56 throwing on undefined computedStyles\n        try {\n            // Detect browsers supporting CSS scrollbar styling and do not calculate\n            if ((this.contentWrapperEl &&\n                getComputedStyle(this.contentWrapperEl, '::-webkit-scrollbar')\n                    .display === 'none') ||\n                'scrollbarWidth' in document.documentElement.style ||\n                '-ms-overflow-style' in document.documentElement.style) {\n                return 0;\n            }\n            else {\n                return scrollbarWidth();\n            }\n        }\n        catch (e) {\n            return scrollbarWidth();\n        }\n    };\n    SimpleBarCore.getOffset = function (el) {\n        var rect = el.getBoundingClientRect();\n        var elDocument = getElementDocument(el);\n        var elWindow = getElementWindow(el);\n        return {\n            top: rect.top +\n                (elWindow.pageYOffset || elDocument.documentElement.scrollTop),\n            left: rect.left +\n                (elWindow.pageXOffset || elDocument.documentElement.scrollLeft)\n        };\n    };\n    SimpleBarCore.prototype.init = function () {\n        // We stop here on server-side\n        if (can_use_dom__WEBPACK_IMPORTED_MODULE_0__) {\n            this.initDOM();\n            this.rtlHelpers = SimpleBarCore.getRtlHelpers();\n            this.scrollbarWidth = this.getScrollbarWidth();\n            this.recalculate();\n            this.initListeners();\n        }\n    };\n    SimpleBarCore.prototype.initDOM = function () {\n        var _a, _b;\n        // assume that element has his DOM already initiated\n        this.wrapperEl = this.el.querySelector(classNamesToQuery(this.classNames.wrapper));\n        this.contentWrapperEl =\n            this.options.scrollableNode ||\n                this.el.querySelector(classNamesToQuery(this.classNames.contentWrapper));\n        this.contentEl =\n            this.options.contentNode ||\n                this.el.querySelector(classNamesToQuery(this.classNames.contentEl));\n        this.offsetEl = this.el.querySelector(classNamesToQuery(this.classNames.offset));\n        this.maskEl = this.el.querySelector(classNamesToQuery(this.classNames.mask));\n        this.placeholderEl = this.findChild(this.wrapperEl, classNamesToQuery(this.classNames.placeholder));\n        this.heightAutoObserverWrapperEl = this.el.querySelector(classNamesToQuery(this.classNames.heightAutoObserverWrapperEl));\n        this.heightAutoObserverEl = this.el.querySelector(classNamesToQuery(this.classNames.heightAutoObserverEl));\n        this.axis.x.track.el = this.findChild(this.el, \"\".concat(classNamesToQuery(this.classNames.track)).concat(classNamesToQuery(this.classNames.horizontal)));\n        this.axis.y.track.el = this.findChild(this.el, \"\".concat(classNamesToQuery(this.classNames.track)).concat(classNamesToQuery(this.classNames.vertical)));\n        this.axis.x.scrollbar.el =\n            ((_a = this.axis.x.track.el) === null || _a === void 0 ? void 0 : _a.querySelector(classNamesToQuery(this.classNames.scrollbar))) || null;\n        this.axis.y.scrollbar.el =\n            ((_b = this.axis.y.track.el) === null || _b === void 0 ? void 0 : _b.querySelector(classNamesToQuery(this.classNames.scrollbar))) || null;\n        if (!this.options.autoHide) {\n            addClasses(this.axis.x.scrollbar.el, this.classNames.visible);\n            addClasses(this.axis.y.scrollbar.el, this.classNames.visible);\n        }\n    };\n    SimpleBarCore.prototype.initListeners = function () {\n        var _this = this;\n        var _a;\n        var elWindow = getElementWindow(this.el);\n        // Event listeners\n        this.el.addEventListener('mouseenter', this.onMouseEnter);\n        this.el.addEventListener('pointerdown', this.onPointerEvent, true);\n        this.el.addEventListener('mousemove', this.onMouseMove);\n        this.el.addEventListener('mouseleave', this.onMouseLeave);\n        (_a = this.contentWrapperEl) === null || _a === void 0 ? void 0 : _a.addEventListener('scroll', this.onScroll);\n        // Browser zoom triggers a window resize\n        elWindow.addEventListener('resize', this.onWindowResize);\n        if (!this.contentEl)\n            return;\n        if (window.ResizeObserver) {\n            // Hack for https://github.com/WICG/ResizeObserver/issues/38\n            var resizeObserverStarted_1 = false;\n            var resizeObserver = elWindow.ResizeObserver || ResizeObserver;\n            this.resizeObserver = new resizeObserver(function () {\n                if (!resizeObserverStarted_1)\n                    return;\n                elWindow.requestAnimationFrame(function () {\n                    _this.recalculate();\n                });\n            });\n            this.resizeObserver.observe(this.el);\n            this.resizeObserver.observe(this.contentEl);\n            elWindow.requestAnimationFrame(function () {\n                resizeObserverStarted_1 = true;\n            });\n        }\n        // This is required to detect horizontal scroll. Vertical scroll only needs the resizeObserver.\n        this.mutationObserver = new elWindow.MutationObserver(function () {\n            elWindow.requestAnimationFrame(function () {\n                _this.recalculate();\n            });\n        });\n        this.mutationObserver.observe(this.contentEl, {\n            childList: true,\n            subtree: true,\n            characterData: true\n        });\n    };\n    SimpleBarCore.prototype.recalculate = function () {\n        if (!this.heightAutoObserverEl ||\n            !this.contentEl ||\n            !this.contentWrapperEl ||\n            !this.wrapperEl ||\n            !this.placeholderEl)\n            return;\n        var elWindow = getElementWindow(this.el);\n        this.elStyles = elWindow.getComputedStyle(this.el);\n        this.isRtl = this.elStyles.direction === 'rtl';\n        var contentElOffsetWidth = this.contentEl.offsetWidth;\n        var isHeightAuto = this.heightAutoObserverEl.offsetHeight <= 1;\n        var isWidthAuto = this.heightAutoObserverEl.offsetWidth <= 1 || contentElOffsetWidth > 0;\n        var contentWrapperElOffsetWidth = this.contentWrapperEl.offsetWidth;\n        var elOverflowX = this.elStyles.overflowX;\n        var elOverflowY = this.elStyles.overflowY;\n        this.contentEl.style.padding = \"\".concat(this.elStyles.paddingTop, \" \").concat(this.elStyles.paddingRight, \" \").concat(this.elStyles.paddingBottom, \" \").concat(this.elStyles.paddingLeft);\n        this.wrapperEl.style.margin = \"-\".concat(this.elStyles.paddingTop, \" -\").concat(this.elStyles.paddingRight, \" -\").concat(this.elStyles.paddingBottom, \" -\").concat(this.elStyles.paddingLeft);\n        var contentElScrollHeight = this.contentEl.scrollHeight;\n        var contentElScrollWidth = this.contentEl.scrollWidth;\n        this.contentWrapperEl.style.height = isHeightAuto ? 'auto' : '100%';\n        // Determine placeholder size\n        this.placeholderEl.style.width = isWidthAuto\n            ? \"\".concat(contentElOffsetWidth || contentElScrollWidth, \"px\")\n            : 'auto';\n        this.placeholderEl.style.height = \"\".concat(contentElScrollHeight, \"px\");\n        var contentWrapperElOffsetHeight = this.contentWrapperEl.offsetHeight;\n        this.axis.x.isOverflowing =\n            contentElOffsetWidth !== 0 && contentElScrollWidth > contentElOffsetWidth;\n        this.axis.y.isOverflowing =\n            contentElScrollHeight > contentWrapperElOffsetHeight;\n        // Set isOverflowing to false if user explicitely set hidden overflow\n        this.axis.x.isOverflowing =\n            elOverflowX === 'hidden' ? false : this.axis.x.isOverflowing;\n        this.axis.y.isOverflowing =\n            elOverflowY === 'hidden' ? false : this.axis.y.isOverflowing;\n        this.axis.x.forceVisible =\n            this.options.forceVisible === 'x' || this.options.forceVisible === true;\n        this.axis.y.forceVisible =\n            this.options.forceVisible === 'y' || this.options.forceVisible === true;\n        this.hideNativeScrollbar();\n        // Set isOverflowing to false if scrollbar is not necessary (content is shorter than offset)\n        var offsetForXScrollbar = this.axis.x.isOverflowing\n            ? this.scrollbarWidth\n            : 0;\n        var offsetForYScrollbar = this.axis.y.isOverflowing\n            ? this.scrollbarWidth\n            : 0;\n        this.axis.x.isOverflowing =\n            this.axis.x.isOverflowing &&\n                contentElScrollWidth > contentWrapperElOffsetWidth - offsetForYScrollbar;\n        this.axis.y.isOverflowing =\n            this.axis.y.isOverflowing &&\n                contentElScrollHeight >\n                    contentWrapperElOffsetHeight - offsetForXScrollbar;\n        this.axis.x.scrollbar.size = this.getScrollbarSize('x');\n        this.axis.y.scrollbar.size = this.getScrollbarSize('y');\n        if (this.axis.x.scrollbar.el)\n            this.axis.x.scrollbar.el.style.width = \"\".concat(this.axis.x.scrollbar.size, \"px\");\n        if (this.axis.y.scrollbar.el)\n            this.axis.y.scrollbar.el.style.height = \"\".concat(this.axis.y.scrollbar.size, \"px\");\n        this.positionScrollbar('x');\n        this.positionScrollbar('y');\n        this.toggleTrackVisibility('x');\n        this.toggleTrackVisibility('y');\n    };\n    /**\n     * Calculate scrollbar size\n     */\n    SimpleBarCore.prototype.getScrollbarSize = function (axis) {\n        var _a, _b;\n        if (axis === void 0) { axis = 'y'; }\n        if (!this.axis[axis].isOverflowing || !this.contentEl) {\n            return 0;\n        }\n        var contentSize = this.contentEl[this.axis[axis].scrollSizeAttr];\n        var trackSize = (_b = (_a = this.axis[axis].track.el) === null || _a === void 0 ? void 0 : _a[this.axis[axis].offsetSizeAttr]) !== null && _b !== void 0 ? _b : 0;\n        var scrollbarRatio = trackSize / contentSize;\n        var scrollbarSize;\n        // Calculate new height/position of drag handle.\n        scrollbarSize = Math.max(~~(scrollbarRatio * trackSize), this.options.scrollbarMinSize);\n        if (this.options.scrollbarMaxSize) {\n            scrollbarSize = Math.min(scrollbarSize, this.options.scrollbarMaxSize);\n        }\n        return scrollbarSize;\n    };\n    SimpleBarCore.prototype.positionScrollbar = function (axis) {\n        var _a, _b, _c;\n        if (axis === void 0) { axis = 'y'; }\n        var scrollbar = this.axis[axis].scrollbar;\n        if (!this.axis[axis].isOverflowing ||\n            !this.contentWrapperEl ||\n            !scrollbar.el ||\n            !this.elStyles) {\n            return;\n        }\n        var contentSize = this.contentWrapperEl[this.axis[axis].scrollSizeAttr];\n        var trackSize = ((_a = this.axis[axis].track.el) === null || _a === void 0 ? void 0 : _a[this.axis[axis].offsetSizeAttr]) || 0;\n        var hostSize = parseInt(this.elStyles[this.axis[axis].sizeAttr], 10);\n        var scrollOffset = this.contentWrapperEl[this.axis[axis].scrollOffsetAttr];\n        scrollOffset =\n            axis === 'x' &&\n                this.isRtl &&\n                ((_b = SimpleBarCore.getRtlHelpers()) === null || _b === void 0 ? void 0 : _b.isScrollOriginAtZero)\n                ? -scrollOffset\n                : scrollOffset;\n        if (axis === 'x' && this.isRtl) {\n            scrollOffset = ((_c = SimpleBarCore.getRtlHelpers()) === null || _c === void 0 ? void 0 : _c.isScrollingToNegative)\n                ? scrollOffset\n                : -scrollOffset;\n        }\n        var scrollPourcent = scrollOffset / (contentSize - hostSize);\n        var handleOffset = ~~((trackSize - scrollbar.size) * scrollPourcent);\n        handleOffset =\n            axis === 'x' && this.isRtl\n                ? -handleOffset + (trackSize - scrollbar.size)\n                : handleOffset;\n        scrollbar.el.style.transform =\n            axis === 'x'\n                ? \"translate3d(\".concat(handleOffset, \"px, 0, 0)\")\n                : \"translate3d(0, \".concat(handleOffset, \"px, 0)\");\n    };\n    SimpleBarCore.prototype.toggleTrackVisibility = function (axis) {\n        if (axis === void 0) { axis = 'y'; }\n        var track = this.axis[axis].track.el;\n        var scrollbar = this.axis[axis].scrollbar.el;\n        if (!track || !scrollbar || !this.contentWrapperEl)\n            return;\n        if (this.axis[axis].isOverflowing || this.axis[axis].forceVisible) {\n            track.style.visibility = 'visible';\n            this.contentWrapperEl.style[this.axis[axis].overflowAttr] = 'scroll';\n            this.el.classList.add(\"\".concat(this.classNames.scrollable, \"-\").concat(axis));\n        }\n        else {\n            track.style.visibility = 'hidden';\n            this.contentWrapperEl.style[this.axis[axis].overflowAttr] = 'hidden';\n            this.el.classList.remove(\"\".concat(this.classNames.scrollable, \"-\").concat(axis));\n        }\n        // Even if forceVisible is enabled, scrollbar itself should be hidden\n        if (this.axis[axis].isOverflowing) {\n            scrollbar.style.display = 'block';\n        }\n        else {\n            scrollbar.style.display = 'none';\n        }\n    };\n    SimpleBarCore.prototype.showScrollbar = function (axis) {\n        if (axis === void 0) { axis = 'y'; }\n        if (this.axis[axis].isOverflowing && !this.axis[axis].scrollbar.isVisible) {\n            addClasses(this.axis[axis].scrollbar.el, this.classNames.visible);\n            this.axis[axis].scrollbar.isVisible = true;\n        }\n    };\n    SimpleBarCore.prototype.hideScrollbar = function (axis) {\n        if (axis === void 0) { axis = 'y'; }\n        if (this.axis[axis].isOverflowing && this.axis[axis].scrollbar.isVisible) {\n            removeClasses(this.axis[axis].scrollbar.el, this.classNames.visible);\n            this.axis[axis].scrollbar.isVisible = false;\n        }\n    };\n    SimpleBarCore.prototype.hideNativeScrollbar = function () {\n        if (!this.offsetEl)\n            return;\n        this.offsetEl.style[this.isRtl ? 'left' : 'right'] =\n            this.axis.y.isOverflowing || this.axis.y.forceVisible\n                ? \"-\".concat(this.scrollbarWidth, \"px\")\n                : '0px';\n        this.offsetEl.style.bottom =\n            this.axis.x.isOverflowing || this.axis.x.forceVisible\n                ? \"-\".concat(this.scrollbarWidth, \"px\")\n                : '0px';\n    };\n    SimpleBarCore.prototype.onMouseMoveForAxis = function (axis) {\n        if (axis === void 0) { axis = 'y'; }\n        var currentAxis = this.axis[axis];\n        if (!currentAxis.track.el || !currentAxis.scrollbar.el)\n            return;\n        currentAxis.track.rect = currentAxis.track.el.getBoundingClientRect();\n        currentAxis.scrollbar.rect =\n            currentAxis.scrollbar.el.getBoundingClientRect();\n        if (this.isWithinBounds(currentAxis.track.rect)) {\n            this.showScrollbar(axis);\n            addClasses(currentAxis.track.el, this.classNames.hover);\n            if (this.isWithinBounds(currentAxis.scrollbar.rect)) {\n                addClasses(currentAxis.scrollbar.el, this.classNames.hover);\n            }\n            else {\n                removeClasses(currentAxis.scrollbar.el, this.classNames.hover);\n            }\n        }\n        else {\n            removeClasses(currentAxis.track.el, this.classNames.hover);\n            if (this.options.autoHide) {\n                this.hideScrollbar(axis);\n            }\n        }\n    };\n    SimpleBarCore.prototype.onMouseLeaveForAxis = function (axis) {\n        if (axis === void 0) { axis = 'y'; }\n        removeClasses(this.axis[axis].track.el, this.classNames.hover);\n        removeClasses(this.axis[axis].scrollbar.el, this.classNames.hover);\n        if (this.options.autoHide) {\n            this.hideScrollbar(axis);\n        }\n    };\n    /**\n     * on scrollbar handle drag movement starts\n     */\n    SimpleBarCore.prototype.onDragStart = function (e, axis) {\n        var _a;\n        if (axis === void 0) { axis = 'y'; }\n        var elDocument = getElementDocument(this.el);\n        var elWindow = getElementWindow(this.el);\n        var scrollbar = this.axis[axis].scrollbar;\n        // Measure how far the user's mouse is from the top of the scrollbar drag handle.\n        var eventOffset = axis === 'y' ? e.pageY : e.pageX;\n        this.axis[axis].dragOffset =\n            eventOffset - (((_a = scrollbar.rect) === null || _a === void 0 ? void 0 : _a[this.axis[axis].offsetAttr]) || 0);\n        this.draggedAxis = axis;\n        addClasses(this.el, this.classNames.dragging);\n        elDocument.addEventListener('mousemove', this.drag, true);\n        elDocument.addEventListener('mouseup', this.onEndDrag, true);\n        if (this.removePreventClickId === null) {\n            elDocument.addEventListener('click', this.preventClick, true);\n            elDocument.addEventListener('dblclick', this.preventClick, true);\n        }\n        else {\n            elWindow.clearTimeout(this.removePreventClickId);\n            this.removePreventClickId = null;\n        }\n    };\n    SimpleBarCore.prototype.onTrackClick = function (e, axis) {\n        var _this = this;\n        var _a, _b, _c, _d;\n        if (axis === void 0) { axis = 'y'; }\n        var currentAxis = this.axis[axis];\n        if (!this.options.clickOnTrack ||\n            !currentAxis.scrollbar.el ||\n            !this.contentWrapperEl)\n            return;\n        // Preventing the event's default to trigger click underneath\n        e.preventDefault();\n        var elWindow = getElementWindow(this.el);\n        this.axis[axis].scrollbar.rect =\n            currentAxis.scrollbar.el.getBoundingClientRect();\n        var scrollbar = this.axis[axis].scrollbar;\n        var scrollbarOffset = (_b = (_a = scrollbar.rect) === null || _a === void 0 ? void 0 : _a[this.axis[axis].offsetAttr]) !== null && _b !== void 0 ? _b : 0;\n        var hostSize = parseInt((_d = (_c = this.elStyles) === null || _c === void 0 ? void 0 : _c[this.axis[axis].sizeAttr]) !== null && _d !== void 0 ? _d : '0px', 10);\n        var scrolled = this.contentWrapperEl[this.axis[axis].scrollOffsetAttr];\n        var t = axis === 'y'\n            ? this.mouseY - scrollbarOffset\n            : this.mouseX - scrollbarOffset;\n        var dir = t < 0 ? -1 : 1;\n        var scrollSize = dir === -1 ? scrolled - hostSize : scrolled + hostSize;\n        var speed = 40;\n        var scrollTo = function () {\n            if (!_this.contentWrapperEl)\n                return;\n            if (dir === -1) {\n                if (scrolled > scrollSize) {\n                    scrolled -= speed;\n                    _this.contentWrapperEl[_this.axis[axis].scrollOffsetAttr] = scrolled;\n                    elWindow.requestAnimationFrame(scrollTo);\n                }\n            }\n            else {\n                if (scrolled < scrollSize) {\n                    scrolled += speed;\n                    _this.contentWrapperEl[_this.axis[axis].scrollOffsetAttr] = scrolled;\n                    elWindow.requestAnimationFrame(scrollTo);\n                }\n            }\n        };\n        scrollTo();\n    };\n    /**\n     * Getter for content element\n     */\n    SimpleBarCore.prototype.getContentElement = function () {\n        return this.contentEl;\n    };\n    /**\n     * Getter for original scrolling element\n     */\n    SimpleBarCore.prototype.getScrollElement = function () {\n        return this.contentWrapperEl;\n    };\n    SimpleBarCore.prototype.removeListeners = function () {\n        var elWindow = getElementWindow(this.el);\n        // Event listeners\n        this.el.removeEventListener('mouseenter', this.onMouseEnter);\n        this.el.removeEventListener('pointerdown', this.onPointerEvent, true);\n        this.el.removeEventListener('mousemove', this.onMouseMove);\n        this.el.removeEventListener('mouseleave', this.onMouseLeave);\n        if (this.contentWrapperEl) {\n            this.contentWrapperEl.removeEventListener('scroll', this.onScroll);\n        }\n        elWindow.removeEventListener('resize', this.onWindowResize);\n        if (this.mutationObserver) {\n            this.mutationObserver.disconnect();\n        }\n        if (this.resizeObserver) {\n            this.resizeObserver.disconnect();\n        }\n        // Cancel all debounced functions\n        this.onMouseMove.cancel();\n        this.onWindowResize.cancel();\n        this.onStopScrolling.cancel();\n        this.onMouseEntered.cancel();\n    };\n    /**\n     * Remove all listeners from DOM nodes\n     */\n    SimpleBarCore.prototype.unMount = function () {\n        this.removeListeners();\n    };\n    /**\n     * Check if mouse is within bounds\n     */\n    SimpleBarCore.prototype.isWithinBounds = function (bbox) {\n        return (this.mouseX >= bbox.left &&\n            this.mouseX <= bbox.left + bbox.width &&\n            this.mouseY >= bbox.top &&\n            this.mouseY <= bbox.top + bbox.height);\n    };\n    /**\n     * Find element children matches query\n     */\n    SimpleBarCore.prototype.findChild = function (el, query) {\n        var matches = el.matches ||\n            el.webkitMatchesSelector ||\n            el.mozMatchesSelector ||\n            el.msMatchesSelector;\n        return Array.prototype.filter.call(el.children, function (child) {\n            return matches.call(child, query);\n        })[0];\n    };\n    SimpleBarCore.rtlHelpers = null;\n    SimpleBarCore.defaultOptions = {\n        forceVisible: false,\n        clickOnTrack: true,\n        scrollbarMinSize: 25,\n        scrollbarMaxSize: 0,\n        ariaLabel: 'scrollable content',\n        classNames: {\n            contentEl: 'simplebar-content',\n            contentWrapper: 'simplebar-content-wrapper',\n            offset: 'simplebar-offset',\n            mask: 'simplebar-mask',\n            wrapper: 'simplebar-wrapper',\n            placeholder: 'simplebar-placeholder',\n            scrollbar: 'simplebar-scrollbar',\n            track: 'simplebar-track',\n            heightAutoObserverWrapperEl: 'simplebar-height-auto-observer-wrapper',\n            heightAutoObserverEl: 'simplebar-height-auto-observer',\n            visible: 'simplebar-visible',\n            horizontal: 'simplebar-horizontal',\n            vertical: 'simplebar-vertical',\n            hover: 'simplebar-hover',\n            dragging: 'simplebar-dragging',\n            scrolling: 'simplebar-scrolling',\n            scrollable: 'simplebar-scrollable',\n            mouseEntered: 'simplebar-mouse-entered'\n        },\n        scrollableNode: null,\n        contentNode: null,\n        autoHide: true\n    };\n    /**\n     * Static functions\n     */\n    SimpleBarCore.getOptions = getOptions;\n    SimpleBarCore.helpers = helpers;\n    return SimpleBarCore;\n}());\n\n\n//# sourceMappingURL=index.mjs.map\n\n\n/***/ }),\n\n/***/ \"./node_modules/simplebar/dist/index.mjs\":\n/*!***********************************************!*\\\n  !*** ./node_modules/simplebar/dist/index.mjs ***!\n  \\***********************************************/\n/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ SimpleBar; }\n/* harmony export */ });\n/* harmony import */ var can_use_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! can-use-dom */ \"./node_modules/can-use-dom/index.js\");\n/* harmony import */ var simplebar_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! simplebar-core */ \"./node_modules/simplebar-core/dist/index.mjs\");\n/**\n * simplebar - v6.2.5\n * Scrollbars, simpler.\n * https://grsmto.github.io/simplebar/\n *\n * Made by Adrien Denat from a fork by Jonathan Nicol\n * Under MIT License\n */\n\n\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\nvar _a = simplebar_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"].helpers, getOptions = _a.getOptions, addClasses = _a.addClasses;\nvar SimpleBar = /** @class */ (function (_super) {\n    __extends(SimpleBar, _super);\n    function SimpleBar() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var _this = _super.apply(this, args) || this;\n        // // Save a reference to the instance, so we know this DOM node has already been instancied\n        SimpleBar.instances.set(args[0], _this);\n        return _this;\n    }\n    SimpleBar.initDOMLoadedElements = function () {\n        document.removeEventListener('DOMContentLoaded', this.initDOMLoadedElements);\n        window.removeEventListener('load', this.initDOMLoadedElements);\n        Array.prototype.forEach.call(document.querySelectorAll('[data-simplebar]'), function (el) {\n            if (el.getAttribute('data-simplebar') !== 'init' &&\n                !SimpleBar.instances.has(el))\n                new SimpleBar(el, getOptions(el.attributes));\n        });\n    };\n    SimpleBar.removeObserver = function () {\n        var _a;\n        (_a = SimpleBar.globalObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    };\n    SimpleBar.prototype.initDOM = function () {\n        var _this = this;\n        var _a, _b, _c;\n        // make sure this element doesn't have the elements yet\n        if (!Array.prototype.filter.call(this.el.children, function (child) {\n            return child.classList.contains(_this.classNames.wrapper);\n        }).length) {\n            // Prepare DOM\n            this.wrapperEl = document.createElement('div');\n            this.contentWrapperEl = document.createElement('div');\n            this.offsetEl = document.createElement('div');\n            this.maskEl = document.createElement('div');\n            this.contentEl = document.createElement('div');\n            this.placeholderEl = document.createElement('div');\n            this.heightAutoObserverWrapperEl = document.createElement('div');\n            this.heightAutoObserverEl = document.createElement('div');\n            addClasses(this.wrapperEl, this.classNames.wrapper);\n            addClasses(this.contentWrapperEl, this.classNames.contentWrapper);\n            addClasses(this.offsetEl, this.classNames.offset);\n            addClasses(this.maskEl, this.classNames.mask);\n            addClasses(this.contentEl, this.classNames.contentEl);\n            addClasses(this.placeholderEl, this.classNames.placeholder);\n            addClasses(this.heightAutoObserverWrapperEl, this.classNames.heightAutoObserverWrapperEl);\n            addClasses(this.heightAutoObserverEl, this.classNames.heightAutoObserverEl);\n            while (this.el.firstChild) {\n                this.contentEl.appendChild(this.el.firstChild);\n            }\n            this.contentWrapperEl.appendChild(this.contentEl);\n            this.offsetEl.appendChild(this.contentWrapperEl);\n            this.maskEl.appendChild(this.offsetEl);\n            this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl);\n            this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl);\n            this.wrapperEl.appendChild(this.maskEl);\n            this.wrapperEl.appendChild(this.placeholderEl);\n            this.el.appendChild(this.wrapperEl);\n            (_a = this.contentWrapperEl) === null || _a === void 0 ? void 0 : _a.setAttribute('tabindex', '0');\n            (_b = this.contentWrapperEl) === null || _b === void 0 ? void 0 : _b.setAttribute('role', 'region');\n            (_c = this.contentWrapperEl) === null || _c === void 0 ? void 0 : _c.setAttribute('aria-label', this.options.ariaLabel);\n        }\n        if (!this.axis.x.track.el || !this.axis.y.track.el) {\n            var track = document.createElement('div');\n            var scrollbar = document.createElement('div');\n            addClasses(track, this.classNames.track);\n            addClasses(scrollbar, this.classNames.scrollbar);\n            track.appendChild(scrollbar);\n            this.axis.x.track.el = track.cloneNode(true);\n            addClasses(this.axis.x.track.el, this.classNames.horizontal);\n            this.axis.y.track.el = track.cloneNode(true);\n            addClasses(this.axis.y.track.el, this.classNames.vertical);\n            this.el.appendChild(this.axis.x.track.el);\n            this.el.appendChild(this.axis.y.track.el);\n        }\n        simplebar_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"].prototype.initDOM.call(this);\n        this.el.setAttribute('data-simplebar', 'init');\n    };\n    SimpleBar.prototype.unMount = function () {\n        simplebar_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"].prototype.unMount.call(this);\n        SimpleBar.instances[\"delete\"](this.el);\n    };\n    SimpleBar.initHtmlApi = function () {\n        this.initDOMLoadedElements = this.initDOMLoadedElements.bind(this);\n        // MutationObserver is IE11+\n        if (typeof MutationObserver !== 'undefined') {\n            // Mutation observer to observe dynamically added elements\n            this.globalObserver = new MutationObserver(SimpleBar.handleMutations);\n            this.globalObserver.observe(document, { childList: true, subtree: true });\n        }\n        // Taken from jQuery `ready` function\n        // Instantiate elements already present on the page\n        if (document.readyState === 'complete' || // @ts-ignore: IE specific\n            (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\n            // Handle it asynchronously to allow scripts the opportunity to delay init\n            window.setTimeout(this.initDOMLoadedElements);\n        }\n        else {\n            document.addEventListener('DOMContentLoaded', this.initDOMLoadedElements);\n            window.addEventListener('load', this.initDOMLoadedElements);\n        }\n    };\n    SimpleBar.handleMutations = function (mutations) {\n        mutations.forEach(function (mutation) {\n            mutation.addedNodes.forEach(function (addedNode) {\n                if (addedNode.nodeType === 1) {\n                    if (addedNode.hasAttribute('data-simplebar')) {\n                        !SimpleBar.instances.has(addedNode) &&\n                            document.documentElement.contains(addedNode) &&\n                            new SimpleBar(addedNode, getOptions(addedNode.attributes));\n                    }\n                    else {\n                        addedNode\n                            .querySelectorAll('[data-simplebar]')\n                            .forEach(function (el) {\n                            if (el.getAttribute('data-simplebar') !== 'init' &&\n                                !SimpleBar.instances.has(el) &&\n                                document.documentElement.contains(el))\n                                new SimpleBar(el, getOptions(el.attributes));\n                        });\n                    }\n                }\n            });\n            mutation.removedNodes.forEach(function (removedNode) {\n                if (removedNode.nodeType === 1) {\n                    if (removedNode.getAttribute('data-simplebar') === 'init') {\n                        SimpleBar.instances.has(removedNode) &&\n                            !document.documentElement.contains(removedNode) &&\n                            SimpleBar.instances.get(removedNode).unMount();\n                    }\n                    else {\n                        Array.prototype.forEach.call(removedNode.querySelectorAll('[data-simplebar=\"init\"]'), function (el) {\n                            SimpleBar.instances.has(el) &&\n                                !document.documentElement.contains(el) &&\n                                SimpleBar.instances.get(el).unMount();\n                        });\n                    }\n                }\n            });\n        });\n    };\n    SimpleBar.instances = new WeakMap();\n    return SimpleBar;\n}(simplebar_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n/**\n * HTML API\n * Called only in a browser env.\n */\nif (can_use_dom__WEBPACK_IMPORTED_MODULE_0__) {\n    SimpleBar.initHtmlApi();\n}\n\n\n//# sourceMappingURL=index.mjs.map\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\n/*!*************************!*\\\n  !*** ./src/js/entry.js ***!\n  \\*************************/\n/*!*\n * Ð’ÐÐ˜ÐœÐÐÐ˜Ð•! Ð­Ñ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð» Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸.\n * Ð›ÑŽÐ±Ñ‹Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð° Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ½Ñ‹ Ð¿Ñ€Ð¸ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸.\n * Ð›ÑŽÐ±Ð¾Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð±ÐµÐ· Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸ Ð”ÐžÐ›Ð¬Ð¨Ð• Ð˜ Ð”ÐžÐ ÐžÐ–Ð• Ð² 2-5 Ñ€Ð°Ð·.\n */\n\n/* global require */\n\n__webpack_require__(/*! ../blocks/ask/ask.js */ \"./src/blocks/ask/ask.js\");\n__webpack_require__(/*! ../blocks/card-inventory/card-inventory.js */ \"./src/blocks/card-inventory/card-inventory.js\");\n__webpack_require__(/*! ../blocks/card-product/card-product.js */ \"./src/blocks/card-product/card-product.js\");\n__webpack_require__(/*! ../blocks/faq/faq.js */ \"./src/blocks/faq/faq.js\");\n__webpack_require__(/*! ../blocks/field/field.js */ \"./src/blocks/field/field.js\");\n__webpack_require__(/*! ../blocks/filter/filter.js */ \"./src/blocks/filter/filter.js\");\n__webpack_require__(/*! ../blocks/form/form.js */ \"./src/blocks/form/form.js\");\n__webpack_require__(/*! ../blocks/header/header.js */ \"./src/blocks/header/header.js\");\n__webpack_require__(/*! ../blocks/hero/hero.js */ \"./src/blocks/hero/hero.js\");\n__webpack_require__(/*! ../blocks/input/input.js */ \"./src/blocks/input/input.js\");\n__webpack_require__(/*! ../blocks/number/number.js */ \"./src/blocks/number/number.js\");\n__webpack_require__(/*! ../blocks/panel/panel.js */ \"./src/blocks/panel/panel.js\");\n__webpack_require__(/*! ../blocks/payment/payment.js */ \"./src/blocks/payment/payment.js\");\n__webpack_require__(/*! ../blocks/profile/profile.js */ \"./src/blocks/profile/profile.js\");\n__webpack_require__(/*! ../blocks/textarea/textarea.js */ \"./src/blocks/textarea/textarea.js\");\n__webpack_require__(/*! ./common/simpleBar.js */ \"./src/js/common/simpleBar.js\");\n__webpack_require__(/*! ./script.js */ \"./src/js/script.js\");\n\n/*!*\n * Ð’ÐÐ˜ÐœÐÐÐ˜Ð•! Ð­Ñ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð» Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸.\n * Ð›ÑŽÐ±Ñ‹Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð° Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ½Ñ‹ Ð¿Ñ€Ð¸ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸.\n * Ð›ÑŽÐ±Ð¾Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð±ÐµÐ· Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸ Ð”ÐžÐ›Ð¬Ð¨Ð• Ð˜ Ð”ÐžÐ ÐžÐ–Ð• Ð² 2-5 Ñ€Ð°Ð·.\n */\n}();\n/******/ })()\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsNEJBQTRCLHdCQUF3QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0JBQStCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbUNBQW1DO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsOENBQThDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvQkFBb0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDLHNDQUFzQyx5Q0FBeUM7QUFDL0Usa0NBQWtDLHFDQUFxQztBQUN2RSxtQ0FBbUMsc0NBQXNDO0FBQ3pFLHFCQUFxQix1QkFBdUI7QUFDNUMsdUJBQXVCLHlCQUF5QjtBQUNoRCx5QkFBeUIsMkJBQTJCO0FBQ3BELG9CQUFvQix1QkFBdUI7QUFDM0MsdUJBQXVCLDBCQUEwQjtBQUNqRCxpQ0FBaUMsb0NBQW9DO0FBQ3JFLHFCQUFxQix1QkFBdUI7QUFDNUMsMkJBQTJCLDhCQUE4QjtBQUN6RCxzQkFBc0IseUJBQXlCO0FBQy9DLHFCQUFxQix3QkFBd0I7QUFDN0MsdUJBQXVCLDBCQUEwQjtBQUNqRCx5QkFBeUIsMkJBQTJCO0FBQ3BELDBCQUEwQiw2QkFBNkI7QUFDdkQsc0JBQXNCLHlCQUF5QjtBQUMvQyx3QkFBd0IsMkJBQTJCO0FBQ25ELCtCQUErQixpQ0FBaUM7QUFDaEUsK0JBQStCLGtDQUFrQztBQUNqRSx5QkFBeUIsMkJBQTJCO0FBQ3BELDBCQUEwQiw0QkFBNEI7QUFDdEQsZ0NBQWdDLG1DQUFtQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixxQkFBcUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFdBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0JBQWdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixnQkFBZ0I7QUFDaEc7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQywrQkFBK0I7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdDQUFnQztBQUNuRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Es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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLDJCQUEyQjtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFvRDtBQUM3RSw2QkFBNkI7QUFDN0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFvRDtBQUM3RSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxREFBUTtBQUNuQyw4QkFBOEIscURBQVEsNkJBQTZCLGVBQWU7QUFDbEYsK0JBQStCLHFEQUFRO0FBQ3ZDLDhCQUE4QixxREFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QU8sQ0FBQyxpRUFBNEIsQ0FBQztBQUNyQ0EsbUJBQU8sQ0FBQyx5REFBd0IsQ0FBQztBQUNqQ0EsbUJBQU8sQ0FBQyw2REFBMEIsQ0FBQztBQUNuQ0EsbUJBQU8sQ0FBQyxpRUFBNEIsQ0FBQztBQUNyQ0EsbUJBQU8sQ0FBQyw2REFBMEIsQ0FBQztBQUNuQ0EsbUJBQU8sQ0FBQyxxRUFBOEIsQ0FBQztBQUN2Q0EsbUJBQU8sQ0FBQyxxRUFBOEIsQ0FBQztBQUN2Q0EsbUJBQU8sQ0FBQyx5RUFBZ0MsQ0FBQztBQUN6Q0EsbUJBQU8sQ0FBQywyREFBdUIsQ0FBQztBQUNoQ0EsbUJBQU8sQ0FBQyx1Q0FBYSxDQUFDOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXV0b3NpemUvZGlzdC9hdXRvc2l6ZS5lc20uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9hc2svYXNrLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9ibG9ja3MvY2FyZC1pbnZlbnRvcnkvY2FyZC1pbnZlbnRvcnkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9jYXJkLXByb2R1Y3QvY2FyZC1wcm9kdWN0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9ibG9ja3MvZmFxL2ZhcS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL2ZpZWxkL2ZpZWxkLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9ibG9ja3MvZmlsdGVyL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL2Zvcm0vZm9ybS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL2hlYWRlci9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9oZXJvL2hlcm8uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9pbnB1dC9pbnB1dC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL251bWJlci9udW1iZXIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2Jsb2Nrcy9wYW5lbC9wYW5lbC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL3BheW1lbnQvcGF5bWVudC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL3Byb2ZpbGUvcHJvZmlsZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvYmxvY2tzL3RleHRhcmVhL3RleHRhcmVhLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9qcy9jb21tb24vc2ltcGxlQmFyLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL3NyYy9qcy9jb21tb24vd051bWIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vc3JjL2pzL3NjcmlwdC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvY2FuLXVzZS1kb20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9jb250cm9scy9odG1sLWNvbnRlbnRlZGl0YWJsZS1tYXNrLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9jb250cm9scy9odG1sLWlucHV0LW1hc2stZWxlbWVudC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2NvbnRyb2xzL2h0bWwtbWFzay1lbGVtZW50LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vY29udHJvbHMvaW5wdXQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9jb250cm9scy9tYXNrLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9jb3JlL2FjdGlvbi1kZXRhaWxzLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9jb3JlL2hvbGRlci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL2NvcmUvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9iYXNlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL2RhdGUuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvZHluYW1pYy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9lbnVtLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL2ZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvbnVtYmVyLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL3BhdHRlcm4uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvcGF0dGVybi9jaHVuay10YWlsLWRldGFpbHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvcGF0dGVybi9jdXJzb3IuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2ltYXNrL2VzbS9tYXNrZWQvcGF0dGVybi9maXhlZC1kZWZpbml0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL3BhdHRlcm4vaW5wdXQtZGVmaW5pdGlvbi5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvaW1hc2svZXNtL21hc2tlZC9waXBlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL3JhbmdlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9pbWFzay9lc20vbWFza2VkL3JlZ2V4cC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbm91aXNsaWRlci9kaXN0L25vdWlzbGlkZXIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fU3ltYm9sLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VHZXRUYWcuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZVRyaW0uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZnJlZUdsb2JhbC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19nZXRSYXdUYWcuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb2JqZWN0VG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fcm9vdC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL190cmltbWVkRW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzT2JqZWN0LmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNPYmplY3RMaWtlLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNTeW1ib2wuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9ub3cuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy90aHJvdHRsZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL3RvTnVtYmVyLmpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXItY29yZS9kaXN0L2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL2Rpc3QvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QtYnVpbGRlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vcHJvamVjdC1idWlsZGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wcm9qZWN0LWJ1aWxkZXIvLi9zcmMvanMvZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGUsdCxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIE1hcD9uZXcgTWFwOihlPVtdLHQ9W10se2hhczpmdW5jdGlvbih0KXtyZXR1cm4gZS5pbmRleE9mKHQpPi0xfSxnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIHRbZS5pbmRleE9mKG4pXX0sc2V0OmZ1bmN0aW9uKG4sbyl7LTE9PT1lLmluZGV4T2YobikmJihlLnB1c2gobiksdC5wdXNoKG8pKX0sZGVsZXRlOmZ1bmN0aW9uKG4pe3ZhciBvPWUuaW5kZXhPZihuKTtvPi0xJiYoZS5zcGxpY2UobywxKSx0LnNwbGljZShvLDEpKX19KSxvPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRXZlbnQoZSx7YnViYmxlczohMH0pfTt0cnl7bmV3IEV2ZW50KFwidGVzdFwiKX1jYXRjaChlKXtvPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7cmV0dXJuIHQuaW5pdEV2ZW50KGUsITAsITEpLHR9fWZ1bmN0aW9uIHIoZSl7dmFyIHQ9bi5nZXQoZSk7dCYmdC5kZXN0cm95KCl9ZnVuY3Rpb24gaShlKXt2YXIgdD1uLmdldChlKTt0JiZ0LnVwZGF0ZSgpfXZhciBsPW51bGw7XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8XCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LmdldENvbXB1dGVkU3R5bGU/KChsPWZ1bmN0aW9uKGUpe3JldHVybiBlfSkuZGVzdHJveT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sbC51cGRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KTooKGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLmxlbmd0aD9lOltlXSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZSYmZS5ub2RlTmFtZSYmXCJURVhUQVJFQVwiPT09ZS5ub2RlTmFtZSYmIW4uaGFzKGUpKXt2YXIgdCxyPW51bGwsaT1udWxsLGw9bnVsbCxhPWZ1bmN0aW9uKCl7ZS5jbGllbnRXaWR0aCE9PWkmJnAoKX0sZD1mdW5jdGlvbih0KXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGEsITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImlucHV0XCIscCwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIixwLCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhdXRvc2l6ZTpkZXN0cm95XCIsZCwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYXV0b3NpemU6dXBkYXRlXCIscCwhMSksT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihuKXtlLnN0eWxlW25dPXRbbl19KSxuLmRlbGV0ZShlKX0uYmluZChlLHtoZWlnaHQ6ZS5zdHlsZS5oZWlnaHQscmVzaXplOmUuc3R5bGUucmVzaXplLG92ZXJmbG93WTplLnN0eWxlLm92ZXJmbG93WSxvdmVyZmxvd1g6ZS5zdHlsZS5vdmVyZmxvd1gsd29yZFdyYXA6ZS5zdHlsZS53b3JkV3JhcH0pO2UuYWRkRXZlbnRMaXN0ZW5lcihcImF1dG9zaXplOmRlc3Ryb3lcIixkLCExKSxcIm9ucHJvcGVydHljaGFuZ2VcImluIGUmJlwib25pbnB1dFwiaW4gZSYmZS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixwLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGEsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIscCwhMSksZS5hZGRFdmVudExpc3RlbmVyKFwiYXV0b3NpemU6dXBkYXRlXCIscCwhMSksZS5zdHlsZS5vdmVyZmxvd1g9XCJoaWRkZW5cIixlLnN0eWxlLndvcmRXcmFwPVwiYnJlYWstd29yZFwiLG4uc2V0KGUse2Rlc3Ryb3k6ZCx1cGRhdGU6cH0pLFwidmVydGljYWxcIj09PSh0PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkpLnJlc2l6ZT9lLnN0eWxlLnJlc2l6ZT1cIm5vbmVcIjpcImJvdGhcIj09PXQucmVzaXplJiYoZS5zdHlsZS5yZXNpemU9XCJob3Jpem9udGFsXCIpLHI9XCJjb250ZW50LWJveFwiPT09dC5ib3hTaXppbmc/LShwYXJzZUZsb2F0KHQucGFkZGluZ1RvcCkrcGFyc2VGbG9hdCh0LnBhZGRpbmdCb3R0b20pKTpwYXJzZUZsb2F0KHQuYm9yZGVyVG9wV2lkdGgpK3BhcnNlRmxvYXQodC5ib3JkZXJCb3R0b21XaWR0aCksaXNOYU4ocikmJihyPTApLHAoKX1mdW5jdGlvbiBzKHQpe3ZhciBuPWUuc3R5bGUud2lkdGg7ZS5zdHlsZS53aWR0aD1cIjBweFwiLGUuc3R5bGUud2lkdGg9bixlLnN0eWxlLm92ZXJmbG93WT10fWZ1bmN0aW9uIHUoKXtpZigwIT09ZS5zY3JvbGxIZWlnaHQpe3ZhciB0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXTtlJiZlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQ7KWUucGFyZW50Tm9kZS5zY3JvbGxUb3AmJihlLnBhcmVudE5vZGUuc3R5bGUuc2Nyb2xsQmVoYXZpb3I9XCJhdXRvXCIsdC5wdXNoKFtlLnBhcmVudE5vZGUsZS5wYXJlbnROb2RlLnNjcm9sbFRvcF0pKSxlPWUucGFyZW50Tm9kZTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF07dC5zY3JvbGxUb3A9ZVsxXSx0LnN0eWxlLnNjcm9sbEJlaGF2aW9yPW51bGx9KX19KGUpO2Uuc3R5bGUuaGVpZ2h0PVwiXCIsZS5zdHlsZS5oZWlnaHQ9ZS5zY3JvbGxIZWlnaHQrcitcInB4XCIsaT1lLmNsaWVudFdpZHRoLHQoKX19ZnVuY3Rpb24gcCgpe3UoKTt2YXIgdD1NYXRoLnJvdW5kKHBhcnNlRmxvYXQoZS5zdHlsZS5oZWlnaHQpKSxuPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkscj1cImNvbnRlbnQtYm94XCI9PT1uLmJveFNpemluZz9NYXRoLnJvdW5kKHBhcnNlRmxvYXQobi5oZWlnaHQpKTplLm9mZnNldEhlaWdodDtpZihyPHQ/XCJoaWRkZW5cIj09PW4ub3ZlcmZsb3dZJiYocyhcInNjcm9sbFwiKSx1KCkscj1cImNvbnRlbnQtYm94XCI9PT1uLmJveFNpemluZz9NYXRoLnJvdW5kKHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKS5oZWlnaHQpKTplLm9mZnNldEhlaWdodCk6XCJoaWRkZW5cIiE9PW4ub3ZlcmZsb3dZJiYocyhcImhpZGRlblwiKSx1KCkscj1cImNvbnRlbnQtYm94XCI9PT1uLmJveFNpemluZz9NYXRoLnJvdW5kKHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKS5oZWlnaHQpKTplLm9mZnNldEhlaWdodCksbCE9PXIpe2w9cjt2YXIgaT1vKFwiYXV0b3NpemU6cmVzaXplZFwiKTt0cnl7ZS5kaXNwYXRjaEV2ZW50KGkpfWNhdGNoKGUpe319fX0oZSl9KSxlfSkuZGVzdHJveT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLmxlbmd0aD9lOltlXSxyKSxlfSxsLnVwZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLmxlbmd0aD9lOltlXSxpKSxlfSk7dmFyIGE9bDtleHBvcnQgZGVmYXVsdCBhO1xuIiwiaW1wb3J0IHJlYWR5IGZyb20gXCIuLi8uLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgYXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXNrX19mb3JtXCIpO1xuXG4gIGlmIChhc2tGb3JtKSB7XG4gICAgY29uc3QgZm9ybUlucHV0cyA9IGFza0Zvcm0ucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpO1xuICAgIGNvbnN0IGZvcm1UZXh0YXJlYSA9IGFza0Zvcm0ucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpO1xuICAgIGNvbnN0IGZvcm1CdXR0b24gPSBhc2tGb3JtLnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIik7XG5cbiAgICBmb3JtSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICBjb250YWN0c0Zvcm1DaGVjayhhc2tGb3JtLCBmb3JtQnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZm9ybVRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICBjb250YWN0c0Zvcm1DaGVjayhhc2tGb3JtLCBmb3JtQnV0dG9uKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGNvbnRhY3RzRm9ybUNoZWNrKGZvcm0sIHN1Ym1pdCkge1xuICBjb25zdCBmb3JtTmFtZVZhbHVlID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbdHlwZT0ndGV4dCddXCIpLnZhbHVlO1xuICBjb25zdCBmb3JtRW1haWxWYWx1ZSA9IGZvcm0ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J2VtYWlsJ11cIikudmFsdWU7XG4gIGNvbnN0IGZvcm1UZXh0YXJlYVZhbHVlID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwidGV4dGFyZWFcIikudmFsdWU7XG4gIGNvbnN0IG5vRW1wdHlWYWx1ZXMgPSAhIWZvcm1OYW1lVmFsdWUgJiYgISFmb3JtRW1haWxWYWx1ZSAmJiAhIWZvcm1UZXh0YXJlYVZhbHVlO1xuICBjb25zdCBlbWFpbEZvcm1hdCA9IC9eW1xcdy1cXFxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSQvLnRlc3QoZm9ybUVtYWlsVmFsdWUpO1xuXG4gIG5vRW1wdHlWYWx1ZXMgJiYgZW1haWxGb3JtYXRcbiAgICA/IHN1Ym1pdC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKVxuICAgIDogc3VibWl0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbn1cbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGludmVudG9yeUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJkLWludmVudG9yeVwiKTtcblxuICBpZiAoaW52ZW50b3J5Q2FyZHMubGVuZ3RoICE9PSAwKSB7XG4gICAgY29uc3Qgc2VsZWN0QWxsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnZlbnRvcnlBbGxcIik7XG4gICAgY29uc3QgZGVzZWxlY3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ludmVudG9yeU5vbmVcIik7XG5cbiAgICBzZWxlY3RBbGxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGludmVudG9yeUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgY29uc3QgY2FyZENoZWNrYm94ID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9J2NoZWNrYm94J11cIik7XG4gICAgICAgIGNhcmRDaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzZWxlY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGludmVudG9yeUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgY29uc3QgY2FyZENoZWNrYm94ID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9J2NoZWNrYm94J11cIik7XG4gICAgICAgIGNhcmRDaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSk7XG4iLCJpbXBvcnQgcmVhZHkgZnJvbSBcIi4uLy4uL2pzL3V0aWxzL2RvY3VtZW50UmVhZHkuanNcIjtcblxucmVhZHkoZnVuY3Rpb24gKCkge1xuICBjb25zdCBwcm9kdWN0Q2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcmQtcHJvZHVjdFwiKTtcblxuICBpZiAocHJvZHVjdENhcmRzLmxlbmd0aCAhPT0gMCkge1xuICAgIHByb2R1Y3RDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjb25zdCBjYXJkQnV0dG9uID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtcHJvZHVjdF9fYnV0dG9uXCIpO1xuXG4gICAgICBjYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGlmIChjYXJkQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImNhcmQtcHJvZHVjdF9fYnV0dG9uLS1hY3RpdmVcIikpIHtcbiAgICAgICAgICBjYXJkQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkLXByb2R1Y3RfX2J1dHRvbi0tYWN0aXZlXCIpO1xuICAgICAgICAgIGNhcmRCdXR0b24udGV4dENvbnRlbnQgPSBg0JIg0LrQvtGA0LfQuNC90YNgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhcmRCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmQtcHJvZHVjdF9fYnV0dG9uLS1hY3RpdmVcIik7XG4gICAgICAgICAgY2FyZEJ1dHRvbi50ZXh0Q29udGVudCA9IGDQkiDQutC+0YDQt9C40L3QtWA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59KTtcbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGZhcSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmFxXCIpO1xuXG4gIGlmIChmYXEpIHtcbiAgICBjb25zdCBmYXFJdGVtcyA9IGZhcS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZhcV9faXRlbVwiKTtcblxuICAgIGZhcUl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGZhcUhlYWQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuZmFxX19oZWFkXCIpO1xuICAgICAgY29uc3QgZmFxVHJpZ2dlciA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5mYXFfX3RyaWdnZXJcIik7XG5cbiAgICAgIGZhcUhlYWQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZmFxX19pdGVtLS1vcGVuXCIpKSB7XG4gICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiZmFxX19pdGVtLS1vcGVuXCIpO1xuICAgICAgICAgIGZhcVRyaWdnZXIudGV4dENvbnRlbnQgPSBcIitcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJmYXFfX2l0ZW0tLW9wZW5cIik7XG4gICAgICAgICAgZmFxVHJpZ2dlci50ZXh0Q29udGVudCA9IFwi4oiSXCI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59KTtcbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHBhc3NGaWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpZWxkXCIpO1xuXG4gIHBhc3NGaWVsZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGNvbnN0IHBhc3NJbnB1dCA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J3Bhc3N3b3JkJ11cIik7XG4gICAgY29uc3QgcGFzc1RvZ2dsZSA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5maWVsZF9fc2hvd1wiKTtcblxuICAgIGlmIChwYXNzVG9nZ2xlKSB7XG4gICAgICBwYXNzVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChwYXNzSW5wdXQudHlwZSA9PT0gXCJwYXNzd29yZFwiKSB7XG4gICAgICAgICAgcGFzc0lucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICAgIHBhc3NUb2dnbGUuY2xhc3NMaXN0LmFkZChcImZpZWxkX19zaG93LS1hY3RpdmVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFzc1RvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKFwiZmllbGRfX3Nob3ctLWFjdGl2ZVwiKTtcbiAgICAgICAgICBwYXNzSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInBhc3N3b3JkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJpbXBvcnQgcmVhZHkgZnJvbSBcIi4uLy4uL2pzL3V0aWxzL2RvY3VtZW50UmVhZHkuanNcIjtcbmltcG9ydCBJTWFzayBmcm9tIFwiaW1hc2tcIjtcbmltcG9ydCBub1VpU2xpZGVyIGZyb20gXCJub3Vpc2xpZGVyXCI7XG5pbXBvcnQgd051bWIgZnJvbSBcIi4uLy4uL2pzL2NvbW1vbi93TnVtYi5qc1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGZpbHRlclRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZpbHRlcl9fdHJpZ2dlclwiKTtcbiAgY29uc3QgZmlsdGVySW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZpbHRlcl9faW5uZXJcIik7XG5cbiAgaWYgKGZpbHRlclRyaWdnZXIpIHtcbiAgICBmaWx0ZXJUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBmaWx0ZXJJbm5lci5jbGFzc0xpc3QudG9nZ2xlKFwiZmlsdGVyX19pbm5lci0tc2hvd1wiKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHJhbmdlU2xpZGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmlsdGVyX19pbnB1dC1yYW5nZVwiKTtcblxuICBpZiAocmFuZ2VTbGlkZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgIGNvbnN0IHJhbmdlTWluID0gMDtcbiAgICBjb25zdCByYW5nZU1heCA9IDEwMDAwMDtcbiAgICBjb25zdCByYW5nZVNsaWRlck9wdGlvbnMgPSB7XG4gICAgICBzdGFydDogW3JhbmdlTWluLCByYW5nZU1heF0sXG4gICAgICBjb25uZWN0OiB0cnVlLFxuICAgICAgcmFuZ2U6IHtcbiAgICAgICAgbWluOiByYW5nZU1pbixcbiAgICAgICAgbWF4OiByYW5nZU1heCxcbiAgICAgIH0sXG4gICAgICBmb3JtYXQ6IHdOdW1iKHtcbiAgICAgICAgZGVjaW1hbHM6IDAsXG4gICAgICAgIHRob3VzYW5kOiBcIiBcIixcbiAgICAgIH0pLFxuICAgIH07XG4gICAgY29uc3QgbnVtYmVyTWFzayA9IHtcbiAgICAgIG1hc2s6IE51bWJlcixcbiAgICAgIG1pbjogcmFuZ2VNaW4sXG4gICAgICBtYXg6IHJhbmdlTWF4LFxuICAgICAgdGhvdXNhbmRzU2VwYXJhdG9yOiBcIiBcIixcbiAgICB9O1xuXG4gICAgcmFuZ2VTbGlkZXJzLmZvckVhY2goKHJhbmdlU2xpZGVySW5zdGFudCkgPT4ge1xuICAgICAgY29uc3QgZnJvbUZpZWxkID0gcmFuZ2VTbGlkZXJJbnN0YW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJwcmljZUZyb21cIl0nKTtcbiAgICAgIGNvbnN0IHRvRmllbGQgPSByYW5nZVNsaWRlckluc3RhbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInByaWNlVG9cIl0nKTtcbiAgICAgIGNvbnN0IHNsaWRlciA9IHJhbmdlU2xpZGVySW5zdGFudC5xdWVyeVNlbGVjdG9yKFwiLnJhbmdlX19pbm5lclwiKTtcblxuICAgICAgbm9VaVNsaWRlci5jcmVhdGUoc2xpZGVyLCByYW5nZVNsaWRlck9wdGlvbnMpO1xuICAgICAgbWFrZVNsaWRlckxpbmsoc2xpZGVyLCBmcm9tRmllbGQsIHRvRmllbGQsIG51bWJlck1hc2spO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVNsaWRlckxpbmsocmFuZ2UsIGZyb21GaWVsZCwgdG9GaWVsZCwgbWFzaywgcmFuZ2VNaW4sIHJhbmdlTWF4KSB7XG4gICAgY29uc3QgZnJvbUZpZWxkTWFzayA9IElNYXNrKGZyb21GaWVsZCwgbWFzayk7XG4gICAgY29uc3QgdG9GaWVsZE1hc2sgPSBJTWFzayh0b0ZpZWxkLCBtYXNrKTtcblxuICAgIHJhbmdlLm5vVWlTbGlkZXIub24oXCJ1cGRhdGVcIiwgZnVuY3Rpb24gKHZhbHVlcywgaGFuZGxlKSB7XG4gICAgICBpZiAoaGFuZGxlKSB7XG4gICAgICAgIHRvRmllbGQudmFsdWUgPSB2YWx1ZXNbaGFuZGxlXTtcbiAgICAgICAgZnJvbUZpZWxkTWFzay51cGRhdGVWYWx1ZSgpO1xuICAgICAgICB0b0ZpZWxkTWFzay51cGRhdGVWYWx1ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJvbUZpZWxkLnZhbHVlID0gdmFsdWVzW2hhbmRsZV07XG4gICAgICAgIGZyb21GaWVsZE1hc2sudXBkYXRlVmFsdWUoKTtcbiAgICAgICAgdG9GaWVsZE1hc2sudXBkYXRlVmFsdWUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZyb21GaWVsZC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJhbmdlLm5vVWlTbGlkZXIuc2V0KFt0aGlzLnZhbHVlLCBudWxsXSk7XG4gICAgfSk7XG5cbiAgICB0b0ZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmFuZ2Uubm9VaVNsaWRlci5zZXQoW251bGwsIHRoaXMudmFsdWVdKTtcbiAgICB9KTtcblxuICAgIGZyb21GaWVsZC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgZnJvbUZpZWxkLnZhbHVlID0gXCJcIjtcbiAgICAgIGZyb21GaWVsZE1hc2sudXBkYXRlVmFsdWUoKTtcbiAgICB9KTtcblxuICAgIHRvRmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRvRmllbGQudmFsdWUgPSBudWxsO1xuICAgICAgdG9GaWVsZE1hc2sudXBkYXRlVmFsdWUoKTtcbiAgICB9KTtcblxuICAgIGZyb21GaWVsZC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGZyb21GaWVsZC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICBmcm9tRmllbGQudmFsdWUgPSByYW5nZU1pbjtcbiAgICAgICAgcmFuZ2Uubm9VaVNsaWRlci5zZXQoW3RoaXMudmFsdWUsIG51bGxdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRvRmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0b0ZpZWxkLnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgIHRvRmllbGQudmFsdWUgPSByYW5nZU1heDtcbiAgICAgICAgcmFuZ2Uubm9VaVNsaWRlci5zZXQoW251bGwsIHRoaXMudmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZyb21GaWVsZC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmFuZ2Uubm9VaVNsaWRlci5zZXQoW3RoaXMudmFsdWUsIG51bGxdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRvRmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJhbmdlLm5vVWlTbGlkZXIuc2V0KFtudWxsLCB0aGlzLnZhbHVlXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiaW1wb3J0IHJlYWR5IGZyb20gXCIuLi8uLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgcmVnaXN0cmF0aW9uRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS0tcmVnaXN0cmF0aW9uXCIpO1xuICBjb25zdCBsb2dpbkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tLWxvZ2luXCIpO1xuICBjb25zdCBmb3JnZXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLS1mb3JnZXRcIik7XG5cbiAgaWYgKHJlZ2lzdHJhdGlvbkZvcm0pIHtcbiAgICBjb25zdCBmb3JtSW5wdXRzID0gcmVnaXN0cmF0aW9uRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XG4gICAgY29uc3QgZm9ybVBhc3N3b3JkID0gcmVnaXN0cmF0aW9uRm9ybS5xdWVyeVNlbGVjdG9yKFwiI3Bhc3N3b3JkXCIpO1xuICAgIGNvbnN0IGZvcm1QYXNzd29yZFJlcGVhdCA9IHJlZ2lzdHJhdGlvbkZvcm0ucXVlcnlTZWxlY3RvcihcIiNwYXNzd29yZFJlcGVhdFwiKTtcbiAgICBjb25zdCBmb3JtQnV0dG9uID0gcmVnaXN0cmF0aW9uRm9ybS5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpO1xuXG4gICAgZm9ybUlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgcmVnaXN0cmF0aW9uRm9ybUNoZWNrKHJlZ2lzdHJhdGlvbkZvcm0sIGZvcm1CdXR0b24pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmb3JtUGFzc3dvcmQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIHBhc3N3b3JkQ2hlY2soZm9ybVBhc3N3b3JkLCBmb3JtUGFzc3dvcmRSZXBlYXQpO1xuICAgIH0pO1xuXG4gICAgZm9ybVBhc3N3b3JkUmVwZWF0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICBwYXNzd29yZENoZWNrKGZvcm1QYXNzd29yZCwgZm9ybVBhc3N3b3JkUmVwZWF0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChsb2dpbkZvcm0pIHtcbiAgICBjb25zdCBsb2dpbklucHV0cyA9IGxvZ2luRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XG4gICAgY29uc3QgbG9naW5CdXR0b24gPSBsb2dpbkZvcm0ucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKTtcblxuICAgIGxvZ2luSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICBsb2dpbkZvcm1DaGVjayhsb2dpbkZvcm0sIGxvZ2luQnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGZvcmdldEZvcm0pIHtcbiAgICBjb25zdCBmb3JnZXRFbWFpbCA9IGZvcmdldEZvcm0ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J2VtYWlsJ11cIik7XG4gICAgY29uc3QgZm9ybUJ1dHRvbiA9IGZvcmdldEZvcm0ucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKTtcblxuICAgIGZvcmdldEVtYWlsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBmb3JnZXRFbWFpbFZhbHVlID0gZm9yZ2V0RW1haWwudmFsdWU7XG5cbiAgICAgIGZvcmdldEVtYWlsVmFsdWUgJiYgL15bXFx3LVxcXFwuXStAKFtcXHctXStcXC4pK1tcXHctXXsyLDR9JC8udGVzdChmb3JnZXRFbWFpbFZhbHVlKVxuICAgICAgICA/IGZvcm1CdXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIilcbiAgICAgICAgOiBmb3JtQnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGxvZ2luRm9ybUNoZWNrKGZvcm0sIHN1Ym1pdCkge1xuICBjb25zdCBmb3JtRW1haWxWYWx1ZSA9IGZvcm0ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J2VtYWlsJ11cIikudmFsdWU7XG4gIGNvbnN0IGZvcm1QYXNzd29yZFZhbHVlID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiI3Bhc3N3b3JkXCIpLnZhbHVlO1xuICBjb25zdCBub0VtcHR5VmFsdWVzID0gISFmb3JtRW1haWxWYWx1ZSAmJiAhIWZvcm1QYXNzd29yZFZhbHVlO1xuICBjb25zdCBlbWFpbEZvcm1hdCA9IC9eW1xcdy1cXFxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSQvLnRlc3QoZm9ybUVtYWlsVmFsdWUpO1xuXG4gIG5vRW1wdHlWYWx1ZXMgJiYgZW1haWxGb3JtYXRcbiAgICA/IHN1Ym1pdC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKVxuICAgIDogc3VibWl0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0cmF0aW9uRm9ybUNoZWNrKGZvcm0sIHN1Ym1pdCkge1xuICBjb25zdCBmb3JtTmFtZVZhbHVlID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbdHlwZT0ndGV4dCddXCIpLnZhbHVlO1xuICBjb25zdCBmb3JtRW1haWxWYWx1ZSA9IGZvcm0ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J2VtYWlsJ11cIikudmFsdWU7XG4gIGNvbnN0IGZvcm1QYXNzd29yZFZhbHVlID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiI3Bhc3N3b3JkXCIpLnZhbHVlO1xuICBjb25zdCBmb3JtUGFzc3dvcmRSZXBlYXRWYWx1ZSA9IGZvcm0ucXVlcnlTZWxlY3RvcihcIiNwYXNzd29yZFJlcGVhdFwiKS52YWx1ZTtcbiAgY29uc3Qgbm9FbXB0eVZhbHVlcyA9XG4gICAgISFmb3JtTmFtZVZhbHVlICYmICEhZm9ybUVtYWlsVmFsdWUgJiYgISFmb3JtUGFzc3dvcmRWYWx1ZSAmJiAhIWZvcm1QYXNzd29yZFJlcGVhdFZhbHVlO1xuICBjb25zdCBpc1NhbWVQYXNzID0gZm9ybVBhc3N3b3JkVmFsdWUgPT09IGZvcm1QYXNzd29yZFJlcGVhdFZhbHVlO1xuICBjb25zdCBjaGVja2JveCA9IGZvcm0ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J2NoZWNrYm94J11cIikuY2hlY2tlZDtcbiAgY29uc3QgZW1haWxGb3JtYXQgPSAvXltcXHctXFxcXC5dK0AoW1xcdy1dK1xcLikrW1xcdy1dezIsNH0kLy50ZXN0KGZvcm1FbWFpbFZhbHVlKTtcblxuICBub0VtcHR5VmFsdWVzICYmXG4gIGVtYWlsRm9ybWF0ICYmXG4gIGlzU2FtZVBhc3MgJiZcbiAgY2hlY2tib3ggJiZcbiAgZm9ybVBhc3N3b3JkVmFsdWUubGVuZ3RoID49IDQgJiZcbiAgZm9ybVBhc3N3b3JkUmVwZWF0VmFsdWUubGVuZ3RoID49IDRcbiAgICA/IHN1Ym1pdC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKVxuICAgIDogc3VibWl0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbn1cblxuZnVuY3Rpb24gcGFzc3dvcmRDaGVjayhmaXJzdCwgc2Vjb25kKSB7XG4gIGNvbnN0IGZpcnN0VmFsdWUgPSBmaXJzdC52YWx1ZTtcbiAgY29uc3Qgc2Vjb25kVmFsdWUgPSBzZWNvbmQudmFsdWU7XG4gIGNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX21lc3NhZ2VcIik7XG5cbiAgaWYgKFxuICAgIGZpcnN0VmFsdWUgJiZcbiAgICBzZWNvbmRWYWx1ZSAmJlxuICAgIGZpcnN0VmFsdWUubGVuZ3RoID49IDQgJiZcbiAgICBzZWNvbmRWYWx1ZS5sZW5ndGggPj0gNCAmJlxuICAgIGZpcnN0VmFsdWUgPT09IHNlY29uZFZhbHVlXG4gICkge1xuICAgIG1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX21lc3NhZ2UtLWFjdGl2ZVwiKTtcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlLmNsYXNzTGlzdC5hZGQoXCJmb3JtX19tZXNzYWdlLS1hY3RpdmVcIik7XG4gIH1cbiAgaWYgKCFmaXJzdFZhbHVlIHx8ICFzZWNvbmRWYWx1ZSkge1xuICAgIG1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX21lc3NhZ2UtLWFjdGl2ZVwiKTtcbiAgfVxufVxuIiwiLy8gaW1wb3J0IHJlYWR5IGZyb20gXCIuLi8uLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG4vL1xuLy8gcmVhZHkoZnVuY3Rpb24gKCkge1xuLy9cbi8vIH0pO1xuIiwiaW1wb3J0IHJlYWR5IGZyb20gXCIuLi8uLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgaG9zdEhlcm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlcm9cIik7XG5cbiAgaWYgKGhvc3RIZXJvKSB7XG4gICAgY29uc3QgaGVyb1RyaWdnZXIgPSBob3N0SGVyby5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlcm9fX2pzLXRyaWdnZXJcIik7XG4gICAgaGVyb1RyaWdnZXIuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBhbGVydChcIkpTIHdvcmtzIVwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59KTtcbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeVwiO1xuaW1wb3J0IElNYXNrIGZyb20gXCJpbWFza1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIC8vIGlucHV0XG4gIGNvbnN0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW5wdXRcIik7XG5cbiAgaWYgKGlucHV0cy5sZW5ndGggIT09IDApIHtcbiAgICBmb3IgKGxldCBpbnB1dCBvZiBpbnB1dHMpIHtcbiAgICAgIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggIT09IDApIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJpbnB1dC0taGFzLXZhbHVlXCIpO1xuXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhbHVlLmxlbmd0aCAhPT0gMFxuICAgICAgICAgID8gdGhpcy5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtLWhhcy12YWx1ZVwiKVxuICAgICAgICAgIDogdGhpcy5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXQtLWhhcy12YWx1ZVwiKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIHBob25lIGlucHV0XG4gIGNvbnN0IHBob25lRmllbGRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiBpbnB1dFt0eXBlPXRlbF1cIik7XG5cbiAgaWYgKHBob25lRmllbGRzKSB7XG4gICAgcGhvbmVGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgIElNYXNrKGZpZWxkLCB7XG4gICAgICAgIG1hc2s6IFwiK3s3fSAwMDAgMDAwLTAwLTAwXCIsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSk7XG4iLCJpbXBvcnQgcmVhZHkgZnJvbSBcIi4uLy4uL2pzL3V0aWxzL2RvY3VtZW50UmVhZHkuanNcIjtcblxucmVhZHkoZnVuY3Rpb24gKCkge1xuICBjb25zdCBudW1iZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXF1YW50aXR5XVwiKTtcblxuICBpZiAobnVtYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBudW1iZXJzLmZvckVhY2goKG51bWJlcikgPT4ge1xuICAgICAgc2V0dXBDb3VudGVyKG51bWJlcik7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBzZXR1cENvdW50ZXIoZWxlbWVudCkge1xuICBjb25zdCBhZGQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubnVtYmVyX19idXR0b24tLWFkZFwiKTtcbiAgY29uc3Qgc3ViID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm51bWJlcl9fYnV0dG9uLS1zdWJcIik7XG4gIGNvbnN0IGlucHV0ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm51bWJlcl9faW5wdXRcIik7XG4gIGNvbnN0IGlucHV0TWluID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwibWluXCIpO1xuICBjb25zdCBpbnB1dE1heCA9IGlucHV0LmdldEF0dHJpYnV0ZShcIm1heFwiKTtcbiAgbGV0IGNvdW50ZXIgPSAraW5wdXQudmFsdWU7XG5cbiAgY29uc3Qgc2V0Q291bnRlciA9IChjb3VudCkgPT4ge1xuICAgIGlmIChjb3VudCA+PSBpbnB1dE1pbiAmJiBjb3VudCA8PSBpbnB1dE1heCkge1xuICAgICAgY291bnRlciA9IGNvdW50O1xuICAgICAgaW5wdXQudmFsdWUgPSBjb3VudGVyO1xuICAgICAgc3ViLmNsYXNzTGlzdC5yZW1vdmUoXCJudW1iZXJfX2J1dHRvbi0tZGlzYWJsZWRcIik7XG4gICAgICBhZGQuY2xhc3NMaXN0LnJlbW92ZShcIm51bWJlcl9fYnV0dG9uLS1kaXNhYmxlZFwiKTtcbiAgICB9XG4gICAgaWYgKGNvdW50IDw9IGlucHV0TWluKSB7XG4gICAgICBzdWIuY2xhc3NMaXN0LmFkZChcIm51bWJlcl9fYnV0dG9uLS1kaXNhYmxlZFwiKTtcbiAgICB9XG4gICAgaWYgKGNvdW50ID49IGlucHV0TWF4KSB7XG4gICAgICBhZGQuY2xhc3NMaXN0LmFkZChcIm51bWJlcl9fYnV0dG9uLS1kaXNhYmxlZFwiKTtcbiAgICB9XG4gIH07XG5cbiAgYWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBzZXRDb3VudGVyKGNvdW50ZXIgKyAxKSk7XG4gIHN1Yi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gc2V0Q291bnRlcihjb3VudGVyIC0gMSkpO1xufVxuIiwiaW1wb3J0IHJlYWR5IGZyb20gXCIuLi8uLi9qcy91dGlscy9kb2N1bWVudFJlYWR5LmpzXCI7XG5cbnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgcGFuZWxUcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1wYW5lbC10cmlnZ2VyXVwiKTtcbiAgY29uc3QgcGFuZWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBhbmVsX19jbG9zZVwiKTtcbiAgY29uc3QgcGFuZWxEYXJrZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBhZ2VfX2RhcmtlclwiKTtcblxuICBpZiAocGFuZWxUcmlnZ2Vycy5sZW5ndGggIT09IDApIHtcbiAgICBwYW5lbFRyaWdnZXJzLmZvckVhY2goKHRyaWdnZXIpID0+IHtcbiAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgcGFnZVN0YXRlID0gZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN0YXRlXCIpO1xuICAgICAgICBjb25zdCB0cmlnZ2VyVGFyZ2V0ID0gdHJpZ2dlci5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhbmVsLXRyaWdnZXJcIik7XG4gICAgICAgIGlmIChwYWdlU3RhdGUgPT09IGBvcGVuLXBhbmVsLSR7dHJpZ2dlclRhcmdldH1gKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5kYXRhc2V0LnN0YXRlID0gXCJcIjtcbiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm92aFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmRhdGFzZXQuc3RhdGUgPSBgb3Blbi1wYW5lbC0ke3RyaWdnZXJUYXJnZXR9YDtcbiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm92aFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAocGFuZWxDbG9zZUJ1dHRvbnMubGVuZ3RoICE9PSAwKSB7XG4gICAgcGFuZWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5kYXRhc2V0LnN0YXRlID0gXCJcIjtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJvdmhcIik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHBhbmVsRGFya2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5kYXRhc2V0LnN0YXRlID0gXCJcIjtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm92aFwiKTtcbiAgfSk7XG59KTtcbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuaW1wb3J0IElNYXNrIGZyb20gXCJpbWFza1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHBheW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBheW1lbnRcIik7XG5cbiAgaWYgKHBheW1lbnQpIHtcbiAgICBjb25zdCBzdW1GaWVsZCA9IHBheW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdW1cIik7XG4gICAgY29uc3QgdG90YWxGaWVsZCA9IHBheW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b3RhbFwiKTtcbiAgICBjb25zdCBjaGVja2JveCA9IHBheW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2JveF9faW5wdXRcIik7XG4gICAgY29uc3QgbWV0aG9kcyA9IHBheW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wYXltZW50X19yYWRpb1wiKTtcbiAgICBjb25zdCBwb3B1bGFyU3VtcyA9IHBheW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wYXltZW50X19idXR0b25cIik7XG4gICAgbGV0IHBlcmNlbnRBbW91bnQ7XG5cbiAgICBjb25zdCBtYXNrT3B0aW9ucyA9IHtcbiAgICAgIG1hc2s6IE51bWJlcixcbiAgICAgIG1pbjogNTAsXG4gICAgICBtYXg6IDEwMDAwMDAsXG4gICAgICBzY2FsZTogMixcbiAgICAgIHRob3VzYW5kc1NlcGFyYXRvcjogXCJcIixcbiAgICAgIHBhZEZyYWN0aW9uYWxaZXJvczogdHJ1ZSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc3VtTWFzayA9IElNYXNrKHN1bUZpZWxkLCBtYXNrT3B0aW9ucyk7XG4gICAgY29uc3QgdG90YWxNYXNrID0gSU1hc2sodG90YWxGaWVsZCwgbWFza09wdGlvbnMpO1xuXG4gICAgc2V0UGVyY2VudEFtb3VudChtZXRob2RzKTtcbiAgICBwZXJjZW50QW1vdW50ID0gc2V0UGVyY2VudEFtb3VudChtZXRob2RzKTtcblxuICAgIHRvdGFsQ2FsYyhzdW1GaWVsZCwgdG90YWxGaWVsZCwgcGVyY2VudEFtb3VudCk7XG4gICAgc3VtTWFzay51cGRhdGVWYWx1ZSgpO1xuICAgIHRvdGFsTWFzay51cGRhdGVWYWx1ZSgpO1xuXG4gICAgZm9yIChjb25zdCBtZXRob2Qgb2YgbWV0aG9kcykge1xuICAgICAgbWV0aG9kLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHBlcmNlbnRBbW91bnQgPSBzZXRQZXJjZW50QW1vdW50KG1ldGhvZHMpO1xuICAgICAgICB0b3RhbENhbGMoc3VtRmllbGQsIHRvdGFsRmllbGQsIHBlcmNlbnRBbW91bnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBwb3B1bGFyU3VtIG9mIHBvcHVsYXJTdW1zKSB7XG4gICAgICBjb25zdCBwb3B1bGFyU3VtQW1vdW50ID0gcG9wdWxhclN1bS5kYXRhc2V0LmFtb3VudDtcblxuICAgICAgcG9wdWxhclN1bS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBzdW1GaWVsZC52YWx1ZSA9IHBvcHVsYXJTdW1BbW91bnQ7XG4gICAgICAgIHRvdGFsQ2FsYyhzdW1GaWVsZCwgdG90YWxGaWVsZCwgcGVyY2VudEFtb3VudCk7XG4gICAgICAgIHJlc2V0UG9wdWxhckJ1dHRvbnMocG9wdWxhclN1bXMpO1xuICAgICAgICBzdW1NYXNrLnVwZGF0ZVZhbHVlKCk7XG4gICAgICAgIHRvdGFsTWFzay51cGRhdGVWYWx1ZSgpO1xuICAgICAgICBwb3B1bGFyU3VtLmNsYXNzTGlzdC5hZGQoXCJwYXltZW50X19idXR0b24tLWFjdGl2ZVwiKTtcbiAgICAgICAgcGF5bWVudEZvcm1DaGVjayhwYXltZW50KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgcGF5bWVudEZvcm1DaGVjayhwYXltZW50KTtcbiAgICB9KTtcblxuICAgIHN1bUZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICByZXNldFBvcHVsYXJCdXR0b25zKHBvcHVsYXJTdW1zKTtcbiAgICAgIHRvdGFsQ2FsYyhzdW1GaWVsZCwgdG90YWxGaWVsZCwgcGVyY2VudEFtb3VudCk7XG4gICAgICB0b3RhbE1hc2sudXBkYXRlVmFsdWUoKTtcbiAgICAgIHBheW1lbnRGb3JtQ2hlY2socGF5bWVudCk7XG4gICAgfSk7XG5cbiAgICBzdW1GaWVsZC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgKCkgPT4ge1xuICAgICAgdG90YWxDYWxjKHN1bUZpZWxkLCB0b3RhbEZpZWxkLCBwZXJjZW50QW1vdW50KTtcbiAgICAgIHN1bU1hc2sudXBkYXRlVmFsdWUoKTtcbiAgICAgIHRvdGFsTWFzay51cGRhdGVWYWx1ZSgpO1xuICAgICAgcGF5bWVudEZvcm1DaGVjayhwYXltZW50KTtcbiAgICB9KTtcblxuICAgIHRvdGFsRmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIHJlc2V0UG9wdWxhckJ1dHRvbnMocG9wdWxhclN1bXMpO1xuICAgICAgc3VtQ2FsYyhzdW1GaWVsZCwgdG90YWxGaWVsZCwgcGVyY2VudEFtb3VudCk7XG4gICAgICBzdW1NYXNrLnVwZGF0ZVZhbHVlKCk7XG4gICAgICBwYXltZW50Rm9ybUNoZWNrKHBheW1lbnQpO1xuICAgIH0pO1xuXG4gICAgdG90YWxGaWVsZC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgKCkgPT4ge1xuICAgICAgc3VtQ2FsYyhzdW1GaWVsZCwgdG90YWxGaWVsZCwgcGVyY2VudEFtb3VudCk7XG4gICAgICB0b3RhbE1hc2sudXBkYXRlVmFsdWUoKTtcbiAgICAgIHN1bU1hc2sudXBkYXRlVmFsdWUoKTtcbiAgICAgIHBheW1lbnRGb3JtQ2hlY2socGF5bWVudCk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBzdW1DYWxjKHN1bSwgdG90YWwsIHBlcmNlbnQpIHtcbiAgY29uc3QgdG90YWxGaWVsZFZhbHVlID0gdG90YWwudmFsdWUucmVwbGFjZShcIixcIiwgXCIuXCIpO1xuICBpZiAodG90YWxGaWVsZFZhbHVlID09PSBcIi5cIiB8fCArdG90YWxGaWVsZFZhbHVlIDwgNTApIHtcbiAgICBzdW0udmFsdWUgPSBcIjAsMDBcIjtcbiAgfSBlbHNlIHtcbiAgICBzdW0udmFsdWUgPSAoK3RvdGFsRmllbGRWYWx1ZSAvICgxICsgK3BlcmNlbnQpKS50b0ZpeGVkKDIpLnJlcGxhY2UoXCIuXCIsIFwiLFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gdG90YWxDYWxjKHN1bSwgdG90YWwsIHBlcmNlbnQpIHtcbiAgY29uc3Qgc3VtRmllbGRWYWx1ZSA9IHN1bS52YWx1ZS5yZXBsYWNlKFwiLFwiLCBcIi5cIik7XG4gIGlmIChzdW1GaWVsZFZhbHVlID09PSBcIi5cIikge1xuICAgIHRvdGFsLnZhbHVlID0gXCIwLDAwXCI7XG4gIH0gZWxzZSB7XG4gICAgdG90YWwudmFsdWUgPSAoK3N1bUZpZWxkVmFsdWUgKiAoMSArICtwZXJjZW50KSkudG9GaXhlZCgyKS5yZXBsYWNlKFwiLlwiLCBcIixcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0UGVyY2VudEFtb3VudChtZXRob2RzKSB7XG4gIGZvciAoY29uc3QgbWV0aG9kIG9mIG1ldGhvZHMpIHtcbiAgICBpZiAobWV0aG9kLmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBtZXRob2QuZGF0YXNldC5wZXJjZW50O1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNldFBvcHVsYXJCdXR0b25zKGJ1dHRvbnMpIHtcbiAgZm9yIChjb25zdCBidXR0b24gb2YgYnV0dG9ucykge1xuICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwicGF5bWVudF9fYnV0dG9uLS1hY3RpdmVcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGF5bWVudEZvcm1DaGVjayhmb3JtKSB7XG4gIGNvbnN0IGZpZWxkVmFsdWUgPSArZm9ybS5xdWVyeVNlbGVjdG9yKFwiI3RvdGFsXCIpLnZhbHVlLnJlcGxhY2UoXCIsXCIsIFwiLlwiKTtcbiAgY29uc3QgY2hlY2tib3ggPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tib3hfX2lucHV0XCIpO1xuICBjb25zdCBzdWJtaXRCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucGF5bWVudF9fc3VibWl0XCIpO1xuXG4gIGZpZWxkVmFsdWUgIT09IFwiXCIgJiYgZmllbGRWYWx1ZSA+IDUwICYmIGNoZWNrYm94LmNoZWNrZWRcbiAgICA/IHN1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKVxuICAgIDogc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbn1cbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wYXNzXCIpO1xuXG4gIGlmIChwcm9maWxlRm9ybSkge1xuICAgIGNvbnN0IGxvZ2luSW5wdXRzID0gcHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpO1xuICAgIGNvbnN0IGxvZ2luQnV0dG9uID0gcHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKTtcblxuICAgIGxvZ2luSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICBwcm9maWxlRm9ybUNoZWNrKHByb2ZpbGVGb3JtLCBsb2dpbkJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHByb2ZpbGVGb3JtQ2hlY2soZm9ybSwgc3VibWl0KSB7XG4gIGNvbnN0IGZvcm1QYXNzd29yZFZhbHVlID0gZm9ybS5xdWVyeVNlbGVjdG9yKFwiI3Bhc3N3b3JkXCIpLnZhbHVlO1xuICBjb25zdCBmb3JtTmV3UGFzc3dvcmRWYWx1ZSA9IGZvcm0ucXVlcnlTZWxlY3RvcihcIiNuZXdQYXNzd29yZFwiKS52YWx1ZTtcbiAgY29uc3Qgbm9FbXB0eVZhbHVlcyA9ICEhZm9ybU5ld1Bhc3N3b3JkVmFsdWUgJiYgISFmb3JtUGFzc3dvcmRWYWx1ZTtcblxuICBub0VtcHR5VmFsdWVzID8gc3VibWl0LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpIDogc3VibWl0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbn1cbiIsImltcG9ydCByZWFkeSBmcm9tIFwiLi4vLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeVwiO1xuaW1wb3J0IGF1dG9zaXplIGZyb20gXCJhdXRvc2l6ZVwiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIC8vIHRleHRhcmVhXG4gIGNvbnN0IHRleHRhcmVhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGV4dGFyZWFcIik7XG5cbiAgaWYgKHRleHRhcmVhcy5sZW5ndGggIT09IDApIHtcbiAgICBmb3IgKGxldCB0ZXh0YXJlYSBvZiB0ZXh0YXJlYXMpIHtcbiAgICAgIGlmICh0ZXh0YXJlYS52YWx1ZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgYXV0b3NpemUodGV4dGFyZWEpO1xuICAgICAgICB0ZXh0YXJlYS5jbGFzc0xpc3QuYWRkKFwidGV4dGFyZWEtLWhhcy12YWx1ZVwiKTtcbiAgICAgIH1cblxuICAgICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWx1ZS5sZW5ndGggIT09IDBcbiAgICAgICAgICA/IHRoaXMuY2xhc3NMaXN0LmFkZChcInRleHRhcmVhLS1oYXMtdmFsdWVcIilcbiAgICAgICAgICA6IHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcInRleHRhcmVhLS1oYXMtdmFsdWVcIik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBhdXRvc2l6ZSh0ZXh0YXJlYXMpO1xufSk7XG4iLCJpbXBvcnQgcmVhZHkgZnJvbSBcIi4uL3V0aWxzL2RvY3VtZW50UmVhZHkuanNcIjtcbmltcG9ydCBTaW1wbGVCYXIgZnJvbSBcInNpbXBsZWJhclwiO1xuXG5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wYW5lbF9fc2Nyb2xsXCIpLFxuICAgIChlbCkgPT4gbmV3IFNpbXBsZUJhcihlbCwgeyBhdXRvSGlkZTogZmFsc2UgfSksXG4gICk7XG59KTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG4oZnVuY3Rpb24oZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgIC8vIE5vZGUvQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICB3aW5kb3cud051bWIgPSBmYWN0b3J5KCk7XG4gIH1cbn0pKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgRm9ybWF0T3B0aW9ucyA9IFtcbiAgICBcImRlY2ltYWxzXCIsXG4gICAgXCJ0aG91c2FuZFwiLFxuICAgIFwibWFya1wiLFxuICAgIFwicHJlZml4XCIsXG4gICAgXCJzdWZmaXhcIixcbiAgICBcImVuY29kZXJcIixcbiAgICBcImRlY29kZXJcIixcbiAgICBcIm5lZ2F0aXZlQmVmb3JlXCIsXG4gICAgXCJuZWdhdGl2ZVwiLFxuICAgIFwiZWRpdFwiLFxuICAgIFwidW5kb1wiXG4gIF07XG5cbiAgLy8gR2VuZXJhbFxuXG4gIC8vIFJldmVyc2UgYSBzdHJpbmdcbiAgZnVuY3Rpb24gc3RyUmV2ZXJzZShhKSB7XG4gICAgcmV0dXJuIGFcbiAgICAgIC5zcGxpdChcIlwiKVxuICAgICAgLnJldmVyc2UoKVxuICAgICAgLmpvaW4oXCJcIik7XG4gIH1cblxuICAvLyBDaGVjayBpZiBhIHN0cmluZyBzdGFydHMgd2l0aCBhIHNwZWNpZmllZCBwcmVmaXguXG4gIGZ1bmN0aW9uIHN0clN0YXJ0c1dpdGgoaW5wdXQsIG1hdGNoKSB7XG4gICAgcmV0dXJuIGlucHV0LnN1YnN0cmluZygwLCBtYXRjaC5sZW5ndGgpID09PSBtYXRjaDtcbiAgfVxuXG4gIC8vIENoZWNrIGlzIGEgc3RyaW5nIGVuZHMgaW4gYSBzcGVjaWZpZWQgc3VmZml4LlxuICBmdW5jdGlvbiBzdHJFbmRzV2l0aChpbnB1dCwgbWF0Y2gpIHtcbiAgICByZXR1cm4gaW5wdXQuc2xpY2UoLTEgKiBtYXRjaC5sZW5ndGgpID09PSBtYXRjaDtcbiAgfVxuXG4gIC8vIFRocm93IGFuIGVycm9yIGlmIGZvcm1hdHRpbmcgb3B0aW9ucyBhcmUgaW5jb21wYXRpYmxlLlxuICBmdW5jdGlvbiB0aHJvd0VxdWFsRXJyb3IoRiwgYSwgYikge1xuICAgIGlmICgoRlthXSB8fCBGW2JdKSAmJiBGW2FdID09PSBGW2JdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgYSBudW1iZXIgaXMgZmluaXRlIGFuZCBub3QgTmFOXG4gIGZ1bmN0aW9uIGlzVmFsaWROdW1iZXIoaW5wdXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSBcIm51bWJlclwiICYmIGlzRmluaXRlKGlucHV0KTtcbiAgfVxuXG4gIC8vIFByb3ZpZGUgcm91bmRpbmctYWNjdXJhdGUgdG9GaXhlZCBtZXRob2QuXG4gIC8vIEJvcnJvd2VkOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTMyMzMzMC83NzUyNjVcbiAgZnVuY3Rpb24gdG9GaXhlZCh2YWx1ZSwgZXhwKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnNwbGl0KFwiZVwiKTtcbiAgICB2YWx1ZSA9IE1hdGgucm91bmQoKyh2YWx1ZVswXSArIFwiZVwiICsgKHZhbHVlWzFdID8gK3ZhbHVlWzFdICsgZXhwIDogZXhwKSkpO1xuICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKS5zcGxpdChcImVcIik7XG4gICAgcmV0dXJuICgrKHZhbHVlWzBdICsgXCJlXCIgKyAodmFsdWVbMV0gPyArdmFsdWVbMV0gLSBleHAgOiAtZXhwKSkpLnRvRml4ZWQoZXhwKTtcbiAgfVxuXG4gIC8vIEZvcm1hdHRpbmdcblxuICAvLyBBY2NlcHQgYSBudW1iZXIgYXMgaW5wdXQsIG91dHB1dCBmb3JtYXR0ZWQgc3RyaW5nLlxuICBmdW5jdGlvbiBmb3JtYXRUbyhcbiAgICBkZWNpbWFscyxcbiAgICB0aG91c2FuZCxcbiAgICBtYXJrLFxuICAgIHByZWZpeCxcbiAgICBzdWZmaXgsXG4gICAgZW5jb2RlcixcbiAgICBkZWNvZGVyLFxuICAgIG5lZ2F0aXZlQmVmb3JlLFxuICAgIG5lZ2F0aXZlLFxuICAgIGVkaXQsXG4gICAgdW5kbyxcbiAgICBpbnB1dFxuICApIHtcbiAgICB2YXIgb3JpZ2luYWxJbnB1dCA9IGlucHV0LFxuICAgICAgaW5wdXRJc05lZ2F0aXZlLFxuICAgICAgaW5wdXRQaWVjZXMsXG4gICAgICBpbnB1dEJhc2UsXG4gICAgICBpbnB1dERlY2ltYWxzID0gXCJcIixcbiAgICAgIG91dHB1dCA9IFwiXCI7XG5cbiAgICAvLyBBcHBseSB1c2VyIGVuY29kZXIgdG8gdGhlIGlucHV0LlxuICAgIC8vIEV4cGVjdGVkIG91dGNvbWU6IG51bWJlci5cbiAgICBpZiAoZW5jb2Rlcikge1xuICAgICAgaW5wdXQgPSBlbmNvZGVyKGlucHV0KTtcbiAgICB9XG5cbiAgICAvLyBTdG9wIGlmIG5vIHZhbGlkIG51bWJlciB3YXMgcHJvdmlkZWQsIHRoZSBudW1iZXIgaXMgaW5maW5pdGUgb3IgTmFOLlxuICAgIGlmICghaXNWYWxpZE51bWJlcihpbnB1dCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBSb3VuZGluZyBhd2F5IGRlY2ltYWxzIG1pZ2h0IGNhdXNlIGEgdmFsdWUgb2YgLTBcbiAgICAvLyB3aGVuIHVzaW5nIHZlcnkgc21hbGwgcmFuZ2VzLiBSZW1vdmUgdGhvc2UgY2FzZXMuXG4gICAgaWYgKGRlY2ltYWxzICE9PSBmYWxzZSAmJiBwYXJzZUZsb2F0KGlucHV0LnRvRml4ZWQoZGVjaW1hbHMpKSA9PT0gMCkge1xuICAgICAgaW5wdXQgPSAwO1xuICAgIH1cblxuICAgIC8vIEZvcm1hdHRpbmcgaXMgZG9uZSBvbiBhYnNvbHV0ZSBudW1iZXJzLFxuICAgIC8vIGRlY29yYXRlZCBieSBhbiBvcHRpb25hbCBuZWdhdGl2ZSBzeW1ib2wuXG4gICAgaWYgKGlucHV0IDwgMCkge1xuICAgICAgaW5wdXRJc05lZ2F0aXZlID0gdHJ1ZTtcbiAgICAgIGlucHV0ID0gTWF0aC5hYnMoaW5wdXQpO1xuICAgIH1cblxuICAgIC8vIFJlZHVjZSB0aGUgbnVtYmVyIG9mIGRlY2ltYWxzIHRvIHRoZSBzcGVjaWZpZWQgb3B0aW9uLlxuICAgIGlmIChkZWNpbWFscyAhPT0gZmFsc2UpIHtcbiAgICAgIGlucHV0ID0gdG9GaXhlZChpbnB1dCwgZGVjaW1hbHMpO1xuICAgIH1cblxuICAgIC8vIFRyYW5zZm9ybSB0aGUgbnVtYmVyIGludG8gYSBzdHJpbmcsIHNvIGl0IGNhbiBiZSBzcGxpdC5cbiAgICBpbnB1dCA9IGlucHV0LnRvU3RyaW5nKCk7XG5cbiAgICAvLyBCcmVhayB0aGUgbnVtYmVyIG9uIHRoZSBkZWNpbWFsIHNlcGFyYXRvci5cbiAgICBpZiAoaW5wdXQuaW5kZXhPZihcIi5cIikgIT09IC0xKSB7XG4gICAgICBpbnB1dFBpZWNlcyA9IGlucHV0LnNwbGl0KFwiLlwiKTtcblxuICAgICAgaW5wdXRCYXNlID0gaW5wdXRQaWVjZXNbMF07XG5cbiAgICAgIGlmIChtYXJrKSB7XG4gICAgICAgIGlucHV0RGVjaW1hbHMgPSBtYXJrICsgaW5wdXRQaWVjZXNbMV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIGl0IGlzbid0IHNwbGl0LCB0aGUgZW50aXJlIG51bWJlciB3aWxsIGRvLlxuICAgICAgaW5wdXRCYXNlID0gaW5wdXQ7XG4gICAgfVxuXG4gICAgLy8gR3JvdXAgbnVtYmVycyBpbiBzZXRzIG9mIHRocmVlLlxuICAgIGlmICh0aG91c2FuZCkge1xuICAgICAgaW5wdXRCYXNlID0gc3RyUmV2ZXJzZShpbnB1dEJhc2UpLm1hdGNoKC8uezEsM30vZyk7XG4gICAgICBpbnB1dEJhc2UgPSBzdHJSZXZlcnNlKGlucHV0QmFzZS5qb2luKHN0clJldmVyc2UodGhvdXNhbmQpKSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG51bWJlciBpcyBuZWdhdGl2ZSwgcHJlZml4IHdpdGggbmVnYXRpb24gc3ltYm9sLlxuICAgIGlmIChpbnB1dElzTmVnYXRpdmUgJiYgbmVnYXRpdmVCZWZvcmUpIHtcbiAgICAgIG91dHB1dCArPSBuZWdhdGl2ZUJlZm9yZTtcbiAgICB9XG5cbiAgICAvLyBQcmVmaXggdGhlIG51bWJlclxuICAgIGlmIChwcmVmaXgpIHtcbiAgICAgIG91dHB1dCArPSBwcmVmaXg7XG4gICAgfVxuXG4gICAgLy8gTm9ybWFsIG5lZ2F0aXZlIG9wdGlvbiBjb21lcyBhZnRlciB0aGUgcHJlZml4LiBEZWZhdWx0cyB0byAnLScuXG4gICAgaWYgKGlucHV0SXNOZWdhdGl2ZSAmJiBuZWdhdGl2ZSkge1xuICAgICAgb3V0cHV0ICs9IG5lZ2F0aXZlO1xuICAgIH1cblxuICAgIC8vIEFwcGVuZCB0aGUgYWN0dWFsIG51bWJlci5cbiAgICBvdXRwdXQgKz0gaW5wdXRCYXNlO1xuICAgIG91dHB1dCArPSBpbnB1dERlY2ltYWxzO1xuXG4gICAgLy8gQXBwbHkgdGhlIHN1ZmZpeC5cbiAgICBpZiAoc3VmZml4KSB7XG4gICAgICBvdXRwdXQgKz0gc3VmZml4O1xuICAgIH1cblxuICAgIC8vIFJ1biB0aGUgb3V0cHV0IHRocm91Z2ggYSB1c2VyLXNwZWNpZmllZCBwb3N0LWZvcm1hdHRlci5cbiAgICBpZiAoZWRpdCkge1xuICAgICAgb3V0cHV0ID0gZWRpdChvdXRwdXQsIG9yaWdpbmFsSW5wdXQpO1xuICAgIH1cblxuICAgIC8vIEFsbCBkb25lLlxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH1cblxuICAvLyBBY2NlcHQgYSBzdGluZyBhcyBpbnB1dCwgb3V0cHV0IGRlY29kZWQgbnVtYmVyLlxuICBmdW5jdGlvbiBmb3JtYXRGcm9tKFxuICAgIGRlY2ltYWxzLFxuICAgIHRob3VzYW5kLFxuICAgIG1hcmssXG4gICAgcHJlZml4LFxuICAgIHN1ZmZpeCxcbiAgICBlbmNvZGVyLFxuICAgIGRlY29kZXIsXG4gICAgbmVnYXRpdmVCZWZvcmUsXG4gICAgbmVnYXRpdmUsXG4gICAgZWRpdCxcbiAgICB1bmRvLFxuICAgIGlucHV0XG4gICkge1xuICAgIHZhciBvcmlnaW5hbElucHV0ID0gaW5wdXQsXG4gICAgICBpbnB1dElzTmVnYXRpdmUsXG4gICAgICBvdXRwdXQgPSBcIlwiO1xuXG4gICAgLy8gVXNlciBkZWZpbmVkIHByZS1kZWNvZGVyLiBSZXN1bHQgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcuXG4gICAgaWYgKHVuZG8pIHtcbiAgICAgIGlucHV0ID0gdW5kbyhpbnB1dCk7XG4gICAgfVxuXG4gICAgLy8gVGVzdCB0aGUgaW5wdXQuIENhbid0IGJlIGVtcHR5LlxuICAgIGlmICghaW5wdXQgfHwgdHlwZW9mIGlucHV0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHN0cmluZyBzdGFydHMgd2l0aCB0aGUgbmVnYXRpdmVCZWZvcmUgdmFsdWU6IHJlbW92ZSBpdC5cbiAgICAvLyBSZW1lbWJlciBpcyB3YXMgdGhlcmUsIHRoZSBudW1iZXIgaXMgbmVnYXRpdmUuXG4gICAgaWYgKG5lZ2F0aXZlQmVmb3JlICYmIHN0clN0YXJ0c1dpdGgoaW5wdXQsIG5lZ2F0aXZlQmVmb3JlKSkge1xuICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKG5lZ2F0aXZlQmVmb3JlLCBcIlwiKTtcbiAgICAgIGlucHV0SXNOZWdhdGl2ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gUmVwZWF0IHRoZSBzYW1lIHByb2NlZHVyZSBmb3IgdGhlIHByZWZpeC5cbiAgICBpZiAocHJlZml4ICYmIHN0clN0YXJ0c1dpdGgoaW5wdXQsIHByZWZpeCkpIHtcbiAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZShwcmVmaXgsIFwiXCIpO1xuICAgIH1cblxuICAgIC8vIEFuZCBhZ2FpbiBmb3IgbmVnYXRpdmUuXG4gICAgaWYgKG5lZ2F0aXZlICYmIHN0clN0YXJ0c1dpdGgoaW5wdXQsIG5lZ2F0aXZlKSkge1xuICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKG5lZ2F0aXZlLCBcIlwiKTtcbiAgICAgIGlucHV0SXNOZWdhdGl2ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHRoZSBzdWZmaXguXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3NsaWNlXG4gICAgaWYgKHN1ZmZpeCAmJiBzdHJFbmRzV2l0aChpbnB1dCwgc3VmZml4KSkge1xuICAgICAgaW5wdXQgPSBpbnB1dC5zbGljZSgwLCAtMSAqIHN1ZmZpeC5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSB0aGUgdGhvdXNhbmQgZ3JvdXBpbmcuXG4gICAgaWYgKHRob3VzYW5kKSB7XG4gICAgICBpbnB1dCA9IGlucHV0LnNwbGl0KHRob3VzYW5kKS5qb2luKFwiXCIpO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVjaW1hbCBzZXBhcmF0b3IgYmFjayB0byBwZXJpb2QuXG4gICAgaWYgKG1hcmspIHtcbiAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZShtYXJrLCBcIi5cIik7XG4gICAgfVxuXG4gICAgLy8gUHJlcGVuZCB0aGUgbmVnYXRpdmUgc3ltYm9sLlxuICAgIGlmIChpbnB1dElzTmVnYXRpdmUpIHtcbiAgICAgIG91dHB1dCArPSBcIi1cIjtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIG51bWJlclxuICAgIG91dHB1dCArPSBpbnB1dDtcblxuICAgIC8vIFRyaW0gYWxsIG5vbi1udW1lcmljIGNoYXJhY3RlcnMgKGFsbG93ICcuJyBhbmQgJy0nKTtcbiAgICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvW14wLTlcXC5cXC0uXS9nLCBcIlwiKTtcblxuICAgIC8vIFRoZSB2YWx1ZSBjb250YWlucyBubyBwYXJzZS1hYmxlIG51bWJlci5cbiAgICBpZiAob3V0cHV0ID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ292ZXJ0IHRvIG51bWJlci5cbiAgICBvdXRwdXQgPSBOdW1iZXIob3V0cHV0KTtcblxuICAgIC8vIFJ1biB0aGUgdXNlci1zcGVjaWZpZWQgcG9zdC1kZWNvZGVyLlxuICAgIGlmIChkZWNvZGVyKSB7XG4gICAgICBvdXRwdXQgPSBkZWNvZGVyKG91dHB1dCk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaXMgdGhlIG91dHB1dCBpcyB2YWxpZCwgb3RoZXJ3aXNlOiByZXR1cm4gZmFsc2UuXG4gICAgaWYgKCFpc1ZhbGlkTnVtYmVyKG91dHB1dCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9XG5cbiAgLy8gRnJhbWV3b3JrXG5cbiAgLy8gVmFsaWRhdGUgZm9ybWF0dGluZyBvcHRpb25zXG4gIGZ1bmN0aW9uIHZhbGlkYXRlKGlucHV0T3B0aW9ucykge1xuICAgIHZhciBpLFxuICAgICAgb3B0aW9uTmFtZSxcbiAgICAgIG9wdGlvblZhbHVlLFxuICAgICAgZmlsdGVyZWRPcHRpb25zID0ge307XG5cbiAgICBpZiAoaW5wdXRPcHRpb25zW1wic3VmZml4XCJdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlucHV0T3B0aW9uc1tcInN1ZmZpeFwiXSA9IGlucHV0T3B0aW9uc1tcInBvc3RmaXhcIl07XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IEZvcm1hdE9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIG9wdGlvbk5hbWUgPSBGb3JtYXRPcHRpb25zW2ldO1xuICAgICAgb3B0aW9uVmFsdWUgPSBpbnB1dE9wdGlvbnNbb3B0aW9uTmFtZV07XG5cbiAgICAgIGlmIChvcHRpb25WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIE9ubHkgZGVmYXVsdCBpZiBuZWdhdGl2ZUJlZm9yZSBpc24ndCBzZXQuXG4gICAgICAgIGlmIChvcHRpb25OYW1lID09PSBcIm5lZ2F0aXZlXCIgJiYgIWZpbHRlcmVkT3B0aW9ucy5uZWdhdGl2ZUJlZm9yZSkge1xuICAgICAgICAgIGZpbHRlcmVkT3B0aW9uc1tvcHRpb25OYW1lXSA9IFwiLVwiO1xuICAgICAgICAgIC8vIERvbid0IHNldCBhIGRlZmF1bHQgZm9yIG1hcmsgd2hlbiAndGhvdXNhbmQnIGlzIHNldC5cbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25OYW1lID09PSBcIm1hcmtcIiAmJiBmaWx0ZXJlZE9wdGlvbnMudGhvdXNhbmQgIT09IFwiLlwiKSB7XG4gICAgICAgICAgZmlsdGVyZWRPcHRpb25zW29wdGlvbk5hbWVdID0gXCIuXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlsdGVyZWRPcHRpb25zW29wdGlvbk5hbWVdID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGbG9hdGluZyBwb2ludHMgaW4gSlMgYXJlIHN0YWJsZSB1cCB0byA3IGRlY2ltYWxzLlxuICAgICAgfSBlbHNlIGlmIChvcHRpb25OYW1lID09PSBcImRlY2ltYWxzXCIpIHtcbiAgICAgICAgaWYgKG9wdGlvblZhbHVlID49IDAgJiYgb3B0aW9uVmFsdWUgPCA4KSB7XG4gICAgICAgICAgZmlsdGVyZWRPcHRpb25zW29wdGlvbk5hbWVdID0gb3B0aW9uVmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG9wdGlvbk5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlc2Ugb3B0aW9ucywgd2hlbiBwcm92aWRlZCwgbXVzdCBiZSBmdW5jdGlvbnMuXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBvcHRpb25OYW1lID09PSBcImVuY29kZXJcIiB8fFxuICAgICAgICBvcHRpb25OYW1lID09PSBcImRlY29kZXJcIiB8fFxuICAgICAgICBvcHRpb25OYW1lID09PSBcImVkaXRcIiB8fFxuICAgICAgICBvcHRpb25OYW1lID09PSBcInVuZG9cIlxuICAgICAgKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uVmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGZpbHRlcmVkT3B0aW9uc1tvcHRpb25OYW1lXSA9IG9wdGlvblZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihvcHRpb25OYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE90aGVyIG9wdGlvbnMgYXJlIHN0cmluZ3MuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvblZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgZmlsdGVyZWRPcHRpb25zW29wdGlvbk5hbWVdID0gb3B0aW9uVmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG9wdGlvbk5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU29tZSB2YWx1ZXMgY2FuJ3QgYmUgZXh0cmFjdGVkIGZyb20gYVxuICAgIC8vIHN0cmluZyBpZiBjZXJ0YWluIGNvbWJpbmF0aW9ucyBhcmUgcHJlc2VudC5cbiAgICB0aHJvd0VxdWFsRXJyb3IoZmlsdGVyZWRPcHRpb25zLCBcIm1hcmtcIiwgXCJ0aG91c2FuZFwiKTtcbiAgICB0aHJvd0VxdWFsRXJyb3IoZmlsdGVyZWRPcHRpb25zLCBcInByZWZpeFwiLCBcIm5lZ2F0aXZlXCIpO1xuICAgIHRocm93RXF1YWxFcnJvcihmaWx0ZXJlZE9wdGlvbnMsIFwicHJlZml4XCIsIFwibmVnYXRpdmVCZWZvcmVcIik7XG5cbiAgICByZXR1cm4gZmlsdGVyZWRPcHRpb25zO1xuICB9XG5cbiAgLy8gUGFzcyBhbGwgb3B0aW9ucyBhcyBmdW5jdGlvbiBhcmd1bWVudHNcbiAgZnVuY3Rpb24gcGFzc0FsbChvcHRpb25zLCBtZXRob2QsIGlucHV0KSB7XG4gICAgdmFyIGksXG4gICAgICBhcmdzID0gW107XG5cbiAgICAvLyBBZGQgYWxsIG9wdGlvbnMgaW4gb3JkZXIgb2YgRm9ybWF0T3B0aW9uc1xuICAgIGZvciAoaSA9IDA7IGkgPCBGb3JtYXRPcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBhcmdzLnB1c2gob3B0aW9uc1tGb3JtYXRPcHRpb25zW2ldXSk7XG4gICAgfVxuXG4gICAgLy8gQXBwZW5kIHRoZSBpbnB1dCwgdGhlbiBjYWxsIHRoZSBtZXRob2QsIHByZXNlbnRpbmcgYWxsXG4gICAgLy8gb3B0aW9ucyBhcyBhcmd1bWVudHMuXG4gICAgYXJncy5wdXNoKGlucHV0KTtcbiAgICByZXR1cm4gbWV0aG9kLmFwcGx5KFwiXCIsIGFyZ3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gd051bWIob3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiB3TnVtYikpIHtcbiAgICAgIHJldHVybiBuZXcgd051bWIob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IHZhbGlkYXRlKG9wdGlvbnMpO1xuXG4gICAgLy8gQ2FsbCAnZm9ybWF0VG8nIHdpdGggcHJvcGVyIGFyZ3VtZW50cy5cbiAgICB0aGlzLnRvID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIHJldHVybiBwYXNzQWxsKG9wdGlvbnMsIGZvcm1hdFRvLCBpbnB1dCk7XG4gICAgfTtcblxuICAgIC8vIENhbGwgJ2Zvcm1hdEZyb20nIHdpdGggcHJvcGVyIGFyZ3VtZW50cy5cbiAgICB0aGlzLmZyb20gPSBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgcmV0dXJuIHBhc3NBbGwob3B0aW9ucywgZm9ybWF0RnJvbSwgaW5wdXQpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gd051bWI7XG59KTtcbiIsIi8vIGltcG9ydCByZWFkeSBmcm9tIFwiLi4vanMvdXRpbHMvZG9jdW1lbnRSZWFkeS5qc1wiO1xuLy8gaW1wb3J0IGdldFNjcm9sbFNpemUgZnJvbSBcIi4uL2pzL3V0aWxzL2dldFNjcm9sbFNpemUuanNcIjtcblxuLy8gcmVhZHkoZnVuY3Rpb24gKCkge1xuLy8gICBjb25zb2xlLmxvZyhcIkRPTSDQs9C10YDQvtC40YfQtdGB0LrQuCDQv9C+0YHRgtGA0L7QtdC9IVwiKTtcbi8vICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0LrQsNGB0YLQvtC80L3QvtCz0L4g0YHQstC+0LnRgdGC0LLQsCDRgSDRgdC40YHRgtC10LzQvdC+0Lkg0YjQuNGA0LjQvdC+0Lkg0YHQutGA0L7Qu9C70LBcbi8vICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS1jc3Mtc2Nyb2xsLXNpemVcIiwgYCR7Z2V0U2Nyb2xsU2l6ZSgpfXB4YCk7XG4vLyB9KTtcblxuLy8gaW1wb3J0ICQgZnJvbSBcImpxdWVyeVwiOyAvLyDQn9C10YDQtdC0INC40YHQv9C+0LvRjNC30L7QstCw0L3QuNC10Lwg0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0LrQsNC6INC30LDQstC40YHQuNC80L7RgdGC0Yxcbi8vICQoZnVuY3Rpb24gKCkge1xuLy8gICBjb25zb2xlLmxvZyhcImpRdWVyeSDQs9C10YDQvtC40YfQtdGB0LrQuCDRgdGA0LDQsdC+0YLQsNC7IVwiKTtcbi8vIH0pO1xuIiwiY29uc3QgcmVhZHkgPSBmdW5jdGlvbiAoZm4pIHtcbiAgaWYgKFxuICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50ID8gZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIDogZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCJcbiAgKSB7XG4gICAgZm4oKTtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmbik7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJlYWR5O1xuIiwidmFyIGNhblVzZURPTSA9ICEhKFxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICB3aW5kb3cuZG9jdW1lbnQgJiZcbiAgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnRcbik7XG5cbm1vZHVsZS5leHBvcnRzID0gY2FuVXNlRE9NOyIsImltcG9ydCBIVE1MTWFza0VsZW1lbnQgZnJvbSAnLi9odG1sLW1hc2stZWxlbWVudC5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuL21hc2stZWxlbWVudC5qcyc7XG5cbmNsYXNzIEhUTUxDb250ZW50ZWRpdGFibGVNYXNrRWxlbWVudCBleHRlbmRzIEhUTUxNYXNrRWxlbWVudCB7XG4gIC8qKiBSZXR1cm5zIEhUTUxFbGVtZW50IHNlbGVjdGlvbiBzdGFydCAqL1xuICBnZXQgX3Vuc2FmZVNlbGVjdGlvblN0YXJ0KCkge1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3RFbGVtZW50O1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHJvb3QuZ2V0U2VsZWN0aW9uICYmIHJvb3QuZ2V0U2VsZWN0aW9uKCk7XG4gICAgY29uc3QgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5hbmNob3JPZmZzZXQ7XG4gICAgY29uc3QgZm9jdXNPZmZzZXQgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuICAgIGlmIChmb2N1c09mZnNldCA9PSBudWxsIHx8IGFuY2hvck9mZnNldCA9PSBudWxsIHx8IGFuY2hvck9mZnNldCA8IGZvY3VzT2Zmc2V0KSB7XG4gICAgICByZXR1cm4gYW5jaG9yT2Zmc2V0O1xuICAgIH1cbiAgICByZXR1cm4gZm9jdXNPZmZzZXQ7XG4gIH1cblxuICAvKiogUmV0dXJucyBIVE1MRWxlbWVudCBzZWxlY3Rpb24gZW5kICovXG4gIGdldCBfdW5zYWZlU2VsZWN0aW9uRW5kKCkge1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3RFbGVtZW50O1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHJvb3QuZ2V0U2VsZWN0aW9uICYmIHJvb3QuZ2V0U2VsZWN0aW9uKCk7XG4gICAgY29uc3QgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5hbmNob3JPZmZzZXQ7XG4gICAgY29uc3QgZm9jdXNPZmZzZXQgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuICAgIGlmIChmb2N1c09mZnNldCA9PSBudWxsIHx8IGFuY2hvck9mZnNldCA9PSBudWxsIHx8IGFuY2hvck9mZnNldCA+IGZvY3VzT2Zmc2V0KSB7XG4gICAgICByZXR1cm4gYW5jaG9yT2Zmc2V0O1xuICAgIH1cbiAgICByZXR1cm4gZm9jdXNPZmZzZXQ7XG4gIH1cblxuICAvKiogU2V0cyBIVE1MRWxlbWVudCBzZWxlY3Rpb24gKi9cbiAgX3Vuc2FmZVNlbGVjdChzdGFydCwgZW5kKSB7XG4gICAgaWYgKCF0aGlzLnJvb3RFbGVtZW50LmNyZWF0ZVJhbmdlKSByZXR1cm47XG4gICAgY29uc3QgcmFuZ2UgPSB0aGlzLnJvb3RFbGVtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQodGhpcy5pbnB1dC5maXJzdENoaWxkIHx8IHRoaXMuaW5wdXQsIHN0YXJ0KTtcbiAgICByYW5nZS5zZXRFbmQodGhpcy5pbnB1dC5sYXN0Q2hpbGQgfHwgdGhpcy5pbnB1dCwgZW5kKTtcbiAgICBjb25zdCByb290ID0gdGhpcy5yb290RWxlbWVudDtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSByb290LmdldFNlbGVjdGlvbiAmJiByb290LmdldFNlbGVjdGlvbigpO1xuICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEhUTUxFbGVtZW50IHZhbHVlICovXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dC50ZXh0Q29udGVudCB8fCAnJztcbiAgfVxuICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLmlucHV0LnRleHRDb250ZW50ID0gdmFsdWU7XG4gIH1cbn1cbklNYXNrLkhUTUxDb250ZW50ZWRpdGFibGVNYXNrRWxlbWVudCA9IEhUTUxDb250ZW50ZWRpdGFibGVNYXNrRWxlbWVudDtcblxuZXhwb3J0IHsgSFRNTENvbnRlbnRlZGl0YWJsZU1hc2tFbGVtZW50IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBIVE1MTWFza0VsZW1lbnQgZnJvbSAnLi9odG1sLW1hc2stZWxlbWVudC5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuL21hc2stZWxlbWVudC5qcyc7XG5cbi8qKiBCcmlkZ2UgYmV0d2VlbiBJbnB1dEVsZW1lbnQgYW5kIHtAbGluayBNYXNrZWR9ICovXG5jbGFzcyBIVE1MSW5wdXRNYXNrRWxlbWVudCBleHRlbmRzIEhUTUxNYXNrRWxlbWVudCB7XG4gIC8qKiBJbnB1dEVsZW1lbnQgdG8gdXNlIG1hc2sgb24gKi9cblxuICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgIHN1cGVyKGlucHV0KTtcbiAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgdGhpcy5faGFuZGxlcnMgPSB7fTtcbiAgfVxuXG4gIC8qKiBSZXR1cm5zIElucHV0RWxlbWVudCBzZWxlY3Rpb24gc3RhcnQgKi9cbiAgZ2V0IF91bnNhZmVTZWxlY3Rpb25TdGFydCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dC5zZWxlY3Rpb25TdGFydCAhPSBudWxsID8gdGhpcy5pbnB1dC5zZWxlY3Rpb25TdGFydCA6IHRoaXMudmFsdWUubGVuZ3RoO1xuICB9XG5cbiAgLyoqIFJldHVybnMgSW5wdXRFbGVtZW50IHNlbGVjdGlvbiBlbmQgKi9cbiAgZ2V0IF91bnNhZmVTZWxlY3Rpb25FbmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXQuc2VsZWN0aW9uRW5kO1xuICB9XG5cbiAgLyoqIFNldHMgSW5wdXRFbGVtZW50IHNlbGVjdGlvbiAqL1xuICBfdW5zYWZlU2VsZWN0KHN0YXJ0LCBlbmQpIHtcbiAgICB0aGlzLmlucHV0LnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dC52YWx1ZTtcbiAgfVxuICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLmlucHV0LnZhbHVlID0gdmFsdWU7XG4gIH1cbn1cbklNYXNrLkhUTUxNYXNrRWxlbWVudCA9IEhUTUxNYXNrRWxlbWVudDtcblxuZXhwb3J0IHsgSFRNTElucHV0TWFza0VsZW1lbnQgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IE1hc2tFbGVtZW50IGZyb20gJy4vbWFzay1lbGVtZW50LmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5cbi8qKiBCcmlkZ2UgYmV0d2VlbiBIVE1MRWxlbWVudCBhbmQge0BsaW5rIE1hc2tlZH0gKi9cbmNsYXNzIEhUTUxNYXNrRWxlbWVudCBleHRlbmRzIE1hc2tFbGVtZW50IHtcbiAgLyoqIEhUTUxFbGVtZW50IHRvIHVzZSBtYXNrIG9uICovXG5cbiAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB0aGlzLl9oYW5kbGVycyA9IHt9O1xuICB9XG4gIGdldCByb290RWxlbWVudCgpIHtcbiAgICB2YXIgX3RoaXMkaW5wdXQkZ2V0Um9vdE5vLCBfdGhpcyRpbnB1dCRnZXRSb290Tm8yLCBfdGhpcyRpbnB1dDtcbiAgICByZXR1cm4gKF90aGlzJGlucHV0JGdldFJvb3RObyA9IChfdGhpcyRpbnB1dCRnZXRSb290Tm8yID0gKF90aGlzJGlucHV0ID0gdGhpcy5pbnB1dCkuZ2V0Um9vdE5vZGUpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRpbnB1dCRnZXRSb290Tm8yLmNhbGwoX3RoaXMkaW5wdXQpKSAhPSBudWxsID8gX3RoaXMkaW5wdXQkZ2V0Um9vdE5vIDogZG9jdW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICBJcyBlbGVtZW50IGluIGZvY3VzXG4gICovXG4gIGdldCBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dCA9PT0gdGhpcy5yb290RWxlbWVudC5hY3RpdmVFbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAgQmluZHMgSFRNTEVsZW1lbnQgZXZlbnRzIHRvIG1hc2sgaW50ZXJuYWwgZXZlbnRzXG4gICovXG4gIGJpbmRFdmVudHMoaGFuZGxlcnMpIHtcbiAgICBPYmplY3Qua2V5cyhoYW5kbGVycykuZm9yRWFjaChldmVudCA9PiB0aGlzLl90b2dnbGVFdmVudEhhbmRsZXIoSFRNTE1hc2tFbGVtZW50LkVWRU5UU19NQVBbZXZlbnRdLCBoYW5kbGVyc1tldmVudF0pKTtcbiAgfVxuXG4gIC8qKlxuICAgIFVuYmluZHMgSFRNTEVsZW1lbnQgZXZlbnRzIHRvIG1hc2sgaW50ZXJuYWwgZXZlbnRzXG4gICovXG4gIHVuYmluZEV2ZW50cygpIHtcbiAgICBPYmplY3Qua2V5cyh0aGlzLl9oYW5kbGVycykuZm9yRWFjaChldmVudCA9PiB0aGlzLl90b2dnbGVFdmVudEhhbmRsZXIoZXZlbnQpKTtcbiAgfVxuICBfdG9nZ2xlRXZlbnRIYW5kbGVyKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgaWYgKHRoaXMuX2hhbmRsZXJzW2V2ZW50XSkge1xuICAgICAgdGhpcy5pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLl9oYW5kbGVyc1tldmVudF0pO1xuICAgICAgZGVsZXRlIHRoaXMuX2hhbmRsZXJzW2V2ZW50XTtcbiAgICB9XG4gICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcik7XG4gICAgICB0aGlzLl9oYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyO1xuICAgIH1cbiAgfVxufVxuLyoqIE1hcHBpbmcgYmV0d2VlbiBIVE1MRWxlbWVudCBldmVudHMgYW5kIG1hc2sgaW50ZXJuYWwgZXZlbnRzICovXG5IVE1MTWFza0VsZW1lbnQuRVZFTlRTX01BUCA9IHtcbiAgc2VsZWN0aW9uQ2hhbmdlOiAna2V5ZG93bicsXG4gIGlucHV0OiAnaW5wdXQnLFxuICBkcm9wOiAnZHJvcCcsXG4gIGNsaWNrOiAnY2xpY2snLFxuICBmb2N1czogJ2ZvY3VzJyxcbiAgY29tbWl0OiAnYmx1cidcbn07XG5JTWFzay5IVE1MTWFza0VsZW1lbnQgPSBIVE1MTWFza0VsZW1lbnQ7XG5cbmV4cG9ydCB7IEhUTUxNYXNrRWxlbWVudCBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBvYmplY3RJbmNsdWRlcywgRElSRUNUSU9OIH0gZnJvbSAnLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgQWN0aW9uRGV0YWlscyBmcm9tICcuLi9jb3JlL2FjdGlvbi1kZXRhaWxzLmpzJztcbmltcG9ydCBjcmVhdGVNYXNrLCB7IG1hc2tlZENsYXNzIH0gZnJvbSAnLi4vbWFza2VkL2ZhY3RvcnkuanMnO1xuaW1wb3J0IE1hc2tFbGVtZW50IGZyb20gJy4vbWFzay1lbGVtZW50LmpzJztcbmltcG9ydCBIVE1MSW5wdXRNYXNrRWxlbWVudCBmcm9tICcuL2h0bWwtaW5wdXQtbWFzay1lbGVtZW50LmpzJztcbmltcG9ydCBIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQgZnJvbSAnLi9odG1sLWNvbnRlbnRlZGl0YWJsZS1tYXNrLWVsZW1lbnQuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi9odG1sLW1hc2stZWxlbWVudC5qcyc7XG5cbi8qKiBMaXN0ZW5zIHRvIGVsZW1lbnQgZXZlbnRzIGFuZCBjb250cm9scyBjaGFuZ2VzIGJldHdlZW4gZWxlbWVudCBhbmQge0BsaW5rIE1hc2tlZH0gKi9cbmNsYXNzIElucHV0TWFzayB7XG4gIC8qKlxuICAgIFZpZXcgZWxlbWVudFxuICAqL1xuXG4gIC8qKiBJbnRlcm5hbCB7QGxpbmsgTWFza2VkfSBtb2RlbCAqL1xuXG4gIGNvbnN0cnVjdG9yKGVsLCBvcHRzKSB7XG4gICAgdGhpcy5lbCA9IGVsIGluc3RhbmNlb2YgTWFza0VsZW1lbnQgPyBlbCA6IGVsLmlzQ29udGVudEVkaXRhYmxlICYmIGVsLnRhZ05hbWUgIT09ICdJTlBVVCcgJiYgZWwudGFnTmFtZSAhPT0gJ1RFWFRBUkVBJyA/IG5ldyBIVE1MQ29udGVudGVkaXRhYmxlTWFza0VsZW1lbnQoZWwpIDogbmV3IEhUTUxJbnB1dE1hc2tFbGVtZW50KGVsKTtcbiAgICB0aGlzLm1hc2tlZCA9IGNyZWF0ZU1hc2sob3B0cyk7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5fdmFsdWUgPSAnJztcbiAgICB0aGlzLl91bm1hc2tlZFZhbHVlID0gJyc7XG4gICAgdGhpcy5fc2F2ZVNlbGVjdGlvbiA9IHRoaXMuX3NhdmVTZWxlY3Rpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbklucHV0ID0gdGhpcy5fb25JbnB1dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlID0gdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkRyb3AgPSB0aGlzLl9vbkRyb3AuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkZvY3VzID0gdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xpY2sgPSB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hbGlnbkN1cnNvciA9IHRoaXMuYWxpZ25DdXJzb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLmFsaWduQ3Vyc29yRnJpZW5kbHkgPSB0aGlzLmFsaWduQ3Vyc29yRnJpZW5kbHkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG5cbiAgICAvLyByZWZyZXNoXG4gICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xuICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gIH1cbiAgbWFza0VxdWFscyhtYXNrKSB7XG4gICAgdmFyIF90aGlzJG1hc2tlZDtcbiAgICByZXR1cm4gbWFzayA9PSBudWxsIHx8ICgoX3RoaXMkbWFza2VkID0gdGhpcy5tYXNrZWQpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRtYXNrZWQubWFza0VxdWFscyhtYXNrKSk7XG4gIH1cblxuICAvKiogTWFza2VkICovXG4gIGdldCBtYXNrKCkge1xuICAgIHJldHVybiB0aGlzLm1hc2tlZC5tYXNrO1xuICB9XG4gIHNldCBtYXNrKG1hc2spIHtcbiAgICBpZiAodGhpcy5tYXNrRXF1YWxzKG1hc2spKSByZXR1cm47XG4gICAgaWYgKCEobWFzayBpbnN0YW5jZW9mIElNYXNrLk1hc2tlZCkgJiYgdGhpcy5tYXNrZWQuY29uc3RydWN0b3IgPT09IG1hc2tlZENsYXNzKG1hc2spKSB7XG4gICAgICAvLyBUT0RPIFwiYW55XCIgbm8gaWRlYVxuICAgICAgdGhpcy5tYXNrZWQudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIG1hc2tcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtYXNrZWQgPSBtYXNrIGluc3RhbmNlb2YgSU1hc2suTWFza2VkID8gbWFzayA6IGNyZWF0ZU1hc2soe1xuICAgICAgbWFza1xuICAgIH0pO1xuICAgIG1hc2tlZC51bm1hc2tlZFZhbHVlID0gdGhpcy5tYXNrZWQudW5tYXNrZWRWYWx1ZTtcbiAgICB0aGlzLm1hc2tlZCA9IG1hc2tlZDtcbiAgfVxuXG4gIC8qKiBSYXcgdmFsdWUgKi9cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuICBzZXQgdmFsdWUoc3RyKSB7XG4gICAgaWYgKHRoaXMudmFsdWUgPT09IHN0cikgcmV0dXJuO1xuICAgIHRoaXMubWFza2VkLnZhbHVlID0gc3RyO1xuICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuICAgIHRoaXMuYWxpZ25DdXJzb3IoKTtcbiAgfVxuXG4gIC8qKiBVbm1hc2tlZCB2YWx1ZSAqL1xuICBnZXQgdW5tYXNrZWRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdW5tYXNrZWRWYWx1ZTtcbiAgfVxuICBzZXQgdW5tYXNrZWRWYWx1ZShzdHIpIHtcbiAgICBpZiAodGhpcy51bm1hc2tlZFZhbHVlID09PSBzdHIpIHJldHVybjtcbiAgICB0aGlzLm1hc2tlZC51bm1hc2tlZFZhbHVlID0gc3RyO1xuICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuICAgIHRoaXMuYWxpZ25DdXJzb3IoKTtcbiAgfVxuXG4gIC8qKiBUeXBlZCB1bm1hc2tlZCB2YWx1ZSAqL1xuICBnZXQgdHlwZWRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXNrZWQudHlwZWRWYWx1ZTtcbiAgfVxuICBzZXQgdHlwZWRWYWx1ZSh2YWwpIHtcbiAgICBpZiAodGhpcy5tYXNrZWQudHlwZWRWYWx1ZUVxdWFscyh2YWwpKSByZXR1cm47XG4gICAgdGhpcy5tYXNrZWQudHlwZWRWYWx1ZSA9IHZhbDtcbiAgICB0aGlzLnVwZGF0ZUNvbnRyb2woKTtcbiAgICB0aGlzLmFsaWduQ3Vyc29yKCk7XG4gIH1cblxuICAvKiogRGlzcGxheSB2YWx1ZSAqL1xuICBnZXQgZGlzcGxheVZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLm1hc2tlZC5kaXNwbGF5VmFsdWU7XG4gIH1cblxuICAvKiogU3RhcnRzIGxpc3RlbmluZyB0byBlbGVtZW50IGV2ZW50cyAqL1xuICBfYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLmVsLmJpbmRFdmVudHMoe1xuICAgICAgc2VsZWN0aW9uQ2hhbmdlOiB0aGlzLl9zYXZlU2VsZWN0aW9uLFxuICAgICAgaW5wdXQ6IHRoaXMuX29uSW5wdXQsXG4gICAgICBkcm9wOiB0aGlzLl9vbkRyb3AsXG4gICAgICBjbGljazogdGhpcy5fb25DbGljayxcbiAgICAgIGZvY3VzOiB0aGlzLl9vbkZvY3VzLFxuICAgICAgY29tbWl0OiB0aGlzLl9vbkNoYW5nZVxuICAgIH0pO1xuICB9XG5cbiAgLyoqIFN0b3BzIGxpc3RlbmluZyB0byBlbGVtZW50IGV2ZW50cyAqL1xuICBfdW5iaW5kRXZlbnRzKCkge1xuICAgIGlmICh0aGlzLmVsKSB0aGlzLmVsLnVuYmluZEV2ZW50cygpO1xuICB9XG5cbiAgLyoqIEZpcmVzIGN1c3RvbSBldmVudCAqL1xuICBfZmlyZUV2ZW50KGV2LCBlKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2V2XTtcbiAgICBpZiAoIWxpc3RlbmVycykgcmV0dXJuO1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKGwgPT4gbChlKSk7XG4gIH1cblxuICAvKiogQ3VycmVudCBzZWxlY3Rpb24gc3RhcnQgKi9cbiAgZ2V0IHNlbGVjdGlvblN0YXJ0KCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJzb3JDaGFuZ2luZyA/IHRoaXMuX2NoYW5naW5nQ3Vyc29yUG9zIDogdGhpcy5lbC5zZWxlY3Rpb25TdGFydDtcbiAgfVxuXG4gIC8qKiBDdXJyZW50IGN1cnNvciBwb3NpdGlvbiAqL1xuICBnZXQgY3Vyc29yUG9zKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJzb3JDaGFuZ2luZyA/IHRoaXMuX2NoYW5naW5nQ3Vyc29yUG9zIDogdGhpcy5lbC5zZWxlY3Rpb25FbmQ7XG4gIH1cbiAgc2V0IGN1cnNvclBvcyhwb3MpIHtcbiAgICBpZiAoIXRoaXMuZWwgfHwgIXRoaXMuZWwuaXNBY3RpdmUpIHJldHVybjtcbiAgICB0aGlzLmVsLnNlbGVjdChwb3MsIHBvcyk7XG4gICAgdGhpcy5fc2F2ZVNlbGVjdGlvbigpO1xuICB9XG5cbiAgLyoqIFN0b3JlcyBjdXJyZW50IHNlbGVjdGlvbiAqL1xuICBfc2F2ZVNlbGVjdGlvbiggLyogZXYgKi9cbiAgKSB7XG4gICAgaWYgKHRoaXMuZGlzcGxheVZhbHVlICE9PSB0aGlzLmVsLnZhbHVlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0VsZW1lbnQgdmFsdWUgd2FzIGNoYW5nZWQgb3V0c2lkZSBvZiBtYXNrLiBTeW5jcm9uaXplIG1hc2sgdXNpbmcgYG1hc2sudXBkYXRlVmFsdWUoKWAgdG8gd29yayBwcm9wZXJseS4nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuXG4gICAgdGhpcy5fc2VsZWN0aW9uID0ge1xuICAgICAgc3RhcnQ6IHRoaXMuc2VsZWN0aW9uU3RhcnQsXG4gICAgICBlbmQ6IHRoaXMuY3Vyc29yUG9zXG4gICAgfTtcbiAgfVxuXG4gIC8qKiBTeW5jcm9uaXplcyBtb2RlbCB2YWx1ZSBmcm9tIHZpZXcgKi9cbiAgdXBkYXRlVmFsdWUoKSB7XG4gICAgdGhpcy5tYXNrZWQudmFsdWUgPSB0aGlzLmVsLnZhbHVlO1xuICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5tYXNrZWQudmFsdWU7XG4gIH1cblxuICAvKiogU3luY3Jvbml6ZXMgdmlldyBmcm9tIG1vZGVsIHZhbHVlLCBmaXJlcyBjaGFuZ2UgZXZlbnRzICovXG4gIHVwZGF0ZUNvbnRyb2woKSB7XG4gICAgY29uc3QgbmV3VW5tYXNrZWRWYWx1ZSA9IHRoaXMubWFza2VkLnVubWFza2VkVmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzLm1hc2tlZC52YWx1ZTtcbiAgICBjb25zdCBuZXdEaXNwbGF5VmFsdWUgPSB0aGlzLmRpc3BsYXlWYWx1ZTtcbiAgICBjb25zdCBpc0NoYW5nZWQgPSB0aGlzLnVubWFza2VkVmFsdWUgIT09IG5ld1VubWFza2VkVmFsdWUgfHwgdGhpcy52YWx1ZSAhPT0gbmV3VmFsdWU7XG4gICAgdGhpcy5fdW5tYXNrZWRWYWx1ZSA9IG5ld1VubWFza2VkVmFsdWU7XG4gICAgdGhpcy5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICBpZiAodGhpcy5lbC52YWx1ZSAhPT0gbmV3RGlzcGxheVZhbHVlKSB0aGlzLmVsLnZhbHVlID0gbmV3RGlzcGxheVZhbHVlO1xuICAgIGlmIChpc0NoYW5nZWQpIHRoaXMuX2ZpcmVDaGFuZ2VFdmVudHMoKTtcbiAgfVxuXG4gIC8qKiBVcGRhdGVzIG9wdGlvbnMgd2l0aCBkZWVwIGVxdWFsIGNoZWNrLCByZWNyZWF0ZXMge0BsaW5rIE1hc2tlZH0gbW9kZWwgaWYgbWFzayB0eXBlIGNoYW5nZXMgKi9cbiAgdXBkYXRlT3B0aW9ucyhvcHRzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWFzayxcbiAgICAgIC4uLnJlc3RPcHRzXG4gICAgfSA9IG9wdHM7XG4gICAgY29uc3QgdXBkYXRlTWFzayA9ICF0aGlzLm1hc2tFcXVhbHMobWFzayk7XG4gICAgY29uc3QgdXBkYXRlT3B0cyA9ICFvYmplY3RJbmNsdWRlcyh0aGlzLm1hc2tlZCwgcmVzdE9wdHMpO1xuICAgIGlmICh1cGRhdGVNYXNrKSB0aGlzLm1hc2sgPSBtYXNrO1xuICAgIGlmICh1cGRhdGVPcHRzKSB0aGlzLm1hc2tlZC51cGRhdGVPcHRpb25zKHJlc3RPcHRzKTsgLy8gVE9ET1xuXG4gICAgaWYgKHVwZGF0ZU1hc2sgfHwgdXBkYXRlT3B0cykgdGhpcy51cGRhdGVDb250cm9sKCk7XG4gIH1cblxuICAvKiogVXBkYXRlcyBjdXJzb3IgKi9cbiAgdXBkYXRlQ3Vyc29yKGN1cnNvclBvcykge1xuICAgIGlmIChjdXJzb3JQb3MgPT0gbnVsbCkgcmV0dXJuO1xuICAgIHRoaXMuY3Vyc29yUG9zID0gY3Vyc29yUG9zO1xuXG4gICAgLy8gYWxzbyBxdWV1ZSBjaGFuZ2UgY3Vyc29yIGZvciBtb2JpbGUgYnJvd3NlcnNcbiAgICB0aGlzLl9kZWxheVVwZGF0ZUN1cnNvcihjdXJzb3JQb3MpO1xuICB9XG5cbiAgLyoqIERlbGF5cyBjdXJzb3IgdXBkYXRlIHRvIHN1cHBvcnQgbW9iaWxlIGJyb3dzZXJzICovXG4gIF9kZWxheVVwZGF0ZUN1cnNvcihjdXJzb3JQb3MpIHtcbiAgICB0aGlzLl9hYm9ydFVwZGF0ZUN1cnNvcigpO1xuICAgIHRoaXMuX2NoYW5naW5nQ3Vyc29yUG9zID0gY3Vyc29yUG9zO1xuICAgIHRoaXMuX2N1cnNvckNoYW5naW5nID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZWwpIHJldHVybjsgLy8gaWYgd2FzIGRlc3Ryb3llZFxuICAgICAgdGhpcy5jdXJzb3JQb3MgPSB0aGlzLl9jaGFuZ2luZ0N1cnNvclBvcztcbiAgICAgIHRoaXMuX2Fib3J0VXBkYXRlQ3Vyc29yKCk7XG4gICAgfSwgMTApO1xuICB9XG5cbiAgLyoqIEZpcmVzIGN1c3RvbSBldmVudHMgKi9cbiAgX2ZpcmVDaGFuZ2VFdmVudHMoKSB7XG4gICAgdGhpcy5fZmlyZUV2ZW50KCdhY2NlcHQnLCB0aGlzLl9pbnB1dEV2ZW50KTtcbiAgICBpZiAodGhpcy5tYXNrZWQuaXNDb21wbGV0ZSkgdGhpcy5fZmlyZUV2ZW50KCdjb21wbGV0ZScsIHRoaXMuX2lucHV0RXZlbnQpO1xuICB9XG5cbiAgLyoqIEFib3J0cyBkZWxheWVkIGN1cnNvciB1cGRhdGUgKi9cbiAgX2Fib3J0VXBkYXRlQ3Vyc29yKCkge1xuICAgIGlmICh0aGlzLl9jdXJzb3JDaGFuZ2luZykge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2N1cnNvckNoYW5naW5nKTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9jdXJzb3JDaGFuZ2luZztcbiAgICB9XG4gIH1cblxuICAvKiogQWxpZ25zIGN1cnNvciB0byBuZWFyZXN0IGF2YWlsYWJsZSBwb3NpdGlvbiAqL1xuICBhbGlnbkN1cnNvcigpIHtcbiAgICB0aGlzLmN1cnNvclBvcyA9IHRoaXMubWFza2VkLm5lYXJlc3RJbnB1dFBvcyh0aGlzLm1hc2tlZC5uZWFyZXN0SW5wdXRQb3ModGhpcy5jdXJzb3JQb3MsIERJUkVDVElPTi5MRUZUKSk7XG4gIH1cblxuICAvKiogQWxpZ25zIGN1cnNvciBvbmx5IGlmIHNlbGVjdGlvbiBpcyBlbXB0eSAqL1xuICBhbGlnbkN1cnNvckZyaWVuZGx5KCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSB0aGlzLmN1cnNvclBvcykgcmV0dXJuOyAvLyBza2lwIGlmIHJhbmdlIGlzIHNlbGVjdGVkXG4gICAgdGhpcy5hbGlnbkN1cnNvcigpO1xuICB9XG5cbiAgLyoqIEFkZHMgbGlzdGVuZXIgb24gY3VzdG9tIGV2ZW50ICovXG4gIG9uKGV2LCBoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLl9saXN0ZW5lcnNbZXZdKSB0aGlzLl9saXN0ZW5lcnNbZXZdID0gW107XG4gICAgdGhpcy5fbGlzdGVuZXJzW2V2XS5wdXNoKGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIFJlbW92ZXMgY3VzdG9tIGV2ZW50IGxpc3RlbmVyICovXG4gIG9mZihldiwgaGFuZGxlcikge1xuICAgIGlmICghdGhpcy5fbGlzdGVuZXJzW2V2XSkgcmV0dXJuIHRoaXM7XG4gICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2V2XTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCBoSW5kZXggPSB0aGlzLl9saXN0ZW5lcnNbZXZdLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGhJbmRleCA+PSAwKSB0aGlzLl9saXN0ZW5lcnNbZXZdLnNwbGljZShoSW5kZXgsIDEpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIEhhbmRsZXMgdmlldyBpbnB1dCBldmVudCAqL1xuICBfb25JbnB1dChlKSB7XG4gICAgdGhpcy5faW5wdXRFdmVudCA9IGU7XG4gICAgdGhpcy5fYWJvcnRVcGRhdGVDdXJzb3IoKTtcblxuICAgIC8vIGZpeCBzdHJhbmdlIElFIGJlaGF2aW9yXG4gICAgaWYgKCF0aGlzLl9zZWxlY3Rpb24pIHJldHVybiB0aGlzLnVwZGF0ZVZhbHVlKCk7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBBY3Rpb25EZXRhaWxzKHtcbiAgICAgIC8vIG5ldyBzdGF0ZVxuICAgICAgdmFsdWU6IHRoaXMuZWwudmFsdWUsXG4gICAgICBjdXJzb3JQb3M6IHRoaXMuY3Vyc29yUG9zLFxuICAgICAgLy8gb2xkIHN0YXRlXG4gICAgICBvbGRWYWx1ZTogdGhpcy5kaXNwbGF5VmFsdWUsXG4gICAgICBvbGRTZWxlY3Rpb246IHRoaXMuX3NlbGVjdGlvblxuICAgIH0pO1xuICAgIGNvbnN0IG9sZFJhd1ZhbHVlID0gdGhpcy5tYXNrZWQucmF3SW5wdXRWYWx1ZTtcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm1hc2tlZC5zcGxpY2UoZGV0YWlscy5zdGFydENoYW5nZVBvcywgZGV0YWlscy5yZW1vdmVkLmxlbmd0aCwgZGV0YWlscy5pbnNlcnRlZCwgZGV0YWlscy5yZW1vdmVEaXJlY3Rpb24sIHtcbiAgICAgIGlucHV0OiB0cnVlLFxuICAgICAgcmF3OiB0cnVlXG4gICAgfSkub2Zmc2V0O1xuXG4gICAgLy8gZm9yY2UgYWxpZ24gaW4gcmVtb3ZlIGRpcmVjdGlvbiBvbmx5IGlmIG5vIGlucHV0IGNoYXJzIHdlcmUgcmVtb3ZlZFxuICAgIC8vIG90aGVyd2lzZSB3ZSBzdGlsbCBuZWVkIHRvIGFsaWduIHdpdGggTk9ORSAodG8gZ2V0IG91dCBmcm9tIGZpeGVkIHN5bWJvbHMgZm9yIGluc3RhbmNlKVxuICAgIGNvbnN0IHJlbW92ZURpcmVjdGlvbiA9IG9sZFJhd1ZhbHVlID09PSB0aGlzLm1hc2tlZC5yYXdJbnB1dFZhbHVlID8gZGV0YWlscy5yZW1vdmVEaXJlY3Rpb24gOiBESVJFQ1RJT04uTk9ORTtcbiAgICBsZXQgY3Vyc29yUG9zID0gdGhpcy5tYXNrZWQubmVhcmVzdElucHV0UG9zKGRldGFpbHMuc3RhcnRDaGFuZ2VQb3MgKyBvZmZzZXQsIHJlbW92ZURpcmVjdGlvbik7XG4gICAgaWYgKHJlbW92ZURpcmVjdGlvbiAhPT0gRElSRUNUSU9OLk5PTkUpIGN1cnNvclBvcyA9IHRoaXMubWFza2VkLm5lYXJlc3RJbnB1dFBvcyhjdXJzb3JQb3MsIERJUkVDVElPTi5OT05FKTtcbiAgICB0aGlzLnVwZGF0ZUNvbnRyb2woKTtcbiAgICB0aGlzLnVwZGF0ZUN1cnNvcihjdXJzb3JQb3MpO1xuICAgIGRlbGV0ZSB0aGlzLl9pbnB1dEV2ZW50O1xuICB9XG5cbiAgLyoqIEhhbmRsZXMgdmlldyBjaGFuZ2UgZXZlbnQgYW5kIGNvbW1pdHMgbW9kZWwgdmFsdWUgKi9cbiAgX29uQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmRpc3BsYXlWYWx1ZSAhPT0gdGhpcy5lbC52YWx1ZSkge1xuICAgICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xuICAgIH1cbiAgICB0aGlzLm1hc2tlZC5kb0NvbW1pdCgpO1xuICAgIHRoaXMudXBkYXRlQ29udHJvbCgpO1xuICAgIHRoaXMuX3NhdmVTZWxlY3Rpb24oKTtcbiAgfVxuXG4gIC8qKiBIYW5kbGVzIHZpZXcgZHJvcCBldmVudCwgcHJldmVudHMgYnkgZGVmYXVsdCAqL1xuICBfb25Ecm9wKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIC8qKiBSZXN0b3JlIGxhc3Qgc2VsZWN0aW9uIG9uIGZvY3VzICovXG4gIF9vbkZvY3VzKGV2KSB7XG4gICAgdGhpcy5hbGlnbkN1cnNvckZyaWVuZGx5KCk7XG4gIH1cblxuICAvKiogUmVzdG9yZSBsYXN0IHNlbGVjdGlvbiBvbiBmb2N1cyAqL1xuICBfb25DbGljayhldikge1xuICAgIHRoaXMuYWxpZ25DdXJzb3JGcmllbmRseSgpO1xuICB9XG5cbiAgLyoqIFVuYmluZCB2aWV3IGV2ZW50cyBhbmQgcmVtb3ZlcyBlbGVtZW50IHJlZmVyZW5jZSAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3VuYmluZEV2ZW50cygpO1xuICAgIHRoaXMuX2xpc3RlbmVycy5sZW5ndGggPSAwO1xuICAgIGRlbGV0ZSB0aGlzLmVsO1xuICB9XG59XG5JTWFzay5JbnB1dE1hc2sgPSBJbnB1dE1hc2s7XG5cbmV4cG9ydCB7IElucHV0TWFzayBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuXG4vKiogIEdlbmVyaWMgZWxlbWVudCBBUEkgdG8gdXNlIHdpdGggbWFzayAqL1xuY2xhc3MgTWFza0VsZW1lbnQge1xuICAvKiogKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICAvKiogU2FmZWx5IHJldHVybnMgc2VsZWN0aW9uIHN0YXJ0ICovXG4gIGdldCBzZWxlY3Rpb25TdGFydCgpIHtcbiAgICBsZXQgc3RhcnQ7XG4gICAgdHJ5IHtcbiAgICAgIHN0YXJ0ID0gdGhpcy5fdW5zYWZlU2VsZWN0aW9uU3RhcnQ7XG4gICAgfSBjYXRjaCB7fVxuICAgIHJldHVybiBzdGFydCAhPSBudWxsID8gc3RhcnQgOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgfVxuXG4gIC8qKiBTYWZlbHkgcmV0dXJucyBzZWxlY3Rpb24gZW5kICovXG4gIGdldCBzZWxlY3Rpb25FbmQoKSB7XG4gICAgbGV0IGVuZDtcbiAgICB0cnkge1xuICAgICAgZW5kID0gdGhpcy5fdW5zYWZlU2VsZWN0aW9uRW5kO1xuICAgIH0gY2F0Y2gge31cbiAgICByZXR1cm4gZW5kICE9IG51bGwgPyBlbmQgOiB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgfVxuXG4gIC8qKiBTYWZlbHkgc2V0cyBlbGVtZW50IHNlbGVjdGlvbiAqL1xuICBzZWxlY3Qoc3RhcnQsIGVuZCkge1xuICAgIGlmIChzdGFydCA9PSBudWxsIHx8IGVuZCA9PSBudWxsIHx8IHN0YXJ0ID09PSB0aGlzLnNlbGVjdGlvblN0YXJ0ICYmIGVuZCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgdGhpcy5fdW5zYWZlU2VsZWN0KHN0YXJ0LCBlbmQpO1xuICAgIH0gY2F0Y2gge31cbiAgfVxuXG4gIC8qKiAqL1xuICBnZXQgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xufVxuXG5JTWFzay5NYXNrRWxlbWVudCA9IE1hc2tFbGVtZW50O1xuXG5leHBvcnQgeyBNYXNrRWxlbWVudCBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBESVJFQ1RJT04gfSBmcm9tICcuL3V0aWxzLmpzJztcblxuLyoqIFByb3ZpZGVzIGRldGFpbHMgb2YgY2hhbmdpbmcgaW5wdXQgKi9cbmNsYXNzIEFjdGlvbkRldGFpbHMge1xuICAvKiogQ3VycmVudCBpbnB1dCB2YWx1ZSAqL1xuXG4gIC8qKiBDdXJyZW50IGN1cnNvciBwb3NpdGlvbiAqL1xuXG4gIC8qKiBPbGQgaW5wdXQgdmFsdWUgKi9cblxuICAvKiogT2xkIHNlbGVjdGlvbiAqL1xuXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdHMpO1xuXG4gICAgLy8gZG91YmxlIGNoZWNrIGlmIGxlZnQgcGFydCB3YXMgY2hhbmdlZCAoYXV0b2ZpbGxpbmcsIG90aGVyIG5vbi1zdGFuZGFyZCBpbnB1dCB0cmlnZ2VycylcbiAgICB3aGlsZSAodGhpcy52YWx1ZS5zbGljZSgwLCB0aGlzLnN0YXJ0Q2hhbmdlUG9zKSAhPT0gdGhpcy5vbGRWYWx1ZS5zbGljZSgwLCB0aGlzLnN0YXJ0Q2hhbmdlUG9zKSkge1xuICAgICAgLS10aGlzLm9sZFNlbGVjdGlvbi5zdGFydDtcbiAgICB9XG4gIH1cblxuICAvKiogU3RhcnQgY2hhbmdpbmcgcG9zaXRpb24gKi9cbiAgZ2V0IHN0YXJ0Q2hhbmdlUG9zKCkge1xuICAgIHJldHVybiBNYXRoLm1pbih0aGlzLmN1cnNvclBvcywgdGhpcy5vbGRTZWxlY3Rpb24uc3RhcnQpO1xuICB9XG5cbiAgLyoqIEluc2VydGVkIHN5bWJvbHMgY291bnQgKi9cbiAgZ2V0IGluc2VydGVkQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3Vyc29yUG9zIC0gdGhpcy5zdGFydENoYW5nZVBvcztcbiAgfVxuXG4gIC8qKiBJbnNlcnRlZCBzeW1ib2xzICovXG4gIGdldCBpbnNlcnRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHIodGhpcy5zdGFydENoYW5nZVBvcywgdGhpcy5pbnNlcnRlZENvdW50KTtcbiAgfVxuXG4gIC8qKiBSZW1vdmVkIHN5bWJvbHMgY291bnQgKi9cbiAgZ2V0IHJlbW92ZWRDb3VudCgpIHtcbiAgICAvLyBNYXRoLm1heCBmb3Igb3Bwb3NpdGUgb3BlcmF0aW9uXG4gICAgcmV0dXJuIE1hdGgubWF4KHRoaXMub2xkU2VsZWN0aW9uLmVuZCAtIHRoaXMuc3RhcnRDaGFuZ2VQb3MgfHxcbiAgICAvLyBmb3IgRGVsZXRlXG4gICAgdGhpcy5vbGRWYWx1ZS5sZW5ndGggLSB0aGlzLnZhbHVlLmxlbmd0aCwgMCk7XG4gIH1cblxuICAvKiogUmVtb3ZlZCBzeW1ib2xzICovXG4gIGdldCByZW1vdmVkKCkge1xuICAgIHJldHVybiB0aGlzLm9sZFZhbHVlLnN1YnN0cih0aGlzLnN0YXJ0Q2hhbmdlUG9zLCB0aGlzLnJlbW92ZWRDb3VudCk7XG4gIH1cblxuICAvKiogVW5jaGFuZ2VkIGhlYWQgc3ltYm9scyAqL1xuICBnZXQgaGVhZCgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoMCwgdGhpcy5zdGFydENoYW5nZVBvcyk7XG4gIH1cblxuICAvKiogVW5jaGFuZ2VkIHRhaWwgc3ltYm9scyAqL1xuICBnZXQgdGFpbCgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcodGhpcy5zdGFydENoYW5nZVBvcyArIHRoaXMuaW5zZXJ0ZWRDb3VudCk7XG4gIH1cblxuICAvKiogUmVtb3ZlIGRpcmVjdGlvbiAqL1xuICBnZXQgcmVtb3ZlRGlyZWN0aW9uKCkge1xuICAgIGlmICghdGhpcy5yZW1vdmVkQ291bnQgfHwgdGhpcy5pbnNlcnRlZENvdW50KSByZXR1cm4gRElSRUNUSU9OLk5PTkU7XG5cbiAgICAvLyBhbGlnbiByaWdodCBpZiBkZWxldGUgYXQgcmlnaHRcbiAgICByZXR1cm4gKHRoaXMub2xkU2VsZWN0aW9uLmVuZCA9PT0gdGhpcy5jdXJzb3JQb3MgfHwgdGhpcy5vbGRTZWxlY3Rpb24uc3RhcnQgPT09IHRoaXMuY3Vyc29yUG9zKSAmJlxuICAgIC8vIGlmIG5vdCByYW5nZSByZW1vdmVkIChldmVudCB3aXRoIGJhY2tzcGFjZSlcbiAgICB0aGlzLm9sZFNlbGVjdGlvbi5lbmQgPT09IHRoaXMub2xkU2VsZWN0aW9uLnN0YXJ0ID8gRElSRUNUSU9OLlJJR0hUIDogRElSRUNUSU9OLkxFRlQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgQWN0aW9uRGV0YWlscyBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgSU1hc2sgZnJvbSAnLi9ob2xkZXIuanMnO1xuXG4vKiogUHJvdmlkZXMgZGV0YWlscyBvZiBjaGFuZ2luZyBtb2RlbCB2YWx1ZSAqL1xuY2xhc3MgQ2hhbmdlRGV0YWlscyB7XG4gIC8qKiBJbnNlcnRlZCBzeW1ib2xzICovXG5cbiAgLyoqIENhbiBza2lwIGNoYXJzICovXG5cbiAgLyoqIEFkZGl0aW9uYWwgb2Zmc2V0IGlmIGFueSBjaGFuZ2VzIG9jY3VycmVkIGJlZm9yZSB0YWlsICovXG5cbiAgLyoqIFJhdyBpbnNlcnRlZCBpcyB1c2VkIGJ5IGR5bmFtaWMgbWFzayAqL1xuXG4gIHN0YXRpYyBub3JtYWxpemUocHJlcCkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHByZXApID8gcHJlcCA6IFtwcmVwLCBuZXcgQ2hhbmdlRGV0YWlscygpXTtcbiAgfVxuICBjb25zdHJ1Y3RvcihkZXRhaWxzKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICBpbnNlcnRlZDogJycsXG4gICAgICByYXdJbnNlcnRlZDogJycsXG4gICAgICBza2lwOiBmYWxzZSxcbiAgICAgIHRhaWxTaGlmdDogMFxuICAgIH0sIGRldGFpbHMpO1xuICB9XG5cbiAgLyoqIEFnZ3JlZ2F0ZSBjaGFuZ2VzICovXG4gIGFnZ3JlZ2F0ZShkZXRhaWxzKSB7XG4gICAgdGhpcy5yYXdJbnNlcnRlZCArPSBkZXRhaWxzLnJhd0luc2VydGVkO1xuICAgIHRoaXMuc2tpcCA9IHRoaXMuc2tpcCB8fCBkZXRhaWxzLnNraXA7XG4gICAgdGhpcy5pbnNlcnRlZCArPSBkZXRhaWxzLmluc2VydGVkO1xuICAgIHRoaXMudGFpbFNoaWZ0ICs9IGRldGFpbHMudGFpbFNoaWZ0O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIFRvdGFsIG9mZnNldCBjb25zaWRlcmluZyBhbGwgY2hhbmdlcyAqL1xuICBnZXQgb2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLnRhaWxTaGlmdCArIHRoaXMuaW5zZXJ0ZWQubGVuZ3RoO1xuICB9XG59XG5JTWFzay5DaGFuZ2VEZXRhaWxzID0gQ2hhbmdlRGV0YWlscztcblxuZXhwb3J0IHsgQ2hhbmdlRGV0YWlscyBhcyBkZWZhdWx0IH07XG4iLCIvKiogUHJvdmlkZXMgZGV0YWlscyBvZiBjb250aW51b3VzIGV4dHJhY3RlZCB0YWlsICovXG5jbGFzcyBDb250aW51b3VzVGFpbERldGFpbHMge1xuICAvKiogVGFpbCB2YWx1ZSBhcyBzdHJpbmcgKi9cblxuICAvKiogVGFpbCBzdGFydCBwb3NpdGlvbiAqL1xuXG4gIC8qKiBTdGFydCBwb3NpdGlvbiAqL1xuXG4gIGNvbnN0cnVjdG9yKHZhbHVlLCBmcm9tLCBzdG9wKSB7XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHZhbHVlID0gJyc7XG4gICAgfVxuICAgIGlmIChmcm9tID09PSB2b2lkIDApIHtcbiAgICAgIGZyb20gPSAwO1xuICAgIH1cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICB0aGlzLnN0b3AgPSBzdG9wO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9XG4gIGV4dGVuZCh0YWlsKSB7XG4gICAgdGhpcy52YWx1ZSArPSBTdHJpbmcodGFpbCk7XG4gIH1cbiAgYXBwZW5kVG8obWFza2VkKSB7XG4gICAgcmV0dXJuIG1hc2tlZC5hcHBlbmQodGhpcy50b1N0cmluZygpLCB7XG4gICAgICB0YWlsOiB0cnVlXG4gICAgfSkuYWdncmVnYXRlKG1hc2tlZC5fYXBwZW5kUGxhY2Vob2xkZXIoKSk7XG4gIH1cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgIGZyb206IHRoaXMuZnJvbSxcbiAgICAgIHN0b3A6IHRoaXMuc3RvcFxuICAgIH07XG4gIH1cbiAgc2V0IHN0YXRlKHN0YXRlKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzdGF0ZSk7XG4gIH1cbiAgdW5zaGlmdChiZWZvcmVQb3MpIHtcbiAgICBpZiAoIXRoaXMudmFsdWUubGVuZ3RoIHx8IGJlZm9yZVBvcyAhPSBudWxsICYmIHRoaXMuZnJvbSA+PSBiZWZvcmVQb3MpIHJldHVybiAnJztcbiAgICBjb25zdCBzaGlmdENoYXIgPSB0aGlzLnZhbHVlWzBdO1xuICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnNsaWNlKDEpO1xuICAgIHJldHVybiBzaGlmdENoYXI7XG4gIH1cbiAgc2hpZnQoKSB7XG4gICAgaWYgKCF0aGlzLnZhbHVlLmxlbmd0aCkgcmV0dXJuICcnO1xuICAgIGNvbnN0IHNoaWZ0Q2hhciA9IHRoaXMudmFsdWVbdGhpcy52YWx1ZS5sZW5ndGggLSAxXTtcbiAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5zbGljZSgwLCAtMSk7XG4gICAgcmV0dXJuIHNoaWZ0Q2hhcjtcbiAgfVxufVxuXG5leHBvcnQgeyBDb250aW51b3VzVGFpbERldGFpbHMgYXMgZGVmYXVsdCB9O1xuIiwiLyoqIEFwcGxpZXMgbWFzayBvbiBlbGVtZW50ICovXG5mdW5jdGlvbiBJTWFzayhlbCwgb3B0cykge1xuICAvLyBjdXJyZW50bHkgYXZhaWxhYmxlIG9ubHkgZm9yIGlucHV0LWxpa2UgZWxlbWVudHNcbiAgcmV0dXJuIG5ldyBJTWFzay5JbnB1dE1hc2soZWwsIG9wdHMpO1xufVxuXG5leHBvcnQgeyBJTWFzayBhcyBkZWZhdWx0IH07XG4iLCIvKiogQ2hlY2tzIGlmIHZhbHVlIGlzIHN0cmluZyAqL1xuZnVuY3Rpb24gaXNTdHJpbmcoc3RyKSB7XG4gIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyB8fCBzdHIgaW5zdGFuY2VvZiBTdHJpbmc7XG59XG5cbi8qKiBDaGVja3MgaWYgdmFsdWUgaXMgb2JqZWN0ICovXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgdmFyIF9vYmokY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT0gbnVsbCAmJiAob2JqID09IG51bGwgPyB2b2lkIDAgOiAoX29iaiRjb25zdHJ1Y3RvciA9IG9iai5jb25zdHJ1Y3RvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9vYmokY29uc3RydWN0b3IubmFtZSkgPT09ICdPYmplY3QnO1xufVxuZnVuY3Rpb24gcGljayhvYmosIGtleXMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoa2V5cykpIHJldHVybiBwaWNrKG9iaiwgKF8sIGspID0+IGtleXMuaW5jbHVkZXMoaykpO1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMob2JqKS5yZWR1Y2UoKGFjYywgX3JlZikgPT4ge1xuICAgIGxldCBbaywgdl0gPSBfcmVmO1xuICAgIGlmIChrZXlzKHYsIGspKSBhY2Nba10gPSB2O1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn1cblxuLyoqIERpcmVjdGlvbiAqL1xuY29uc3QgRElSRUNUSU9OID0ge1xuICBOT05FOiAnTk9ORScsXG4gIExFRlQ6ICdMRUZUJyxcbiAgRk9SQ0VfTEVGVDogJ0ZPUkNFX0xFRlQnLFxuICBSSUdIVDogJ1JJR0hUJyxcbiAgRk9SQ0VfUklHSFQ6ICdGT1JDRV9SSUdIVCdcbn07XG5cbi8qKiBEaXJlY3Rpb24gKi9cblxuZnVuY3Rpb24gZm9yY2VEaXJlY3Rpb24oZGlyZWN0aW9uKSB7XG4gIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgY2FzZSBESVJFQ1RJT04uTEVGVDpcbiAgICAgIHJldHVybiBESVJFQ1RJT04uRk9SQ0VfTEVGVDtcbiAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcbiAgICAgIHJldHVybiBESVJFQ1RJT04uRk9SQ0VfUklHSFQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBkaXJlY3Rpb247XG4gIH1cbn1cblxuLyoqIEVzY2FwZXMgcmVndWxhciBleHByZXNzaW9uIGNvbnRyb2wgY2hhcnMgKi9cbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xcXS9cXFxcXSkvZywgJ1xcXFwkMScpO1xufVxuXG4vLyBjbG9uZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZXBvYmVyZXpraW4vZmFzdC1kZWVwLWVxdWFsIHdpdGggc21hbGwgY2hhbmdlc1xuZnVuY3Rpb24gb2JqZWN0SW5jbHVkZXMoYiwgYSkge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG4gIGNvbnN0IGFyckEgPSBBcnJheS5pc0FycmF5KGEpLFxuICAgIGFyckIgPSBBcnJheS5pc0FycmF5KGIpO1xuICBsZXQgaTtcbiAgaWYgKGFyckEgJiYgYXJyQikge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSBpZiAoIW9iamVjdEluY2x1ZGVzKGFbaV0sIGJbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGFyckEgIT0gYXJyQikgcmV0dXJuIGZhbHNlO1xuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBkYXRlQSA9IGEgaW5zdGFuY2VvZiBEYXRlLFxuICAgICAgZGF0ZUIgPSBiIGluc3RhbmNlb2YgRGF0ZTtcbiAgICBpZiAoZGF0ZUEgJiYgZGF0ZUIpIHJldHVybiBhLmdldFRpbWUoKSA9PSBiLmdldFRpbWUoKTtcbiAgICBpZiAoZGF0ZUEgIT0gZGF0ZUIpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCByZWdleHBBID0gYSBpbnN0YW5jZW9mIFJlZ0V4cCxcbiAgICAgIHJlZ2V4cEIgPSBiIGluc3RhbmNlb2YgUmVnRXhwO1xuICAgIGlmIChyZWdleHBBICYmIHJlZ2V4cEIpIHJldHVybiBhLnRvU3RyaW5nKCkgPT0gYi50b1N0cmluZygpO1xuICAgIGlmIChyZWdleHBBICE9IHJlZ2V4cEIpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgLy8gaWYgKGtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSBpZiAoIW9iamVjdEluY2x1ZGVzKGJba2V5c1tpXV0sIGFba2V5c1tpXV0pKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqIFNlbGVjdGlvbiByYW5nZSAqL1xuXG5leHBvcnQgeyBESVJFQ1RJT04sIGVzY2FwZVJlZ0V4cCwgZm9yY2VEaXJlY3Rpb24sIGlzT2JqZWN0LCBpc1N0cmluZywgb2JqZWN0SW5jbHVkZXMsIHBpY2sgfTtcbiIsImV4cG9ydCB7IGRlZmF1bHQgYXMgSW5wdXRNYXNrIH0gZnJvbSAnLi9jb250cm9scy9pbnB1dC5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi9jb3JlL2hvbGRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhUTUxDb250ZW50ZWRpdGFibGVNYXNrRWxlbWVudCB9IGZyb20gJy4vY29udHJvbHMvaHRtbC1jb250ZW50ZWRpdGFibGUtbWFzay1lbGVtZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSFRNTElucHV0TWFza0VsZW1lbnQgfSBmcm9tICcuL2NvbnRyb2xzL2h0bWwtaW5wdXQtbWFzay1lbGVtZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSFRNTE1hc2tFbGVtZW50IH0gZnJvbSAnLi9jb250cm9scy9odG1sLW1hc2stZWxlbWVudC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hc2tFbGVtZW50IH0gZnJvbSAnLi9jb250cm9scy9tYXNrLWVsZW1lbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaGFuZ2VEZXRhaWxzIH0gZnJvbSAnLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmV4cG9ydCB7IERJUkVDVElPTiwgZm9yY2VEaXJlY3Rpb24gfSBmcm9tICcuL2NvcmUvdXRpbHMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrZWQgfSBmcm9tICcuL21hc2tlZC9iYXNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkRGF0ZSB9IGZyb20gJy4vbWFza2VkL2RhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrZWREeW5hbWljIH0gZnJvbSAnLi9tYXNrZWQvZHluYW1pYy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hc2tlZEVudW0gfSBmcm9tICcuL21hc2tlZC9lbnVtLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY3JlYXRlTWFzaywgbm9ybWFsaXplT3B0cyB9IGZyb20gJy4vbWFza2VkL2ZhY3RvcnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrZWRGdW5jdGlvbiB9IGZyb20gJy4vbWFza2VkL2Z1bmN0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkTnVtYmVyIH0gZnJvbSAnLi9tYXNrZWQvbnVtYmVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFza2VkUGF0dGVybiB9IGZyb20gJy4vbWFza2VkL3BhdHRlcm4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDaHVua3NUYWlsRGV0YWlscyB9IGZyb20gJy4vbWFza2VkL3BhdHRlcm4vY2h1bmstdGFpbC1kZXRhaWxzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUGF0dGVybkZpeGVkRGVmaW5pdGlvbiB9IGZyb20gJy4vbWFza2VkL3BhdHRlcm4vZml4ZWQtZGVmaW5pdGlvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBhdHRlcm5JbnB1dERlZmluaXRpb24gfSBmcm9tICcuL21hc2tlZC9wYXR0ZXJuL2lucHV0LWRlZmluaXRpb24uanMnO1xuZXhwb3J0IHsgUElQRV9UWVBFLCBjcmVhdGVQaXBlLCBwaXBlIH0gZnJvbSAnLi9tYXNrZWQvcGlwZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hc2tlZFJhbmdlIH0gZnJvbSAnLi9tYXNrZWQvcmFuZ2UuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXNrZWRSZWdFeHAgfSBmcm9tICcuL21hc2tlZC9yZWdleHAuanMnO1xuaW1wb3J0ICcuL2NvcmUvYWN0aW9uLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL21hc2tlZC9wYXR0ZXJuL2N1cnNvci5qcyc7XG5cbnRyeSB7XG4gIGdsb2JhbFRoaXMuSU1hc2sgPSBJTWFzaztcbn0gY2F0Y2gge31cblxuZXhwb3J0IHsgSU1hc2sgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IENoYW5nZURldGFpbHMgZnJvbSAnLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgQ29udGludW91c1RhaWxEZXRhaWxzIGZyb20gJy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0IHsgaXNTdHJpbmcsIERJUkVDVElPTiwgZm9yY2VEaXJlY3Rpb24gfSBmcm9tICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5cbi8qKiBBcHBlbmQgZmxhZ3MgKi9cblxuLyoqIEV4dHJhY3QgZmxhZ3MgKi9cblxuLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNjIyM1xuXG4vKiogUHJvdmlkZXMgY29tbW9uIG1hc2tpbmcgc3R1ZmYgKi9cbmNsYXNzIE1hc2tlZCB7XG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiBUcmFuc2Zvcm1zIHZhbHVlIGJlZm9yZSBtYXNrIHByb2Nlc3NpbmcgKi9cblxuICAvKiogVHJhbnNmb3JtcyBlYWNoIGNoYXIgYmVmb3JlIG1hc2sgcHJvY2Vzc2luZyAqL1xuXG4gIC8qKiBWYWxpZGF0ZXMgaWYgdmFsdWUgaXMgYWNjZXB0YWJsZSAqL1xuXG4gIC8qKiBEb2VzIGFkZGl0aW9uYWwgcHJvY2Vzc2luZyBhdCB0aGUgZW5kIG9mIGVkaXRpbmcgKi9cblxuICAvKiogRm9ybWF0IHR5cGVkIHZhbHVlIHRvIHN0cmluZyAqL1xuXG4gIC8qKiBQYXJzZSBzdHJpbmcgdG8gZ2V0IHR5cGVkIHZhbHVlICovXG5cbiAgLyoqIEVuYWJsZSBjaGFyYWN0ZXJzIG92ZXJ3cml0aW5nICovXG5cbiAgLyoqICovXG5cbiAgLyoqICovXG5cbiAgLyoqICovXG5cbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHRoaXMuX3ZhbHVlID0gJyc7XG4gICAgdGhpcy5fdXBkYXRlKHtcbiAgICAgIC4uLk1hc2tlZC5ERUZBVUxUUyxcbiAgICAgIC4uLm9wdHNcbiAgICB9KTtcbiAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gIH1cblxuICAvKiogU2V0cyBhbmQgYXBwbGllcyBuZXcgb3B0aW9ucyAqL1xuICB1cGRhdGVPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIU9iamVjdC5rZXlzKG9wdHMpLmxlbmd0aCkgcmV0dXJuO1xuICAgIHRoaXMud2l0aFZhbHVlUmVmcmVzaCh0aGlzLl91cGRhdGUuYmluZCh0aGlzLCBvcHRzKSk7XG4gIH1cblxuICAvKiogU2V0cyBuZXcgb3B0aW9ucyAqL1xuICBfdXBkYXRlKG9wdHMpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdHMpO1xuICB9XG5cbiAgLyoqIE1hc2sgc3RhdGUgKi9cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICBfcmF3SW5wdXRWYWx1ZTogdGhpcy5yYXdJbnB1dFZhbHVlXG4gICAgfTtcbiAgfVxuICBzZXQgc3RhdGUoc3RhdGUpIHtcbiAgICB0aGlzLl92YWx1ZSA9IHN0YXRlLl92YWx1ZTtcbiAgfVxuXG4gIC8qKiBSZXNldHMgdmFsdWUgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fdmFsdWUgPSAnJztcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIHNldCB2YWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMucmVzb2x2ZSh2YWx1ZSwge1xuICAgICAgaW5wdXQ6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBSZXNvbHZlIG5ldyB2YWx1ZSAqL1xuICByZXNvbHZlKHZhbHVlLCBmbGFncykge1xuICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7XG4gICAgICBmbGFncyA9IHtcbiAgICAgICAgaW5wdXQ6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLmFwcGVuZCh2YWx1ZSwgZmxhZ3MsICcnKTtcbiAgICB0aGlzLmRvQ29tbWl0KCk7XG4gIH1cbiAgZ2V0IHVubWFza2VkVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cbiAgc2V0IHVubWFza2VkVmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnJlc29sdmUodmFsdWUsIHt9KTtcbiAgfVxuICBnZXQgdHlwZWRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZSA/IHRoaXMucGFyc2UodGhpcy52YWx1ZSwgdGhpcykgOiB0aGlzLnVubWFza2VkVmFsdWU7XG4gIH1cbiAgc2V0IHR5cGVkVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodGhpcy5mb3JtYXQpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmZvcm1hdCh2YWx1ZSwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5tYXNrZWRWYWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIFZhbHVlIHRoYXQgaW5jbHVkZXMgcmF3IHVzZXIgaW5wdXQgKi9cbiAgZ2V0IHJhd0lucHV0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXh0cmFjdElucHV0KDAsIHRoaXMudmFsdWUubGVuZ3RoLCB7XG4gICAgICByYXc6IHRydWVcbiAgICB9KTtcbiAgfVxuICBzZXQgcmF3SW5wdXRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMucmVzb2x2ZSh2YWx1ZSwge1xuICAgICAgcmF3OiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgZ2V0IGRpc3BsYXlWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxuICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBnZXQgaXNGaWxsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNDb21wbGV0ZTtcbiAgfVxuXG4gIC8qKiBGaW5kcyBuZWFyZXN0IGlucHV0IHBvc2l0aW9uIGluIGRpcmVjdGlvbiAqL1xuICBuZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zLCBkaXJlY3Rpb24pIHtcbiAgICByZXR1cm4gY3Vyc29yUG9zO1xuICB9XG4gIHRvdGFsSW5wdXRQb3NpdGlvbnMoZnJvbVBvcywgdG9Qb3MpIHtcbiAgICBpZiAoZnJvbVBvcyA9PT0gdm9pZCAwKSB7XG4gICAgICBmcm9tUG9zID0gMDtcbiAgICB9XG4gICAgaWYgKHRvUG9zID09PSB2b2lkIDApIHtcbiAgICAgIHRvUG9zID0gdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1pbih0aGlzLnZhbHVlLmxlbmd0aCwgdG9Qb3MgLSBmcm9tUG9zKTtcbiAgfVxuXG4gIC8qKiBFeHRyYWN0cyB2YWx1ZSBpbiByYW5nZSBjb25zaWRlcmluZyBmbGFncyAqL1xuICBleHRyYWN0SW5wdXQoZnJvbVBvcywgdG9Qb3MsIGZsYWdzKSB7XG4gICAgaWYgKGZyb21Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgZnJvbVBvcyA9IDA7XG4gICAgfVxuICAgIGlmICh0b1BvcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0b1BvcyA9IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy52YWx1ZS5zbGljZShmcm9tUG9zLCB0b1Bvcyk7XG4gIH1cblxuICAvKiogRXh0cmFjdHMgdGFpbCBpbiByYW5nZSAqL1xuICBleHRyYWN0VGFpbChmcm9tUG9zLCB0b1Bvcykge1xuICAgIGlmIChmcm9tUG9zID09PSB2b2lkIDApIHtcbiAgICAgIGZyb21Qb3MgPSAwO1xuICAgIH1cbiAgICBpZiAodG9Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgdG9Qb3MgPSB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDb250aW51b3VzVGFpbERldGFpbHModGhpcy5leHRyYWN0SW5wdXQoZnJvbVBvcywgdG9Qb3MpLCBmcm9tUG9zKTtcbiAgfVxuXG4gIC8qKiBBcHBlbmRzIHRhaWwgKi9cbiAgYXBwZW5kVGFpbCh0YWlsKSB7XG4gICAgaWYgKGlzU3RyaW5nKHRhaWwpKSB0YWlsID0gbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscyhTdHJpbmcodGFpbCkpO1xuICAgIHJldHVybiB0YWlsLmFwcGVuZFRvKHRoaXMpO1xuICB9XG5cbiAgLyoqIEFwcGVuZHMgY2hhciAqL1xuICBfYXBwZW5kQ2hhclJhdyhjaCwgZmxhZ3MpIHtcbiAgICBpZiAoIWNoKSByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICB0aGlzLl92YWx1ZSArPSBjaDtcbiAgICByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoe1xuICAgICAgaW5zZXJ0ZWQ6IGNoLFxuICAgICAgcmF3SW5zZXJ0ZWQ6IGNoXG4gICAgfSk7XG4gIH1cblxuICAvKiogQXBwZW5kcyBjaGFyICovXG4gIF9hcHBlbmRDaGFyKGNoLCBmbGFncywgY2hlY2tUYWlsKSB7XG4gICAgaWYgKGZsYWdzID09PSB2b2lkIDApIHtcbiAgICAgIGZsYWdzID0ge307XG4gICAgfVxuICAgIGNvbnN0IGNvbnNpc3RlbnRTdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IGRldGFpbHM7XG4gICAgW2NoLCBkZXRhaWxzXSA9IHRoaXMuZG9QcmVwYXJlQ2hhcihjaCwgZmxhZ3MpO1xuICAgIGRldGFpbHMgPSBkZXRhaWxzLmFnZ3JlZ2F0ZSh0aGlzLl9hcHBlbmRDaGFyUmF3KGNoLCBmbGFncykpO1xuICAgIGlmIChkZXRhaWxzLmluc2VydGVkKSB7XG4gICAgICBsZXQgY29uc2lzdGVudFRhaWw7XG4gICAgICBsZXQgYXBwZW5kZWQgPSB0aGlzLmRvVmFsaWRhdGUoZmxhZ3MpICE9PSBmYWxzZTtcbiAgICAgIGlmIChhcHBlbmRlZCAmJiBjaGVja1RhaWwgIT0gbnVsbCkge1xuICAgICAgICAvLyB2YWxpZGF0aW9uIG9rLCBjaGVjayB0YWlsXG4gICAgICAgIGNvbnN0IGJlZm9yZVRhaWxTdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmICh0aGlzLm92ZXJ3cml0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvbnNpc3RlbnRUYWlsID0gY2hlY2tUYWlsLnN0YXRlO1xuICAgICAgICAgIGNoZWNrVGFpbC51bnNoaWZ0KHRoaXMudmFsdWUubGVuZ3RoIC0gZGV0YWlscy50YWlsU2hpZnQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0YWlsRGV0YWlscyA9IHRoaXMuYXBwZW5kVGFpbChjaGVja1RhaWwpO1xuICAgICAgICBhcHBlbmRlZCA9IHRhaWxEZXRhaWxzLnJhd0luc2VydGVkID09PSBjaGVja1RhaWwudG9TdHJpbmcoKTtcblxuICAgICAgICAvLyBub3Qgb2ssIHRyeSBzaGlmdFxuICAgICAgICBpZiAoIShhcHBlbmRlZCAmJiB0YWlsRGV0YWlscy5pbnNlcnRlZCkgJiYgdGhpcy5vdmVyd3JpdGUgPT09ICdzaGlmdCcpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gYmVmb3JlVGFpbFN0YXRlO1xuICAgICAgICAgIGNvbnNpc3RlbnRUYWlsID0gY2hlY2tUYWlsLnN0YXRlO1xuICAgICAgICAgIGNoZWNrVGFpbC5zaGlmdCgpO1xuICAgICAgICAgIHRhaWxEZXRhaWxzID0gdGhpcy5hcHBlbmRUYWlsKGNoZWNrVGFpbCk7XG4gICAgICAgICAgYXBwZW5kZWQgPSB0YWlsRGV0YWlscy5yYXdJbnNlcnRlZCA9PT0gY2hlY2tUYWlsLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBvaywgcm9sbGJhY2sgc3RhdGUgYWZ0ZXIgdGFpbFxuICAgICAgICBpZiAoYXBwZW5kZWQgJiYgdGFpbERldGFpbHMuaW5zZXJ0ZWQpIHRoaXMuc3RhdGUgPSBiZWZvcmVUYWlsU3RhdGU7XG4gICAgICB9XG5cbiAgICAgIC8vIHJldmVydCBhbGwgaWYgc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgIGlmICghYXBwZW5kZWQpIHtcbiAgICAgICAgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBjb25zaXN0ZW50U3RhdGU7XG4gICAgICAgIGlmIChjaGVja1RhaWwgJiYgY29uc2lzdGVudFRhaWwpIGNoZWNrVGFpbC5zdGF0ZSA9IGNvbnNpc3RlbnRUYWlsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuXG4gIC8qKiBBcHBlbmRzIG9wdGlvbmFsIHBsYWNlaG9sZGVyIGF0IHRoZSBlbmQgKi9cbiAgX2FwcGVuZFBsYWNlaG9sZGVyKCkge1xuICAgIHJldHVybiBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICB9XG5cbiAgLyoqIEFwcGVuZHMgb3B0aW9uYWwgZWFnZXIgcGxhY2Vob2xkZXIgYXQgdGhlIGVuZCAqL1xuICBfYXBwZW5kRWFnZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gIH1cblxuICAvKiogQXBwZW5kcyBzeW1ib2xzIGNvbnNpZGVyaW5nIGZsYWdzICovXG4gIGFwcGVuZChzdHIsIGZsYWdzLCB0YWlsKSB7XG4gICAgaWYgKCFpc1N0cmluZyhzdHIpKSB0aHJvdyBuZXcgRXJyb3IoJ3ZhbHVlIHNob3VsZCBiZSBzdHJpbmcnKTtcbiAgICBjb25zdCBjaGVja1RhaWwgPSBpc1N0cmluZyh0YWlsKSA/IG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoU3RyaW5nKHRhaWwpKSA6IHRhaWw7XG4gICAgaWYgKGZsYWdzICE9IG51bGwgJiYgZmxhZ3MudGFpbCkgZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IGRldGFpbHM7XG4gICAgW3N0ciwgZGV0YWlsc10gPSB0aGlzLmRvUHJlcGFyZShzdHIsIGZsYWdzKTtcbiAgICBmb3IgKGxldCBjaSA9IDA7IGNpIDwgc3RyLmxlbmd0aDsgKytjaSkge1xuICAgICAgY29uc3QgZCA9IHRoaXMuX2FwcGVuZENoYXIoc3RyW2NpXSwgZmxhZ3MsIGNoZWNrVGFpbCk7XG4gICAgICBpZiAoIWQucmF3SW5zZXJ0ZWQgJiYgIXRoaXMuZG9Ta2lwSW52YWxpZChzdHJbY2ldLCBmbGFncywgY2hlY2tUYWlsKSkgYnJlYWs7XG4gICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZShkKTtcbiAgICB9XG4gICAgaWYgKCh0aGlzLmVhZ2VyID09PSB0cnVlIHx8IHRoaXMuZWFnZXIgPT09ICdhcHBlbmQnKSAmJiBmbGFncyAhPSBudWxsICYmIGZsYWdzLmlucHV0ICYmIHN0cikge1xuICAgICAgZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5fYXBwZW5kRWFnZXIoKSk7XG4gICAgfVxuXG4gICAgLy8gYXBwZW5kIHRhaWwgYnV0IGFnZ3JlZ2F0ZSBvbmx5IHRhaWxTaGlmdFxuICAgIGlmIChjaGVja1RhaWwgIT0gbnVsbCkge1xuICAgICAgZGV0YWlscy50YWlsU2hpZnQgKz0gdGhpcy5hcHBlbmRUYWlsKGNoZWNrVGFpbCkudGFpbFNoaWZ0O1xuICAgICAgLy8gVE9ETyBpdCdzIGEgZ29vZCBpZGVhIHRvIGNsZWFyIHN0YXRlIGFmdGVyIGFwcGVuZGluZyBlbmRzXG4gICAgICAvLyBidXQgaXQgY2F1c2VzIGJ1Z3Mgd2hlbiBvbmUgYXBwZW5kIGNhbGxzIGFub3RoZXIgKHdoZW4gZHluYW1pYyBkaXNwYXRjaCBzZXQgcmF3SW5wdXRWYWx1ZSlcbiAgICAgIC8vIHRoaXMuX3Jlc2V0QmVmb3JlVGFpbFN0YXRlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cbiAgcmVtb3ZlKGZyb21Qb3MsIHRvUG9zKSB7XG4gICAgaWYgKGZyb21Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgZnJvbVBvcyA9IDA7XG4gICAgfVxuICAgIGlmICh0b1BvcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0b1BvcyA9IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICB0aGlzLl92YWx1ZSA9IHRoaXMudmFsdWUuc2xpY2UoMCwgZnJvbVBvcykgKyB0aGlzLnZhbHVlLnNsaWNlKHRvUG9zKTtcbiAgICByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgfVxuXG4gIC8qKiBDYWxscyBmdW5jdGlvbiBhbmQgcmVhcHBsaWVzIGN1cnJlbnQgdmFsdWUgKi9cbiAgd2l0aFZhbHVlUmVmcmVzaChmbikge1xuICAgIGlmICh0aGlzLl9yZWZyZXNoaW5nIHx8ICF0aGlzLl9pbml0aWFsaXplZCkgcmV0dXJuIGZuKCk7XG4gICAgdGhpcy5fcmVmcmVzaGluZyA9IHRydWU7XG4gICAgY29uc3QgcmF3SW5wdXQgPSB0aGlzLnJhd0lucHV0VmFsdWU7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIGNvbnN0IHJldCA9IGZuKCk7XG4gICAgdGhpcy5yYXdJbnB1dFZhbHVlID0gcmF3SW5wdXQ7XG4gICAgLy8gYXBwZW5kIGxvc3QgdHJhaWxpbmcgY2hhcnMgYXQgdGhlIGVuZFxuICAgIGlmICh0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUgIT09IHZhbHVlICYmIHZhbHVlLmluZGV4T2YodGhpcy52YWx1ZSkgPT09IDApIHtcbiAgICAgIHRoaXMuYXBwZW5kKHZhbHVlLnNsaWNlKHRoaXMudmFsdWUubGVuZ3RoKSwge30sICcnKTtcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuX3JlZnJlc2hpbmc7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICBydW5Jc29sYXRlZChmbikge1xuICAgIGlmICh0aGlzLl9pc29sYXRlZCB8fCAhdGhpcy5faW5pdGlhbGl6ZWQpIHJldHVybiBmbih0aGlzKTtcbiAgICB0aGlzLl9pc29sYXRlZCA9IHRydWU7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHJldCA9IGZuKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICBkZWxldGUgdGhpcy5faXNvbGF0ZWQ7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICBkb1NraXBJbnZhbGlkKGNoLCBmbGFncywgY2hlY2tUYWlsKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5za2lwSW52YWxpZCk7XG4gIH1cblxuICAvKiogUHJlcGFyZXMgc3RyaW5nIGJlZm9yZSBtYXNrIHByb2Nlc3NpbmcgKi9cbiAgZG9QcmVwYXJlKHN0ciwgZmxhZ3MpIHtcbiAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkge1xuICAgICAgZmxhZ3MgPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIENoYW5nZURldGFpbHMubm9ybWFsaXplKHRoaXMucHJlcGFyZSA/IHRoaXMucHJlcGFyZShzdHIsIHRoaXMsIGZsYWdzKSA6IHN0cik7XG4gIH1cblxuICAvKiogUHJlcGFyZXMgZWFjaCBjaGFyIGJlZm9yZSBtYXNrIHByb2Nlc3NpbmcgKi9cbiAgZG9QcmVwYXJlQ2hhcihzdHIsIGZsYWdzKSB7XG4gICAgaWYgKGZsYWdzID09PSB2b2lkIDApIHtcbiAgICAgIGZsYWdzID0ge307XG4gICAgfVxuICAgIHJldHVybiBDaGFuZ2VEZXRhaWxzLm5vcm1hbGl6ZSh0aGlzLnByZXBhcmVDaGFyID8gdGhpcy5wcmVwYXJlQ2hhcihzdHIsIHRoaXMsIGZsYWdzKSA6IHN0cik7XG4gIH1cblxuICAvKiogVmFsaWRhdGVzIGlmIHZhbHVlIGlzIGFjY2VwdGFibGUgKi9cbiAgZG9WYWxpZGF0ZShmbGFncykge1xuICAgIHJldHVybiAoIXRoaXMudmFsaWRhdGUgfHwgdGhpcy52YWxpZGF0ZSh0aGlzLnZhbHVlLCB0aGlzLCBmbGFncykpICYmICghdGhpcy5wYXJlbnQgfHwgdGhpcy5wYXJlbnQuZG9WYWxpZGF0ZShmbGFncykpO1xuICB9XG5cbiAgLyoqIERvZXMgYWRkaXRpb25hbCBwcm9jZXNzaW5nIGF0IHRoZSBlbmQgb2YgZWRpdGluZyAqL1xuICBkb0NvbW1pdCgpIHtcbiAgICBpZiAodGhpcy5jb21taXQpIHRoaXMuY29tbWl0KHRoaXMudmFsdWUsIHRoaXMpO1xuICB9XG4gIHNwbGljZShzdGFydCwgZGVsZXRlQ291bnQsIGluc2VydGVkLCByZW1vdmVEaXJlY3Rpb24sIGZsYWdzKSB7XG4gICAgaWYgKHJlbW92ZURpcmVjdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICByZW1vdmVEaXJlY3Rpb24gPSBESVJFQ1RJT04uTk9ORTtcbiAgICB9XG4gICAgaWYgKGZsYWdzID09PSB2b2lkIDApIHtcbiAgICAgIGZsYWdzID0ge1xuICAgICAgICBpbnB1dDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdGFpbFBvcyA9IHN0YXJ0ICsgZGVsZXRlQ291bnQ7XG4gICAgY29uc3QgdGFpbCA9IHRoaXMuZXh0cmFjdFRhaWwodGFpbFBvcyk7XG4gICAgY29uc3QgZWFnZXJSZW1vdmUgPSB0aGlzLmVhZ2VyID09PSB0cnVlIHx8IHRoaXMuZWFnZXIgPT09ICdyZW1vdmUnO1xuICAgIGxldCBvbGRSYXdWYWx1ZTtcbiAgICBpZiAoZWFnZXJSZW1vdmUpIHtcbiAgICAgIHJlbW92ZURpcmVjdGlvbiA9IGZvcmNlRGlyZWN0aW9uKHJlbW92ZURpcmVjdGlvbik7XG4gICAgICBvbGRSYXdWYWx1ZSA9IHRoaXMuZXh0cmFjdElucHV0KDAsIHRhaWxQb3MsIHtcbiAgICAgICAgcmF3OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHN0YXJ0Q2hhbmdlUG9zID0gc3RhcnQ7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG5cbiAgICAvLyBpZiBpdCBpcyBqdXN0IGRlbGV0aW9uIHdpdGhvdXQgaW5zZXJ0aW9uXG4gICAgaWYgKHJlbW92ZURpcmVjdGlvbiAhPT0gRElSRUNUSU9OLk5PTkUpIHtcbiAgICAgIHN0YXJ0Q2hhbmdlUG9zID0gdGhpcy5uZWFyZXN0SW5wdXRQb3Moc3RhcnQsIGRlbGV0ZUNvdW50ID4gMSAmJiBzdGFydCAhPT0gMCAmJiAhZWFnZXJSZW1vdmUgPyBESVJFQ1RJT04uTk9ORSA6IHJlbW92ZURpcmVjdGlvbik7XG5cbiAgICAgIC8vIGFkanVzdCB0YWlsU2hpZnQgaWYgc3RhcnQgd2FzIGFsaWduZWRcbiAgICAgIGRldGFpbHMudGFpbFNoaWZ0ID0gc3RhcnRDaGFuZ2VQb3MgLSBzdGFydDtcbiAgICB9XG4gICAgZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5yZW1vdmUoc3RhcnRDaGFuZ2VQb3MpKTtcbiAgICBpZiAoZWFnZXJSZW1vdmUgJiYgcmVtb3ZlRGlyZWN0aW9uICE9PSBESVJFQ1RJT04uTk9ORSAmJiBvbGRSYXdWYWx1ZSA9PT0gdGhpcy5yYXdJbnB1dFZhbHVlKSB7XG4gICAgICBpZiAocmVtb3ZlRGlyZWN0aW9uID09PSBESVJFQ1RJT04uRk9SQ0VfTEVGVCkge1xuICAgICAgICBsZXQgdmFsTGVuZ3RoO1xuICAgICAgICB3aGlsZSAob2xkUmF3VmFsdWUgPT09IHRoaXMucmF3SW5wdXRWYWx1ZSAmJiAodmFsTGVuZ3RoID0gdGhpcy52YWx1ZS5sZW5ndGgpKSB7XG4gICAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUobmV3IENoYW5nZURldGFpbHMoe1xuICAgICAgICAgICAgdGFpbFNoaWZ0OiAtMVxuICAgICAgICAgIH0pKS5hZ2dyZWdhdGUodGhpcy5yZW1vdmUodmFsTGVuZ3RoIC0gMSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlbW92ZURpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkZPUkNFX1JJR0hUKSB7XG4gICAgICAgIHRhaWwudW5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5hcHBlbmQoaW5zZXJ0ZWQsIGZsYWdzLCB0YWlsKSk7XG4gIH1cbiAgbWFza0VxdWFscyhtYXNrKSB7XG4gICAgcmV0dXJuIHRoaXMubWFzayA9PT0gbWFzaztcbiAgfVxuICB0eXBlZFZhbHVlRXF1YWxzKHZhbHVlKSB7XG4gICAgY29uc3QgdHZhbCA9IHRoaXMudHlwZWRWYWx1ZTtcbiAgICByZXR1cm4gdmFsdWUgPT09IHR2YWwgfHwgTWFza2VkLkVNUFRZX1ZBTFVFUy5pbmNsdWRlcyh2YWx1ZSkgJiYgTWFza2VkLkVNUFRZX1ZBTFVFUy5pbmNsdWRlcyh0dmFsKSB8fCAodGhpcy5mb3JtYXQgPyB0aGlzLmZvcm1hdCh2YWx1ZSwgdGhpcykgPT09IHRoaXMuZm9ybWF0KHRoaXMudHlwZWRWYWx1ZSwgdGhpcykgOiBmYWxzZSk7XG4gIH1cbn1cbk1hc2tlZC5ERUZBVUxUUyA9IHtcbiAgc2tpcEludmFsaWQ6IHRydWVcbn07XG5NYXNrZWQuRU1QVFlfVkFMVUVTID0gW3VuZGVmaW5lZCwgbnVsbCwgJyddO1xuSU1hc2suTWFza2VkID0gTWFza2VkO1xuXG5leHBvcnQgeyBNYXNrZWQgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IE1hc2tlZFBhdHRlcm4gZnJvbSAnLi9wYXR0ZXJuLmpzJztcbmltcG9ydCBNYXNrZWRSYW5nZSBmcm9tICcuL3JhbmdlLmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi9iYXNlLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9jaHVuay10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vY3Vyc29yLmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2ZpeGVkLWRlZmluaXRpb24uanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vaW5wdXQtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgJy4vcmVnZXhwLmpzJztcblxuLyoqIERhdGUgbWFzayAqL1xuY2xhc3MgTWFza2VkRGF0ZSBleHRlbmRzIE1hc2tlZFBhdHRlcm4ge1xuICAvKiogUGF0dGVybiBtYXNrIGZvciBkYXRlIGFjY29yZGluZyB0byB7QGxpbmsgTWFza2VkRGF0ZSNmb3JtYXR9ICovXG5cbiAgLyoqIFN0YXJ0IGRhdGUgKi9cblxuICAvKiogRW5kIGRhdGUgKi9cblxuICAvKiogKi9cblxuICAvKiogRm9ybWF0IHR5cGVkIHZhbHVlIHRvIHN0cmluZyAqL1xuXG4gIC8qKiBQYXJzZSBzdHJpbmcgdG8gZ2V0IHR5cGVkIHZhbHVlICovXG5cbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIGNvbnN0IHtcbiAgICAgIG1hc2ssXG4gICAgICBwYXR0ZXJuLFxuICAgICAgLi4ucGF0dGVybk9wdHNcbiAgICB9ID0ge1xuICAgICAgLi4uTWFza2VkRGF0ZS5ERUZBVUxUUyxcbiAgICAgIC4uLm9wdHNcbiAgICB9O1xuICAgIHN1cGVyKHtcbiAgICAgIC4uLnBhdHRlcm5PcHRzLFxuICAgICAgbWFzazogaXNTdHJpbmcobWFzaykgPyBtYXNrIDogcGF0dGVyblxuICAgIH0pO1xuICB9XG4gIHVwZGF0ZU9wdGlvbnMob3B0cykge1xuICAgIHN1cGVyLnVwZGF0ZU9wdGlvbnMob3B0cyk7XG4gIH1cbiAgX3VwZGF0ZShvcHRzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWFzayxcbiAgICAgIHBhdHRlcm4sXG4gICAgICBibG9ja3MsXG4gICAgICAuLi5wYXR0ZXJuT3B0c1xuICAgIH0gPSB7XG4gICAgICAuLi5NYXNrZWREYXRlLkRFRkFVTFRTLFxuICAgICAgLi4ub3B0c1xuICAgIH07XG4gICAgY29uc3QgcGF0dGVybkJsb2NrcyA9IE9iamVjdC5hc3NpZ24oe30sIE1hc2tlZERhdGUuR0VUX0RFRkFVTFRfQkxPQ0tTKCkpO1xuICAgIC8vIGFkanVzdCB5ZWFyIGJsb2NrXG4gICAgaWYgKG9wdHMubWluKSBwYXR0ZXJuQmxvY2tzLlkuZnJvbSA9IG9wdHMubWluLmdldEZ1bGxZZWFyKCk7XG4gICAgaWYgKG9wdHMubWF4KSBwYXR0ZXJuQmxvY2tzLlkudG8gPSBvcHRzLm1heC5nZXRGdWxsWWVhcigpO1xuICAgIGlmIChvcHRzLm1pbiAmJiBvcHRzLm1heCAmJiBwYXR0ZXJuQmxvY2tzLlkuZnJvbSA9PT0gcGF0dGVybkJsb2Nrcy5ZLnRvKSB7XG4gICAgICBwYXR0ZXJuQmxvY2tzLm0uZnJvbSA9IG9wdHMubWluLmdldE1vbnRoKCkgKyAxO1xuICAgICAgcGF0dGVybkJsb2Nrcy5tLnRvID0gb3B0cy5tYXguZ2V0TW9udGgoKSArIDE7XG4gICAgICBpZiAocGF0dGVybkJsb2Nrcy5tLmZyb20gPT09IHBhdHRlcm5CbG9ja3MubS50bykge1xuICAgICAgICBwYXR0ZXJuQmxvY2tzLmQuZnJvbSA9IG9wdHMubWluLmdldERhdGUoKTtcbiAgICAgICAgcGF0dGVybkJsb2Nrcy5kLnRvID0gb3B0cy5tYXguZ2V0RGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHBhdHRlcm5CbG9ja3MsIHRoaXMuYmxvY2tzLCBibG9ja3MpO1xuXG4gICAgLy8gYWRkIGF1dG9maXhcbiAgICBPYmplY3Qua2V5cyhwYXR0ZXJuQmxvY2tzKS5mb3JFYWNoKGJrID0+IHtcbiAgICAgIGNvbnN0IGIgPSBwYXR0ZXJuQmxvY2tzW2JrXTtcbiAgICAgIGlmICghKCdhdXRvZml4JyBpbiBiKSAmJiAnYXV0b2ZpeCcgaW4gb3B0cykgYi5hdXRvZml4ID0gb3B0cy5hdXRvZml4O1xuICAgIH0pO1xuICAgIHN1cGVyLl91cGRhdGUoe1xuICAgICAgLi4ucGF0dGVybk9wdHMsXG4gICAgICBtYXNrOiBpc1N0cmluZyhtYXNrKSA/IG1hc2sgOiBwYXR0ZXJuLFxuICAgICAgYmxvY2tzOiBwYXR0ZXJuQmxvY2tzXG4gICAgfSk7XG4gIH1cbiAgZG9WYWxpZGF0ZShmbGFncykge1xuICAgIGNvbnN0IGRhdGUgPSB0aGlzLmRhdGU7XG4gICAgcmV0dXJuIHN1cGVyLmRvVmFsaWRhdGUoZmxhZ3MpICYmICghdGhpcy5pc0NvbXBsZXRlIHx8IHRoaXMuaXNEYXRlRXhpc3QodGhpcy52YWx1ZSkgJiYgZGF0ZSAhPSBudWxsICYmICh0aGlzLm1pbiA9PSBudWxsIHx8IHRoaXMubWluIDw9IGRhdGUpICYmICh0aGlzLm1heCA9PSBudWxsIHx8IGRhdGUgPD0gdGhpcy5tYXgpKTtcbiAgfVxuXG4gIC8qKiBDaGVja3MgaWYgZGF0ZSBpcyBleGlzdHMgKi9cbiAgaXNEYXRlRXhpc3Qoc3RyKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KHRoaXMucGFyc2Uoc3RyLCB0aGlzKSwgdGhpcykuaW5kZXhPZihzdHIpID49IDA7XG4gIH1cblxuICAvKiogUGFyc2VkIERhdGUgKi9cbiAgZ2V0IGRhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZWRWYWx1ZTtcbiAgfVxuICBzZXQgZGF0ZShkYXRlKSB7XG4gICAgdGhpcy50eXBlZFZhbHVlID0gZGF0ZTtcbiAgfVxuICBnZXQgdHlwZWRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0NvbXBsZXRlID8gc3VwZXIudHlwZWRWYWx1ZSA6IG51bGw7XG4gIH1cbiAgc2V0IHR5cGVkVmFsdWUodmFsdWUpIHtcbiAgICBzdXBlci50eXBlZFZhbHVlID0gdmFsdWU7XG4gIH1cbiAgbWFza0VxdWFscyhtYXNrKSB7XG4gICAgcmV0dXJuIG1hc2sgPT09IERhdGUgfHwgc3VwZXIubWFza0VxdWFscyhtYXNrKTtcbiAgfVxufVxuTWFza2VkRGF0ZS5HRVRfREVGQVVMVF9CTE9DS1MgPSAoKSA9PiAoe1xuICBkOiB7XG4gICAgbWFzazogTWFza2VkUmFuZ2UsXG4gICAgZnJvbTogMSxcbiAgICB0bzogMzEsXG4gICAgbWF4TGVuZ3RoOiAyXG4gIH0sXG4gIG06IHtcbiAgICBtYXNrOiBNYXNrZWRSYW5nZSxcbiAgICBmcm9tOiAxLFxuICAgIHRvOiAxMixcbiAgICBtYXhMZW5ndGg6IDJcbiAgfSxcbiAgWToge1xuICAgIG1hc2s6IE1hc2tlZFJhbmdlLFxuICAgIGZyb206IDE5MDAsXG4gICAgdG86IDk5OTlcbiAgfVxufSk7XG5NYXNrZWREYXRlLkRFRkFVTFRTID0ge1xuICBtYXNrOiBEYXRlLFxuICBwYXR0ZXJuOiAnZHsufWBtey59YFknLFxuICBmb3JtYXQ6IChkYXRlLCBtYXNrZWQpID0+IHtcbiAgICBpZiAoIWRhdGUpIHJldHVybiAnJztcbiAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHJldHVybiBbZGF5LCBtb250aCwgeWVhcl0uam9pbignLicpO1xuICB9LFxuICBwYXJzZTogKHN0ciwgbWFza2VkKSA9PiB7XG4gICAgY29uc3QgW2RheSwgbW9udGgsIHllYXJdID0gc3RyLnNwbGl0KCcuJykubWFwKE51bWJlcik7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5KTtcbiAgfVxufTtcbklNYXNrLk1hc2tlZERhdGUgPSBNYXNrZWREYXRlO1xuXG5leHBvcnQgeyBNYXNrZWREYXRlIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IERJUkVDVElPTiwgb2JqZWN0SW5jbHVkZXMgfSBmcm9tICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCBDaGFuZ2VEZXRhaWxzIGZyb20gJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0IGNyZWF0ZU1hc2ssIHsgbm9ybWFsaXplT3B0cyB9IGZyb20gJy4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgTWFza2VkIGZyb20gJy4vYmFzZS5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NvbnRpbnVvdXMtdGFpbC1kZXRhaWxzLmpzJztcblxuLyoqIER5bmFtaWMgbWFzayBmb3IgY2hvb3NpbmcgYXBwcm9wcmlhdGUgbWFzayBpbiBydW4tdGltZSAqL1xuY2xhc3MgTWFza2VkRHluYW1pYyBleHRlbmRzIE1hc2tlZCB7XG4gIC8qKiBDdXJyZW50bHkgY2hvc2VuIG1hc2sgKi9cblxuICAvKiogQ29tcGxpbGVkIHtAbGluayBNYXNrZWR9IG9wdGlvbnMgKi9cblxuICAvKiogQ2hvb3NlcyB7QGxpbmsgTWFza2VkfSBkZXBlbmRpbmcgb24gaW5wdXQgdmFsdWUgKi9cblxuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgc3VwZXIoe1xuICAgICAgLi4uTWFza2VkRHluYW1pYy5ERUZBVUxUUyxcbiAgICAgIC4uLm9wdHNcbiAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRNYXNrID0gdW5kZWZpbmVkO1xuICB9XG4gIHVwZGF0ZU9wdGlvbnMob3B0cykge1xuICAgIHN1cGVyLnVwZGF0ZU9wdGlvbnMob3B0cyk7XG4gIH1cbiAgX3VwZGF0ZShvcHRzKSB7XG4gICAgc3VwZXIuX3VwZGF0ZShvcHRzKTtcbiAgICBpZiAoJ21hc2snIGluIG9wdHMpIHtcbiAgICAgIC8vIG1hc2sgY291bGQgYmUgdG90YWxseSBkeW5hbWljIHdpdGggb25seSBgZGlzcGF0Y2hgIG9wdGlvblxuICAgICAgdGhpcy5jb21waWxlZE1hc2tzID0gQXJyYXkuaXNBcnJheShvcHRzLm1hc2spID8gb3B0cy5tYXNrLm1hcChtID0+IGNyZWF0ZU1hc2soe1xuICAgICAgICBvdmVyd3JpdGU6IHRoaXMuX292ZXJ3cml0ZSxcbiAgICAgICAgZWFnZXI6IHRoaXMuX2VhZ2VyLFxuICAgICAgICBza2lwSW52YWxpZDogdGhpcy5fc2tpcEludmFsaWQsXG4gICAgICAgIC4uLm5vcm1hbGl6ZU9wdHMobSlcbiAgICAgIH0pKSA6IFtdO1xuXG4gICAgICAvLyB0aGlzLmN1cnJlbnRNYXNrID0gdGhpcy5kb0Rpc3BhdGNoKCcnKTsgLy8gcHJvYmFibHkgbm90IG5lZWRlZCBidXQgbGV0cyBzZWVcbiAgICB9XG4gIH1cblxuICBfYXBwZW5kQ2hhclJhdyhjaCwgZmxhZ3MpIHtcbiAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkge1xuICAgICAgZmxhZ3MgPSB7fTtcbiAgICB9XG4gICAgY29uc3QgZGV0YWlscyA9IHRoaXMuX2FwcGx5RGlzcGF0Y2goY2gsIGZsYWdzKTtcbiAgICBpZiAodGhpcy5jdXJyZW50TWFzaykge1xuICAgICAgZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5jdXJyZW50TWFzay5fYXBwZW5kQ2hhcihjaCwgdGhpcy5jdXJyZW50TWFza0ZsYWdzKGZsYWdzKSkpO1xuICAgIH1cbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuICBfYXBwbHlEaXNwYXRjaChhcHBlbmRlZCwgZmxhZ3MsIHRhaWwpIHtcbiAgICBpZiAoYXBwZW5kZWQgPT09IHZvaWQgMCkge1xuICAgICAgYXBwZW5kZWQgPSAnJztcbiAgICB9XG4gICAgaWYgKGZsYWdzID09PSB2b2lkIDApIHtcbiAgICAgIGZsYWdzID0ge307XG4gICAgfVxuICAgIGlmICh0YWlsID09PSB2b2lkIDApIHtcbiAgICAgIHRhaWwgPSAnJztcbiAgICB9XG4gICAgY29uc3QgcHJldlZhbHVlQmVmb3JlVGFpbCA9IGZsYWdzLnRhaWwgJiYgZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZSAhPSBudWxsID8gZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZS5fdmFsdWUgOiB0aGlzLnZhbHVlO1xuICAgIGNvbnN0IGlucHV0VmFsdWUgPSB0aGlzLnJhd0lucHV0VmFsdWU7XG4gICAgY29uc3QgaW5zZXJ0VmFsdWUgPSBmbGFncy50YWlsICYmIGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUgIT0gbnVsbCA/IGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUuX3Jhd0lucHV0VmFsdWUgOiBpbnB1dFZhbHVlO1xuICAgIGNvbnN0IHRhaWxWYWx1ZSA9IGlucHV0VmFsdWUuc2xpY2UoaW5zZXJ0VmFsdWUubGVuZ3RoKTtcbiAgICBjb25zdCBwcmV2TWFzayA9IHRoaXMuY3VycmVudE1hc2s7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgY29uc3QgcHJldk1hc2tTdGF0ZSA9IHByZXZNYXNrID09IG51bGwgPyB2b2lkIDAgOiBwcmV2TWFzay5zdGF0ZTtcblxuICAgIC8vIGNsb25lIGZsYWdzIHRvIHByZXZlbnQgb3ZlcndyaXRpbmcgYF9iZWZvcmVUYWlsU3RhdGVgXG4gICAgdGhpcy5jdXJyZW50TWFzayA9IHRoaXMuZG9EaXNwYXRjaChhcHBlbmRlZCwge1xuICAgICAgLi4uZmxhZ3NcbiAgICB9LCB0YWlsKTtcblxuICAgIC8vIHJlc3RvcmUgc3RhdGUgYWZ0ZXIgZGlzcGF0Y2hcbiAgICBpZiAodGhpcy5jdXJyZW50TWFzaykge1xuICAgICAgaWYgKHRoaXMuY3VycmVudE1hc2sgIT09IHByZXZNYXNrKSB7XG4gICAgICAgIC8vIGlmIG1hc2sgY2hhbmdlZCByZWFwcGx5IGlucHV0XG4gICAgICAgIHRoaXMuY3VycmVudE1hc2sucmVzZXQoKTtcbiAgICAgICAgaWYgKGluc2VydFZhbHVlKSB7XG4gICAgICAgICAgY29uc3QgZCA9IHRoaXMuY3VycmVudE1hc2suYXBwZW5kKGluc2VydFZhbHVlLCB7XG4gICAgICAgICAgICByYXc6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkZXRhaWxzLnRhaWxTaGlmdCA9IGQuaW5zZXJ0ZWQubGVuZ3RoIC0gcHJldlZhbHVlQmVmb3JlVGFpbC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhaWxWYWx1ZSkge1xuICAgICAgICAgIGRldGFpbHMudGFpbFNoaWZ0ICs9IHRoaXMuY3VycmVudE1hc2suYXBwZW5kKHRhaWxWYWx1ZSwge1xuICAgICAgICAgICAgcmF3OiB0cnVlLFxuICAgICAgICAgICAgdGFpbDogdHJ1ZVxuICAgICAgICAgIH0pLnRhaWxTaGlmdDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwcmV2TWFza1N0YXRlKSB7XG4gICAgICAgIC8vIERpc3BhdGNoIGNhbiBkbyBzb21ldGhpbmcgYmFkIHdpdGggc3RhdGUsIHNvXG4gICAgICAgIC8vIHJlc3RvcmUgcHJldiBtYXNrIHN0YXRlXG4gICAgICAgIHRoaXMuY3VycmVudE1hc2suc3RhdGUgPSBwcmV2TWFza1N0YXRlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuICBfYXBwZW5kUGxhY2Vob2xkZXIoKSB7XG4gICAgY29uc3QgZGV0YWlscyA9IHRoaXMuX2FwcGx5RGlzcGF0Y2goKTtcbiAgICBpZiAodGhpcy5jdXJyZW50TWFzaykge1xuICAgICAgZGV0YWlscy5hZ2dyZWdhdGUodGhpcy5jdXJyZW50TWFzay5fYXBwZW5kUGxhY2Vob2xkZXIoKSk7XG4gICAgfVxuICAgIHJldHVybiBkZXRhaWxzO1xuICB9XG4gIF9hcHBlbmRFYWdlcigpIHtcbiAgICBjb25zdCBkZXRhaWxzID0gdGhpcy5fYXBwbHlEaXNwYXRjaCgpO1xuICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrKSB7XG4gICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZSh0aGlzLmN1cnJlbnRNYXNrLl9hcHBlbmRFYWdlcigpKTtcbiAgICB9XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cbiAgYXBwZW5kVGFpbCh0YWlsKSB7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgaWYgKHRhaWwpIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuX2FwcGx5RGlzcGF0Y2goJycsIHt9LCB0YWlsKSk7XG4gICAgcmV0dXJuIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLmFwcGVuZFRhaWwodGFpbCkgOiBzdXBlci5hcHBlbmRUYWlsKHRhaWwpKTtcbiAgfVxuICBjdXJyZW50TWFza0ZsYWdzKGZsYWdzKSB7XG4gICAgdmFyIF9mbGFncyRfYmVmb3JlVGFpbFN0YSwgX2ZsYWdzJF9iZWZvcmVUYWlsU3RhMjtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZmxhZ3MsXG4gICAgICBfYmVmb3JlVGFpbFN0YXRlOiAoKF9mbGFncyRfYmVmb3JlVGFpbFN0YSA9IGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEuY3VycmVudE1hc2tSZWYpID09PSB0aGlzLmN1cnJlbnRNYXNrICYmICgoX2ZsYWdzJF9iZWZvcmVUYWlsU3RhMiA9IGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEyLmN1cnJlbnRNYXNrKSB8fCBmbGFncy5fYmVmb3JlVGFpbFN0YXRlXG4gICAgfTtcbiAgfVxuICBkb0Rpc3BhdGNoKGFwcGVuZGVkLCBmbGFncywgdGFpbCkge1xuICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7XG4gICAgICBmbGFncyA9IHt9O1xuICAgIH1cbiAgICBpZiAodGFpbCA9PT0gdm9pZCAwKSB7XG4gICAgICB0YWlsID0gJyc7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKGFwcGVuZGVkLCB0aGlzLCBmbGFncywgdGFpbCk7XG4gIH1cbiAgZG9WYWxpZGF0ZShmbGFncykge1xuICAgIHJldHVybiBzdXBlci5kb1ZhbGlkYXRlKGZsYWdzKSAmJiAoIXRoaXMuY3VycmVudE1hc2sgfHwgdGhpcy5jdXJyZW50TWFzay5kb1ZhbGlkYXRlKHRoaXMuY3VycmVudE1hc2tGbGFncyhmbGFncykpKTtcbiAgfVxuICBkb1ByZXBhcmUoc3RyLCBmbGFncykge1xuICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7XG4gICAgICBmbGFncyA9IHt9O1xuICAgIH1cbiAgICBsZXQgW3MsIGRldGFpbHNdID0gc3VwZXIuZG9QcmVwYXJlKHN0ciwgZmxhZ3MpO1xuICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrKSB7XG4gICAgICBsZXQgY3VycmVudERldGFpbHM7XG4gICAgICBbcywgY3VycmVudERldGFpbHNdID0gc3VwZXIuZG9QcmVwYXJlKHMsIHRoaXMuY3VycmVudE1hc2tGbGFncyhmbGFncykpO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuYWdncmVnYXRlKGN1cnJlbnREZXRhaWxzKTtcbiAgICB9XG4gICAgcmV0dXJuIFtzLCBkZXRhaWxzXTtcbiAgfVxuICBkb1ByZXBhcmVDaGFyKHN0ciwgZmxhZ3MpIHtcbiAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkge1xuICAgICAgZmxhZ3MgPSB7fTtcbiAgICB9XG4gICAgbGV0IFtzLCBkZXRhaWxzXSA9IHN1cGVyLmRvUHJlcGFyZUNoYXIoc3RyLCBmbGFncyk7XG4gICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHtcbiAgICAgIGxldCBjdXJyZW50RGV0YWlscztcbiAgICAgIFtzLCBjdXJyZW50RGV0YWlsc10gPSBzdXBlci5kb1ByZXBhcmVDaGFyKHMsIHRoaXMuY3VycmVudE1hc2tGbGFncyhmbGFncykpO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuYWdncmVnYXRlKGN1cnJlbnREZXRhaWxzKTtcbiAgICB9XG4gICAgcmV0dXJuIFtzLCBkZXRhaWxzXTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB2YXIgX3RoaXMkY3VycmVudE1hc2s7XG4gICAgKF90aGlzJGN1cnJlbnRNYXNrID0gdGhpcy5jdXJyZW50TWFzaykgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRNYXNrLnJlc2V0KCk7XG4gICAgdGhpcy5jb21waWxlZE1hc2tzLmZvckVhY2gobSA9PiBtLnJlc2V0KCkpO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50TWFzayA/IHRoaXMuY3VycmVudE1hc2sudmFsdWUgOiAnJztcbiAgfVxuICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICBzdXBlci52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIGdldCB1bm1hc2tlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay51bm1hc2tlZFZhbHVlIDogJyc7XG4gIH1cbiAgc2V0IHVubWFza2VkVmFsdWUodW5tYXNrZWRWYWx1ZSkge1xuICAgIHN1cGVyLnVubWFza2VkVmFsdWUgPSB1bm1hc2tlZFZhbHVlO1xuICB9XG4gIGdldCB0eXBlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay50eXBlZFZhbHVlIDogJyc7XG4gIH1cblxuICAvLyBwcm9iYWJseSB0eXBlZFZhbHVlIHNob3VsZCBub3QgYmUgdXNlZCB3aXRoIGR5bmFtaWNcbiAgc2V0IHR5cGVkVmFsdWUodmFsdWUpIHtcbiAgICBsZXQgdW5tYXNrZWRWYWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG5cbiAgICAvLyBkb3VibGUgY2hlY2sgaXRcbiAgICBpZiAodGhpcy5jdXJyZW50TWFzaykge1xuICAgICAgdGhpcy5jdXJyZW50TWFzay50eXBlZFZhbHVlID0gdmFsdWU7XG4gICAgICB1bm1hc2tlZFZhbHVlID0gdGhpcy5jdXJyZW50TWFzay51bm1hc2tlZFZhbHVlO1xuICAgIH1cbiAgICB0aGlzLnVubWFza2VkVmFsdWUgPSB1bm1hc2tlZFZhbHVlO1xuICB9XG4gIGdldCBkaXNwbGF5VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudE1hc2sgPyB0aGlzLmN1cnJlbnRNYXNrLmRpc3BsYXlWYWx1ZSA6ICcnO1xuICB9XG4gIGdldCBpc0NvbXBsZXRlKCkge1xuICAgIHZhciBfdGhpcyRjdXJyZW50TWFzazI7XG4gICAgcmV0dXJuIEJvb2xlYW4oKF90aGlzJGN1cnJlbnRNYXNrMiA9IHRoaXMuY3VycmVudE1hc2spID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50TWFzazIuaXNDb21wbGV0ZSk7XG4gIH1cbiAgZ2V0IGlzRmlsbGVkKCkge1xuICAgIHZhciBfdGhpcyRjdXJyZW50TWFzazM7XG4gICAgcmV0dXJuIEJvb2xlYW4oKF90aGlzJGN1cnJlbnRNYXNrMyA9IHRoaXMuY3VycmVudE1hc2spID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50TWFzazMuaXNGaWxsZWQpO1xuICB9XG4gIHJlbW92ZShmcm9tUG9zLCB0b1Bvcykge1xuICAgIGNvbnN0IGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICAgIGlmICh0aGlzLmN1cnJlbnRNYXNrKSB7XG4gICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZSh0aGlzLmN1cnJlbnRNYXNrLnJlbW92ZShmcm9tUG9zLCB0b1BvcykpXG4gICAgICAvLyB1cGRhdGUgd2l0aCBkaXNwYXRjaFxuICAgICAgLmFnZ3JlZ2F0ZSh0aGlzLl9hcHBseURpc3BhdGNoKCkpO1xuICAgIH1cbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuICBnZXQgc3RhdGUoKSB7XG4gICAgdmFyIF90aGlzJGN1cnJlbnRNYXNrNDtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIuc3RhdGUsXG4gICAgICBfcmF3SW5wdXRWYWx1ZTogdGhpcy5yYXdJbnB1dFZhbHVlLFxuICAgICAgY29tcGlsZWRNYXNrczogdGhpcy5jb21waWxlZE1hc2tzLm1hcChtID0+IG0uc3RhdGUpLFxuICAgICAgY3VycmVudE1hc2tSZWY6IHRoaXMuY3VycmVudE1hc2ssXG4gICAgICBjdXJyZW50TWFzazogKF90aGlzJGN1cnJlbnRNYXNrNCA9IHRoaXMuY3VycmVudE1hc2spID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50TWFzazQuc3RhdGVcbiAgICB9O1xuICB9XG4gIHNldCBzdGF0ZShzdGF0ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbXBpbGVkTWFza3MsXG4gICAgICBjdXJyZW50TWFza1JlZixcbiAgICAgIGN1cnJlbnRNYXNrLFxuICAgICAgLi4ubWFza2VkU3RhdGVcbiAgICB9ID0gc3RhdGU7XG4gICAgaWYgKGNvbXBpbGVkTWFza3MpIHRoaXMuY29tcGlsZWRNYXNrcy5mb3JFYWNoKChtLCBtaSkgPT4gbS5zdGF0ZSA9IGNvbXBpbGVkTWFza3NbbWldKTtcbiAgICBpZiAoY3VycmVudE1hc2tSZWYgIT0gbnVsbCkge1xuICAgICAgdGhpcy5jdXJyZW50TWFzayA9IGN1cnJlbnRNYXNrUmVmO1xuICAgICAgdGhpcy5jdXJyZW50TWFzay5zdGF0ZSA9IGN1cnJlbnRNYXNrO1xuICAgIH1cbiAgICBzdXBlci5zdGF0ZSA9IG1hc2tlZFN0YXRlO1xuICB9XG4gIGV4dHJhY3RJbnB1dChmcm9tUG9zLCB0b1BvcywgZmxhZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50TWFzayA/IHRoaXMuY3VycmVudE1hc2suZXh0cmFjdElucHV0KGZyb21Qb3MsIHRvUG9zLCBmbGFncykgOiAnJztcbiAgfVxuICBleHRyYWN0VGFpbChmcm9tUG9zLCB0b1Bvcykge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay5leHRyYWN0VGFpbChmcm9tUG9zLCB0b1BvcykgOiBzdXBlci5leHRyYWN0VGFpbChmcm9tUG9zLCB0b1Bvcyk7XG4gIH1cbiAgZG9Db21taXQoKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudE1hc2spIHRoaXMuY3VycmVudE1hc2suZG9Db21taXQoKTtcbiAgICBzdXBlci5kb0NvbW1pdCgpO1xuICB9XG4gIG5lYXJlc3RJbnB1dFBvcyhjdXJzb3JQb3MsIGRpcmVjdGlvbikge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay5uZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zLCBkaXJlY3Rpb24pIDogc3VwZXIubmVhcmVzdElucHV0UG9zKGN1cnNvclBvcywgZGlyZWN0aW9uKTtcbiAgfVxuICBnZXQgb3ZlcndyaXRlKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay5vdmVyd3JpdGUgOiB0aGlzLl9vdmVyd3JpdGU7XG4gIH1cbiAgc2V0IG92ZXJ3cml0ZShvdmVyd3JpdGUpIHtcbiAgICB0aGlzLl9vdmVyd3JpdGUgPSBvdmVyd3JpdGU7XG4gIH1cbiAgZ2V0IGVhZ2VyKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay5lYWdlciA6IHRoaXMuX2VhZ2VyO1xuICB9XG4gIHNldCBlYWdlcihlYWdlcikge1xuICAgIHRoaXMuX2VhZ2VyID0gZWFnZXI7XG4gIH1cbiAgZ2V0IHNraXBJbnZhbGlkKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXNrID8gdGhpcy5jdXJyZW50TWFzay5za2lwSW52YWxpZCA6IHRoaXMuX3NraXBJbnZhbGlkO1xuICB9XG4gIHNldCBza2lwSW52YWxpZChza2lwSW52YWxpZCkge1xuICAgIHRoaXMuX3NraXBJbnZhbGlkID0gc2tpcEludmFsaWQ7XG4gIH1cbiAgbWFza0VxdWFscyhtYXNrKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobWFzaykgPyB0aGlzLmNvbXBpbGVkTWFza3MuZXZlcnkoKG0sIG1pKSA9PiB7XG4gICAgICBpZiAoIW1hc2tbbWldKSByZXR1cm47XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1hc2s6IG9sZE1hc2ssXG4gICAgICAgIC4uLnJlc3RPcHRzXG4gICAgICB9ID0gbWFza1ttaV07XG4gICAgICByZXR1cm4gb2JqZWN0SW5jbHVkZXMobSwgcmVzdE9wdHMpICYmIG0ubWFza0VxdWFscyhvbGRNYXNrKTtcbiAgICB9KSA6IHN1cGVyLm1hc2tFcXVhbHMobWFzayk7XG4gIH1cbiAgdHlwZWRWYWx1ZUVxdWFscyh2YWx1ZSkge1xuICAgIHZhciBfdGhpcyRjdXJyZW50TWFzazU7XG4gICAgcmV0dXJuIEJvb2xlYW4oKF90aGlzJGN1cnJlbnRNYXNrNSA9IHRoaXMuY3VycmVudE1hc2spID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50TWFzazUudHlwZWRWYWx1ZUVxdWFscyh2YWx1ZSkpO1xuICB9XG59XG5NYXNrZWREeW5hbWljLkRFRkFVTFRTID0gdm9pZCAwO1xuTWFza2VkRHluYW1pYy5ERUZBVUxUUyA9IHtcbiAgZGlzcGF0Y2g6IChhcHBlbmRlZCwgbWFza2VkLCBmbGFncywgdGFpbCkgPT4ge1xuICAgIGlmICghbWFza2VkLmNvbXBpbGVkTWFza3MubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3QgaW5wdXRWYWx1ZSA9IG1hc2tlZC5yYXdJbnB1dFZhbHVlO1xuXG4gICAgLy8gc2ltdWxhdGUgaW5wdXRcbiAgICBjb25zdCBpbnB1dHMgPSBtYXNrZWQuY29tcGlsZWRNYXNrcy5tYXAoKG0sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpc0N1cnJlbnQgPSBtYXNrZWQuY3VycmVudE1hc2sgPT09IG07XG4gICAgICBjb25zdCBzdGFydElucHV0UG9zID0gaXNDdXJyZW50ID8gbS52YWx1ZS5sZW5ndGggOiBtLm5lYXJlc3RJbnB1dFBvcyhtLnZhbHVlLmxlbmd0aCwgRElSRUNUSU9OLkZPUkNFX0xFRlQpO1xuICAgICAgaWYgKG0ucmF3SW5wdXRWYWx1ZSAhPT0gaW5wdXRWYWx1ZSkge1xuICAgICAgICBtLnJlc2V0KCk7XG4gICAgICAgIG0uYXBwZW5kKGlucHV0VmFsdWUsIHtcbiAgICAgICAgICByYXc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0N1cnJlbnQpIHtcbiAgICAgICAgbS5yZW1vdmUoc3RhcnRJbnB1dFBvcyk7XG4gICAgICB9XG4gICAgICBtLmFwcGVuZChhcHBlbmRlZCwgbWFza2VkLmN1cnJlbnRNYXNrRmxhZ3MoZmxhZ3MpKTtcbiAgICAgIG0uYXBwZW5kVGFpbCh0YWlsKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluZGV4LFxuICAgICAgICB3ZWlnaHQ6IG0ucmF3SW5wdXRWYWx1ZS5sZW5ndGgsXG4gICAgICAgIHRvdGFsSW5wdXRQb3NpdGlvbnM6IG0udG90YWxJbnB1dFBvc2l0aW9ucygwLCBNYXRoLm1heChzdGFydElucHV0UG9zLCBtLm5lYXJlc3RJbnB1dFBvcyhtLnZhbHVlLmxlbmd0aCwgRElSRUNUSU9OLkZPUkNFX0xFRlQpKSlcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBwb3AgbWFza3Mgd2l0aCBsb25nZXIgdmFsdWVzIGZpcnN0XG4gICAgaW5wdXRzLnNvcnQoKGkxLCBpMikgPT4gaTIud2VpZ2h0IC0gaTEud2VpZ2h0IHx8IGkyLnRvdGFsSW5wdXRQb3NpdGlvbnMgLSBpMS50b3RhbElucHV0UG9zaXRpb25zKTtcbiAgICByZXR1cm4gbWFza2VkLmNvbXBpbGVkTWFza3NbaW5wdXRzWzBdLmluZGV4XTtcbiAgfVxufTtcbklNYXNrLk1hc2tlZER5bmFtaWMgPSBNYXNrZWREeW5hbWljO1xuXG5leHBvcnQgeyBNYXNrZWREeW5hbWljIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBNYXNrZWRQYXR0ZXJuIGZyb20gJy4vcGF0dGVybi5qcyc7XG5pbXBvcnQgSU1hc2sgZnJvbSAnLi4vY29yZS9ob2xkZXIuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi4vY29yZS91dGlscy5qcyc7XG5pbXBvcnQgJy4vYmFzZS5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL2ZhY3RvcnkuanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vY2h1bmstdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2N1cnNvci5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9maXhlZC1kZWZpbml0aW9uLmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2lucHV0LWRlZmluaXRpb24uanMnO1xuaW1wb3J0ICcuL3JlZ2V4cC5qcyc7XG5cbi8qKiBQYXR0ZXJuIHdoaWNoIHZhbGlkYXRlcyBlbnVtIHZhbHVlcyAqL1xuY2xhc3MgTWFza2VkRW51bSBleHRlbmRzIE1hc2tlZFBhdHRlcm4ge1xuICB1cGRhdGVPcHRpb25zKG9wdHMpIHtcbiAgICBzdXBlci51cGRhdGVPcHRpb25zKG9wdHMpO1xuICB9XG4gIF91cGRhdGUob3B0cykge1xuICAgIGNvbnN0IHtcbiAgICAgIGVudW06IF9lbnVtLFxuICAgICAgLi4uZW9wdHNcbiAgICB9ID0gb3B0cztcbiAgICBpZiAoX2VudW0pIHtcbiAgICAgIGVvcHRzLm1hc2sgPSAnKicucmVwZWF0KF9lbnVtWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLmVudW0gPSBfZW51bTtcbiAgICB9XG4gICAgc3VwZXIuX3VwZGF0ZShlb3B0cyk7XG4gIH1cbiAgZG9WYWxpZGF0ZShmbGFncykge1xuICAgIHJldHVybiB0aGlzLmVudW0uc29tZShlID0+IGUuaW5kZXhPZih0aGlzLnVubWFza2VkVmFsdWUpID49IDApICYmIHN1cGVyLmRvVmFsaWRhdGUoZmxhZ3MpO1xuICB9XG59XG5JTWFzay5NYXNrZWRFbnVtID0gTWFza2VkRW51bTtcblxuZXhwb3J0IHsgTWFza2VkRW51bSBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBpc1N0cmluZywgaXNPYmplY3QsIHBpY2sgfSBmcm9tICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5cbi8vIFRPRE8gY2FuJ3QgdXNlIG92ZXJsb2FkcyBoZXJlIGJlY2F1c2Ugb2YgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy81MDc1NFxuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IHN0cmluZyk6IHR5cGVvZiBNYXNrZWRQYXR0ZXJuO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IERhdGVDb25zdHJ1Y3Rvcik6IHR5cGVvZiBNYXNrZWREYXRlO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IE51bWJlckNvbnN0cnVjdG9yKTogdHlwZW9mIE1hc2tlZE51bWJlcjtcbi8vIGV4cG9ydCBmdW5jdGlvbiBtYXNrZWRDbGFzcyhtYXNrOiBBcnJheTxhbnk+IHwgQXJyYXlDb25zdHJ1Y3Rvcik6IHR5cGVvZiBNYXNrZWREeW5hbWljO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IE1hc2tlZERhdGUpOiB0eXBlb2YgTWFza2VkRGF0ZTtcbi8vIGV4cG9ydCBmdW5jdGlvbiBtYXNrZWRDbGFzcyhtYXNrOiBNYXNrZWROdW1iZXIpOiB0eXBlb2YgTWFza2VkTnVtYmVyO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IE1hc2tlZEVudW0pOiB0eXBlb2YgTWFza2VkRW51bTtcbi8vIGV4cG9ydCBmdW5jdGlvbiBtYXNrZWRDbGFzcyhtYXNrOiBNYXNrZWRSYW5nZSk6IHR5cGVvZiBNYXNrZWRSYW5nZTtcbi8vIGV4cG9ydCBmdW5jdGlvbiBtYXNrZWRDbGFzcyhtYXNrOiBNYXNrZWRSZWdFeHApOiB0eXBlb2YgTWFza2VkUmVnRXhwO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IE1hc2tlZEZ1bmN0aW9uKTogdHlwZW9mIE1hc2tlZEZ1bmN0aW9uO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IE1hc2tlZFBhdHRlcm4pOiB0eXBlb2YgTWFza2VkUGF0dGVybjtcbi8vIGV4cG9ydCBmdW5jdGlvbiBtYXNrZWRDbGFzcyhtYXNrOiBNYXNrZWREeW5hbWljKTogdHlwZW9mIE1hc2tlZER5bmFtaWM7XG4vLyBleHBvcnQgZnVuY3Rpb24gbWFza2VkQ2xhc3MobWFzazogTWFza2VkKTogdHlwZW9mIE1hc2tlZDtcbi8vIGV4cG9ydCBmdW5jdGlvbiBtYXNrZWRDbGFzcyhtYXNrOiB0eXBlb2YgTWFza2VkKTogdHlwZW9mIE1hc2tlZDtcbi8vIGV4cG9ydCBmdW5jdGlvbiBtYXNrZWRDbGFzcyhtYXNrOiB0eXBlb2YgTWFza2VkRGF0ZSk6IHR5cGVvZiBNYXNrZWREYXRlO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IHR5cGVvZiBNYXNrZWROdW1iZXIpOiB0eXBlb2YgTWFza2VkTnVtYmVyO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IHR5cGVvZiBNYXNrZWRFbnVtKTogdHlwZW9mIE1hc2tlZEVudW07XG4vLyBleHBvcnQgZnVuY3Rpb24gbWFza2VkQ2xhc3MobWFzazogdHlwZW9mIE1hc2tlZFJhbmdlKTogdHlwZW9mIE1hc2tlZFJhbmdlO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IHR5cGVvZiBNYXNrZWRSZWdFeHApOiB0eXBlb2YgTWFza2VkUmVnRXhwO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IHR5cGVvZiBNYXNrZWRGdW5jdGlvbik6IHR5cGVvZiBNYXNrZWRGdW5jdGlvbjtcbi8vIGV4cG9ydCBmdW5jdGlvbiBtYXNrZWRDbGFzcyhtYXNrOiB0eXBlb2YgTWFza2VkUGF0dGVybik6IHR5cGVvZiBNYXNrZWRQYXR0ZXJuO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6IHR5cGVvZiBNYXNrZWREeW5hbWljKTogdHlwZW9mIE1hc2tlZER5bmFtaWM7XG4vLyBleHBvcnQgZnVuY3Rpb24gbWFza2VkQ2xhc3M8TWFzayBleHRlbmRzIHR5cGVvZiBNYXNrZWQ+IChtYXNrOiBNYXNrKTogTWFzaztcbi8vIGV4cG9ydCBmdW5jdGlvbiBtYXNrZWRDbGFzcyhtYXNrOiBSZWdFeHApOiB0eXBlb2YgTWFza2VkUmVnRXhwO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIG1hc2tlZENsYXNzKG1hc2s6ICh2YWx1ZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4gYm9vbGVhbik6IHR5cGVvZiBNYXNrZWRGdW5jdGlvbjtcbi8qKiBHZXQgTWFza2VkIGNsYXNzIGJ5IG1hc2sgdHlwZSAqL1xuZnVuY3Rpb24gbWFza2VkQ2xhc3MobWFzaykgLyogVE9ETyAqL3tcbiAgaWYgKG1hc2sgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKCdtYXNrIHByb3BlcnR5IHNob3VsZCBiZSBkZWZpbmVkJyk7XG4gIGlmIChtYXNrIGluc3RhbmNlb2YgUmVnRXhwKSByZXR1cm4gSU1hc2suTWFza2VkUmVnRXhwO1xuICBpZiAoaXNTdHJpbmcobWFzaykpIHJldHVybiBJTWFzay5NYXNrZWRQYXR0ZXJuO1xuICBpZiAobWFzayA9PT0gRGF0ZSkgcmV0dXJuIElNYXNrLk1hc2tlZERhdGU7XG4gIGlmIChtYXNrID09PSBOdW1iZXIpIHJldHVybiBJTWFzay5NYXNrZWROdW1iZXI7XG4gIGlmIChBcnJheS5pc0FycmF5KG1hc2spIHx8IG1hc2sgPT09IEFycmF5KSByZXR1cm4gSU1hc2suTWFza2VkRHluYW1pYztcbiAgaWYgKElNYXNrLk1hc2tlZCAmJiBtYXNrLnByb3RvdHlwZSBpbnN0YW5jZW9mIElNYXNrLk1hc2tlZCkgcmV0dXJuIG1hc2s7XG4gIGlmIChJTWFzay5NYXNrZWQgJiYgbWFzayBpbnN0YW5jZW9mIElNYXNrLk1hc2tlZCkgcmV0dXJuIG1hc2suY29uc3RydWN0b3I7XG4gIGlmIChtYXNrIGluc3RhbmNlb2YgRnVuY3Rpb24pIHJldHVybiBJTWFzay5NYXNrZWRGdW5jdGlvbjtcbiAgY29uc29sZS53YXJuKCdNYXNrIG5vdCBmb3VuZCBmb3IgbWFzaycsIG1hc2spOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgcmV0dXJuIElNYXNrLk1hc2tlZDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9wdHMob3B0cykge1xuICBpZiAoIW9wdHMpIHRocm93IG5ldyBFcnJvcignT3B0aW9ucyBpbiBub3QgZGVmaW5lZCcpO1xuICBpZiAoSU1hc2suTWFza2VkKSB7XG4gICAgaWYgKG9wdHMucHJvdG90eXBlIGluc3RhbmNlb2YgSU1hc2suTWFza2VkKSByZXR1cm4ge1xuICAgICAgbWFzazogb3B0c1xuICAgIH07XG5cbiAgICAvKlxuICAgICAgaGFuZGxlIGNhc2VzIGxpa2U6XG4gICAgICAxKSBvcHRzID0gTWFza2VkXG4gICAgICAyKSBvcHRzID0geyBtYXNrOiBNYXNrZWQsIC4uLmluc3RhbmNlT3B0cyB9XG4gICAgKi9cbiAgICBjb25zdCB7XG4gICAgICBtYXNrID0gdW5kZWZpbmVkLFxuICAgICAgLi4uaW5zdGFuY2VPcHRzXG4gICAgfSA9IG9wdHMgaW5zdGFuY2VvZiBJTWFzay5NYXNrZWQgPyB7XG4gICAgICBtYXNrOiBvcHRzXG4gICAgfSA6IGlzT2JqZWN0KG9wdHMpICYmIG9wdHMubWFzayBpbnN0YW5jZW9mIElNYXNrLk1hc2tlZCA/IG9wdHMgOiB7fTtcbiAgICBpZiAobWFzaykge1xuICAgICAgY29uc3QgX21hc2sgPSBtYXNrLm1hc2s7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5waWNrKG1hc2ssIChfLCBrKSA9PiAhay5zdGFydHNXaXRoKCdfJykpLFxuICAgICAgICBtYXNrOiBtYXNrLmNvbnN0cnVjdG9yLFxuICAgICAgICBfbWFzayxcbiAgICAgICAgLi4uaW5zdGFuY2VPcHRzXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoIWlzT2JqZWN0KG9wdHMpKSByZXR1cm4ge1xuICAgIG1hc2s6IG9wdHNcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICAuLi5vcHRzXG4gIH07XG59XG5cbi8vIFRPRE8gY2FuJ3QgdXNlIG92ZXJsb2FkcyBoZXJlIGJlY2F1c2Ugb2YgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy81MDc1NFxuXG4vLyBGcm9tIG1hc2tlZFxuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWFzazxPcHRzIGV4dGVuZHMgTWFza2VkLCBSZXR1cm5NYXNrZWQ9T3B0cz4gKG9wdHM6IE9wdHMpOiBSZXR1cm5NYXNrZWQ7XG4vLyAvLyBGcm9tIG1hc2tlZCBjbGFzc1xuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWFzazxPcHRzIGV4dGVuZHMgTWFza2VkT3B0aW9uczx0eXBlb2YgTWFza2VkPiwgUmV0dXJuTWFza2VkIGV4dGVuZHMgTWFza2VkPUluc3RhbmNlVHlwZTxPcHRzWydtYXNrJ10+PiAob3B0czogT3B0cyk6IFJldHVybk1hc2tlZDtcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1hc2s8T3B0cyBleHRlbmRzIE1hc2tlZE9wdGlvbnM8dHlwZW9mIE1hc2tlZERhdGU+LCBSZXR1cm5NYXNrZWQgZXh0ZW5kcyBNYXNrZWREYXRlPU1hc2tlZERhdGU8T3B0c1sncGFyZW50J10+PiAob3B0czogT3B0cyk6IFJldHVybk1hc2tlZDtcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1hc2s8T3B0cyBleHRlbmRzIE1hc2tlZE9wdGlvbnM8dHlwZW9mIE1hc2tlZE51bWJlcj4sIFJldHVybk1hc2tlZCBleHRlbmRzIE1hc2tlZE51bWJlcj1NYXNrZWROdW1iZXI8T3B0c1sncGFyZW50J10+PiAob3B0czogT3B0cyk6IFJldHVybk1hc2tlZDtcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1hc2s8T3B0cyBleHRlbmRzIE1hc2tlZE9wdGlvbnM8dHlwZW9mIE1hc2tlZEVudW0+LCBSZXR1cm5NYXNrZWQgZXh0ZW5kcyBNYXNrZWRFbnVtPU1hc2tlZEVudW08T3B0c1sncGFyZW50J10+PiAob3B0czogT3B0cyk6IFJldHVybk1hc2tlZDtcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1hc2s8T3B0cyBleHRlbmRzIE1hc2tlZE9wdGlvbnM8dHlwZW9mIE1hc2tlZFJhbmdlPiwgUmV0dXJuTWFza2VkIGV4dGVuZHMgTWFza2VkUmFuZ2U9TWFza2VkUmFuZ2U8T3B0c1sncGFyZW50J10+PiAob3B0czogT3B0cyk6IFJldHVybk1hc2tlZDtcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1hc2s8T3B0cyBleHRlbmRzIE1hc2tlZE9wdGlvbnM8dHlwZW9mIE1hc2tlZFJlZ0V4cD4sIFJldHVybk1hc2tlZCBleHRlbmRzIE1hc2tlZFJlZ0V4cD1NYXNrZWRSZWdFeHA8T3B0c1sncGFyZW50J10+PiAob3B0czogT3B0cyk6IFJldHVybk1hc2tlZDtcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1hc2s8T3B0cyBleHRlbmRzIE1hc2tlZE9wdGlvbnM8dHlwZW9mIE1hc2tlZEZ1bmN0aW9uPiwgUmV0dXJuTWFza2VkIGV4dGVuZHMgTWFza2VkRnVuY3Rpb249TWFza2VkRnVuY3Rpb248T3B0c1sncGFyZW50J10+PiAob3B0czogT3B0cyk6IFJldHVybk1hc2tlZDtcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1hc2s8T3B0cyBleHRlbmRzIE1hc2tlZE9wdGlvbnM8dHlwZW9mIE1hc2tlZFBhdHRlcm4+LCBSZXR1cm5NYXNrZWQgZXh0ZW5kcyBNYXNrZWRQYXR0ZXJuPU1hc2tlZFBhdHRlcm48T3B0c1sncGFyZW50J10+PiAob3B0czogT3B0cyk6IFJldHVybk1hc2tlZDtcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1hc2s8T3B0cyBleHRlbmRzIE1hc2tlZE9wdGlvbnM8dHlwZW9mIE1hc2tlZER5bmFtaWM+LCBSZXR1cm5NYXNrZWQgZXh0ZW5kcyBNYXNrZWREeW5hbWljPU1hc2tlZER5bmFtaWM8T3B0c1sncGFyZW50J10+PiAob3B0czogT3B0cyk6IFJldHVybk1hc2tlZDtcbi8vIC8vIEZyb20gbWFzayBvcHRzXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVNYXNrPE9wdHMgZXh0ZW5kcyBNYXNrZWRPcHRpb25zPE1hc2tlZD4sIFJldHVybk1hc2tlZD1PcHRzIGV4dGVuZHMgTWFza2VkT3B0aW9uczxpbmZlciBNPiA/IE0gOiBuZXZlcj4gKG9wdHM6IE9wdHMpOiBSZXR1cm5NYXNrZWQ7XG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVNYXNrPE9wdHMgZXh0ZW5kcyBNYXNrZWROdW1iZXJPcHRpb25zLCBSZXR1cm5NYXNrZWQgZXh0ZW5kcyBNYXNrZWROdW1iZXI9TWFza2VkTnVtYmVyPE9wdHNbJ3BhcmVudCddPj4gKG9wdHM6IE9wdHMpOiBSZXR1cm5NYXNrZWQ7XG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVNYXNrPE9wdHMgZXh0ZW5kcyBNYXNrZWREYXRlRmFjdG9yeU9wdGlvbnMsIFJldHVybk1hc2tlZCBleHRlbmRzIE1hc2tlZERhdGU9TWFza2VkRGF0ZTxPcHRzWydwYXJlbnQnXT4+IChvcHRzOiBPcHRzKTogUmV0dXJuTWFza2VkO1xuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWFzazxPcHRzIGV4dGVuZHMgTWFza2VkRW51bU9wdGlvbnMsIFJldHVybk1hc2tlZCBleHRlbmRzIE1hc2tlZEVudW09TWFza2VkRW51bTxPcHRzWydwYXJlbnQnXT4+IChvcHRzOiBPcHRzKTogUmV0dXJuTWFza2VkO1xuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWFzazxPcHRzIGV4dGVuZHMgTWFza2VkUmFuZ2VPcHRpb25zLCBSZXR1cm5NYXNrZWQgZXh0ZW5kcyBNYXNrZWRSYW5nZT1NYXNrZWRSYW5nZTxPcHRzWydwYXJlbnQnXT4+IChvcHRzOiBPcHRzKTogUmV0dXJuTWFza2VkO1xuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWFzazxPcHRzIGV4dGVuZHMgTWFza2VkUGF0dGVybk9wdGlvbnMsIFJldHVybk1hc2tlZCBleHRlbmRzIE1hc2tlZFBhdHRlcm49TWFza2VkUGF0dGVybjxPcHRzWydwYXJlbnQnXT4+IChvcHRzOiBPcHRzKTogUmV0dXJuTWFza2VkO1xuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWFzazxPcHRzIGV4dGVuZHMgTWFza2VkRHluYW1pY09wdGlvbnMsIFJldHVybk1hc2tlZCBleHRlbmRzIE1hc2tlZER5bmFtaWM9TWFza2VkRHluYW1pYzxPcHRzWydwYXJlbnQnXT4+IChvcHRzOiBPcHRzKTogUmV0dXJuTWFza2VkO1xuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWFzazxPcHRzIGV4dGVuZHMgTWFza2VkT3B0aW9uczxSZWdFeHA+LCBSZXR1cm5NYXNrZWQgZXh0ZW5kcyBNYXNrZWRSZWdFeHA9TWFza2VkUmVnRXhwPE9wdHNbJ3BhcmVudCddPj4gKG9wdHM6IE9wdHMpOiBSZXR1cm5NYXNrZWQ7XG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVNYXNrPE9wdHMgZXh0ZW5kcyBNYXNrZWRPcHRpb25zPEZ1bmN0aW9uPiwgUmV0dXJuTWFza2VkIGV4dGVuZHMgTWFza2VkRnVuY3Rpb249TWFza2VkRnVuY3Rpb248T3B0c1sncGFyZW50J10+PiAob3B0czogT3B0cyk6IFJldHVybk1hc2tlZDtcblxuLyoqIENyZWF0ZXMgbmV3IHtAbGluayBNYXNrZWR9IGRlcGVuZGluZyBvbiBtYXNrIHR5cGUgKi9cbmZ1bmN0aW9uIGNyZWF0ZU1hc2sob3B0cykge1xuICBpZiAoSU1hc2suTWFza2VkICYmIG9wdHMgaW5zdGFuY2VvZiBJTWFzay5NYXNrZWQpIHJldHVybiBvcHRzO1xuICBjb25zdCBuT3B0cyA9IG5vcm1hbGl6ZU9wdHMob3B0cyk7XG4gIGNvbnN0IE1hc2tlZENsYXNzID0gbWFza2VkQ2xhc3Mobk9wdHMubWFzayk7XG4gIGlmICghTWFza2VkQ2xhc3MpIHRocm93IG5ldyBFcnJvcignTWFza2VkIGNsYXNzIGlzIG5vdCBmb3VuZCBmb3IgcHJvdmlkZWQgbWFzaywgYXBwcm9wcmlhdGUgbW9kdWxlIG5lZWRzIHRvIGJlIGltcG9ydGVkIG1hbnVhbGx5IGJlZm9yZSBjcmVhdGluZyBtYXNrLicpO1xuICBpZiAobk9wdHMubWFzayA9PT0gTWFza2VkQ2xhc3MpIGRlbGV0ZSBuT3B0cy5tYXNrO1xuICBpZiAobk9wdHMuX21hc2spIHtcbiAgICBuT3B0cy5tYXNrID0gbk9wdHMuX21hc2s7XG4gICAgZGVsZXRlIG5PcHRzLl9tYXNrO1xuICB9XG4gIHJldHVybiBuZXcgTWFza2VkQ2xhc3Mobk9wdHMpO1xufVxuSU1hc2suY3JlYXRlTWFzayA9IGNyZWF0ZU1hc2s7XG5cbmV4cG9ydCB7IGNyZWF0ZU1hc2sgYXMgZGVmYXVsdCwgbWFza2VkQ2xhc3MsIG5vcm1hbGl6ZU9wdHMgfTtcbiIsImltcG9ydCBNYXNrZWQgZnJvbSAnLi9iYXNlLmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi9jb3JlL2hvbGRlci5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NvbnRpbnVvdXMtdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCAnLi4vY29yZS91dGlscy5qcyc7XG5cbi8qKiBNYXNraW5nIGJ5IGN1c3RvbSBGdW5jdGlvbiAqL1xuY2xhc3MgTWFza2VkRnVuY3Rpb24gZXh0ZW5kcyBNYXNrZWQge1xuICAvKiogKi9cblxuICAvKiogRW5hYmxlIGNoYXJhY3RlcnMgb3ZlcndyaXRpbmcgKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICB1cGRhdGVPcHRpb25zKG9wdHMpIHtcbiAgICBzdXBlci51cGRhdGVPcHRpb25zKG9wdHMpO1xuICB9XG4gIF91cGRhdGUob3B0cykge1xuICAgIHN1cGVyLl91cGRhdGUoe1xuICAgICAgLi4ub3B0cyxcbiAgICAgIHZhbGlkYXRlOiBvcHRzLm1hc2tcbiAgICB9KTtcbiAgfVxufVxuSU1hc2suTWFza2VkRnVuY3Rpb24gPSBNYXNrZWRGdW5jdGlvbjtcblxuZXhwb3J0IHsgTWFza2VkRnVuY3Rpb24gYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgZXNjYXBlUmVnRXhwLCBESVJFQ1RJT04gfSBmcm9tICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCBDaGFuZ2VEZXRhaWxzIGZyb20gJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0IE1hc2tlZCBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5cbi8qKlxuICBOdW1iZXIgbWFza1xuKi9cbmNsYXNzIE1hc2tlZE51bWJlciBleHRlbmRzIE1hc2tlZCB7XG4gIC8qKiBTaW5nbGUgY2hhciAqL1xuXG4gIC8qKiBTaW5nbGUgY2hhciAqL1xuXG4gIC8qKiBBcnJheSBvZiBzaW5nbGUgY2hhcnMgKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICAvKiogRGlnaXRzIGFmdGVyIHBvaW50ICovXG5cbiAgLyoqIEZsYWcgdG8gcmVtb3ZlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHplcm9zIGluIHRoZSBlbmQgb2YgZWRpdGluZyAqL1xuXG4gIC8qKiBGbGFnIHRvIHBhZCB0cmFpbGluZyB6ZXJvcyBhZnRlciBwb2ludCBpbiB0aGUgZW5kIG9mIGVkaXRpbmcgKi9cblxuICAvKiogRW5hYmxlIGNoYXJhY3RlcnMgb3ZlcndyaXRpbmcgKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICAvKiogRm9ybWF0IHR5cGVkIHZhbHVlIHRvIHN0cmluZyAqL1xuXG4gIC8qKiBQYXJzZSBzdHJpbmcgdG8gZ2V0IHR5cGVkIHZhbHVlICovXG5cbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHN1cGVyKHtcbiAgICAgIC4uLk1hc2tlZE51bWJlci5ERUZBVUxUUyxcbiAgICAgIC4uLm9wdHNcbiAgICB9KTtcbiAgfVxuICB1cGRhdGVPcHRpb25zKG9wdHMpIHtcbiAgICBzdXBlci51cGRhdGVPcHRpb25zKG9wdHMpO1xuICB9XG4gIF91cGRhdGUob3B0cykge1xuICAgIHN1cGVyLl91cGRhdGUob3B0cyk7XG4gICAgdGhpcy5fdXBkYXRlUmVnRXhwcygpO1xuICB9XG4gIF91cGRhdGVSZWdFeHBzKCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gJ14nICsgKHRoaXMuYWxsb3dOZWdhdGl2ZSA/ICdbK3xcXFxcLV0/JyA6ICcnKTtcbiAgICBjb25zdCBtaWQgPSAnXFxcXGQqJztcbiAgICBjb25zdCBlbmQgPSAodGhpcy5zY2FsZSA/IFwiKFwiICsgZXNjYXBlUmVnRXhwKHRoaXMucmFkaXgpICsgXCJcXFxcZHswLFwiICsgdGhpcy5zY2FsZSArIFwifSk/XCIgOiAnJykgKyAnJCc7XG4gICAgdGhpcy5fbnVtYmVyUmVnRXhwID0gbmV3IFJlZ0V4cChzdGFydCArIG1pZCArIGVuZCk7XG4gICAgdGhpcy5fbWFwVG9SYWRpeFJlZ0V4cCA9IG5ldyBSZWdFeHAoXCJbXCIgKyB0aGlzLm1hcFRvUmFkaXgubWFwKGVzY2FwZVJlZ0V4cCkuam9pbignJykgKyBcIl1cIiwgJ2cnKTtcbiAgICB0aGlzLl90aG91c2FuZHNTZXBhcmF0b3JSZWdFeHAgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4cCh0aGlzLnRob3VzYW5kc1NlcGFyYXRvciksICdnJyk7XG4gIH1cbiAgX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnModmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSh0aGlzLl90aG91c2FuZHNTZXBhcmF0b3JSZWdFeHAsICcnKTtcbiAgfVxuICBfaW5zZXJ0VGhvdXNhbmRzU2VwYXJhdG9ycyh2YWx1ZSkge1xuICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI5MDExMDIvaG93LXRvLXByaW50LWEtbnVtYmVyLXdpdGgtY29tbWFzLWFzLXRob3VzYW5kcy1zZXBhcmF0b3JzLWluLWphdmFzY3JpcHRcbiAgICBjb25zdCBwYXJ0cyA9IHZhbHVlLnNwbGl0KHRoaXMucmFkaXgpO1xuICAgIHBhcnRzWzBdID0gcGFydHNbMF0ucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgdGhpcy50aG91c2FuZHNTZXBhcmF0b3IpO1xuICAgIHJldHVybiBwYXJ0cy5qb2luKHRoaXMucmFkaXgpO1xuICB9XG4gIGRvUHJlcGFyZUNoYXIoY2gsIGZsYWdzKSB7XG4gICAgaWYgKGZsYWdzID09PSB2b2lkIDApIHtcbiAgICAgIGZsYWdzID0ge307XG4gICAgfVxuICAgIGNoID0gdGhpcy5fcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyh0aGlzLnNjYWxlICYmIHRoaXMubWFwVG9SYWRpeC5sZW5ndGggJiYgKFxuICAgIC8qXG4gICAgICByYWRpeCBzaG91bGQgYmUgbWFwcGVkIHdoZW5cbiAgICAgIDEpIGlucHV0IGlzIGRvbmUgZnJvbSBrZXlib2FyZCA9IGZsYWdzLmlucHV0ICYmIGZsYWdzLnJhd1xuICAgICAgMikgdW5tYXNrZWQgdmFsdWUgaXMgc2V0ID0gIWZsYWdzLmlucHV0ICYmICFmbGFncy5yYXdcbiAgICAgIGFuZCBzaG91bGQgbm90IGJlIG1hcHBlZCB3aGVuXG4gICAgICAxKSB2YWx1ZSBpcyBzZXQgPSBmbGFncy5pbnB1dCAmJiAhZmxhZ3MucmF3XG4gICAgICAyKSByYXcgdmFsdWUgaXMgc2V0ID0gIWZsYWdzLmlucHV0ICYmIGZsYWdzLnJhd1xuICAgICovXG4gICAgZmxhZ3MuaW5wdXQgJiYgZmxhZ3MucmF3IHx8ICFmbGFncy5pbnB1dCAmJiAhZmxhZ3MucmF3KSA/IGNoLnJlcGxhY2UodGhpcy5fbWFwVG9SYWRpeFJlZ0V4cCwgdGhpcy5yYWRpeCkgOiBjaCk7XG4gICAgY29uc3QgW3ByZXBDaCwgZGV0YWlsc10gPSBzdXBlci5kb1ByZXBhcmVDaGFyKGNoLCBmbGFncyk7XG4gICAgaWYgKGNoICYmICFwcmVwQ2gpIGRldGFpbHMuc2tpcCA9IHRydWU7XG4gICAgaWYgKHByZXBDaCAmJiAhdGhpcy5hbGxvd1Bvc2l0aXZlICYmICF0aGlzLnZhbHVlICYmIHByZXBDaCAhPT0gJy0nKSBkZXRhaWxzLmFnZ3JlZ2F0ZSh0aGlzLl9hcHBlbmRDaGFyKCctJykpO1xuICAgIHJldHVybiBbcHJlcENoLCBkZXRhaWxzXTtcbiAgfVxuICBfc2VwYXJhdG9yc0NvdW50KHRvLCBleHRlbmRPblNlcGFyYXRvcnMpIHtcbiAgICBpZiAoZXh0ZW5kT25TZXBhcmF0b3JzID09PSB2b2lkIDApIHtcbiAgICAgIGV4dGVuZE9uU2VwYXJhdG9ycyA9IGZhbHNlO1xuICAgIH1cbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHRvOyArK3Bvcykge1xuICAgICAgaWYgKHRoaXMuX3ZhbHVlLmluZGV4T2YodGhpcy50aG91c2FuZHNTZXBhcmF0b3IsIHBvcykgPT09IHBvcykge1xuICAgICAgICArK2NvdW50O1xuICAgICAgICBpZiAoZXh0ZW5kT25TZXBhcmF0b3JzKSB0byArPSB0aGlzLnRob3VzYW5kc1NlcGFyYXRvci5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbiAgfVxuICBfc2VwYXJhdG9yc0NvdW50RnJvbVNsaWNlKHNsaWNlKSB7XG4gICAgaWYgKHNsaWNlID09PSB2b2lkIDApIHtcbiAgICAgIHNsaWNlID0gdGhpcy5fdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zZXBhcmF0b3JzQ291bnQodGhpcy5fcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyhzbGljZSkubGVuZ3RoLCB0cnVlKTtcbiAgfVxuICBleHRyYWN0SW5wdXQoZnJvbVBvcywgdG9Qb3MsIGZsYWdzKSB7XG4gICAgaWYgKGZyb21Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgZnJvbVBvcyA9IDA7XG4gICAgfVxuICAgIGlmICh0b1BvcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0b1BvcyA9IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICBbZnJvbVBvcywgdG9Qb3NdID0gdGhpcy5fYWRqdXN0UmFuZ2VXaXRoU2VwYXJhdG9ycyhmcm9tUG9zLCB0b1Bvcyk7XG4gICAgcmV0dXJuIHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnMoc3VwZXIuZXh0cmFjdElucHV0KGZyb21Qb3MsIHRvUG9zLCBmbGFncykpO1xuICB9XG4gIF9hcHBlbmRDaGFyUmF3KGNoLCBmbGFncykge1xuICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7XG4gICAgICBmbGFncyA9IHt9O1xuICAgIH1cbiAgICBpZiAoIXRoaXMudGhvdXNhbmRzU2VwYXJhdG9yKSByZXR1cm4gc3VwZXIuX2FwcGVuZENoYXJSYXcoY2gsIGZsYWdzKTtcbiAgICBjb25zdCBwcmV2QmVmb3JlVGFpbFZhbHVlID0gZmxhZ3MudGFpbCAmJiBmbGFncy5fYmVmb3JlVGFpbFN0YXRlID8gZmxhZ3MuX2JlZm9yZVRhaWxTdGF0ZS5fdmFsdWUgOiB0aGlzLl92YWx1ZTtcbiAgICBjb25zdCBwcmV2QmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCA9IHRoaXMuX3NlcGFyYXRvcnNDb3VudEZyb21TbGljZShwcmV2QmVmb3JlVGFpbFZhbHVlKTtcbiAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnModGhpcy52YWx1ZSk7XG4gICAgY29uc3QgYXBwZW5kRGV0YWlscyA9IHN1cGVyLl9hcHBlbmRDaGFyUmF3KGNoLCBmbGFncyk7XG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9pbnNlcnRUaG91c2FuZHNTZXBhcmF0b3JzKHRoaXMuX3ZhbHVlKTtcbiAgICBjb25zdCBiZWZvcmVUYWlsVmFsdWUgPSBmbGFncy50YWlsICYmIGZsYWdzLl9iZWZvcmVUYWlsU3RhdGUgPyBmbGFncy5fYmVmb3JlVGFpbFN0YXRlLl92YWx1ZSA6IHRoaXMuX3ZhbHVlO1xuICAgIGNvbnN0IGJlZm9yZVRhaWxTZXBhcmF0b3JzQ291bnQgPSB0aGlzLl9zZXBhcmF0b3JzQ291bnRGcm9tU2xpY2UoYmVmb3JlVGFpbFZhbHVlKTtcbiAgICBhcHBlbmREZXRhaWxzLnRhaWxTaGlmdCArPSAoYmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCAtIHByZXZCZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50KSAqIHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aDtcbiAgICBhcHBlbmREZXRhaWxzLnNraXAgPSAhYXBwZW5kRGV0YWlscy5yYXdJbnNlcnRlZCAmJiBjaCA9PT0gdGhpcy50aG91c2FuZHNTZXBhcmF0b3I7XG4gICAgcmV0dXJuIGFwcGVuZERldGFpbHM7XG4gIH1cbiAgX2ZpbmRTZXBhcmF0b3JBcm91bmQocG9zKSB7XG4gICAgaWYgKHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yKSB7XG4gICAgICBjb25zdCBzZWFyY2hGcm9tID0gcG9zIC0gdGhpcy50aG91c2FuZHNTZXBhcmF0b3IubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IHNlcGFyYXRvclBvcyA9IHRoaXMudmFsdWUuaW5kZXhPZih0aGlzLnRob3VzYW5kc1NlcGFyYXRvciwgc2VhcmNoRnJvbSk7XG4gICAgICBpZiAoc2VwYXJhdG9yUG9zIDw9IHBvcykgcmV0dXJuIHNlcGFyYXRvclBvcztcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIF9hZGp1c3RSYW5nZVdpdGhTZXBhcmF0b3JzKGZyb20sIHRvKSB7XG4gICAgY29uc3Qgc2VwYXJhdG9yQXJvdW5kRnJvbVBvcyA9IHRoaXMuX2ZpbmRTZXBhcmF0b3JBcm91bmQoZnJvbSk7XG4gICAgaWYgKHNlcGFyYXRvckFyb3VuZEZyb21Qb3MgPj0gMCkgZnJvbSA9IHNlcGFyYXRvckFyb3VuZEZyb21Qb3M7XG4gICAgY29uc3Qgc2VwYXJhdG9yQXJvdW5kVG9Qb3MgPSB0aGlzLl9maW5kU2VwYXJhdG9yQXJvdW5kKHRvKTtcbiAgICBpZiAoc2VwYXJhdG9yQXJvdW5kVG9Qb3MgPj0gMCkgdG8gPSBzZXBhcmF0b3JBcm91bmRUb1BvcyArIHRoaXMudGhvdXNhbmRzU2VwYXJhdG9yLmxlbmd0aDtcbiAgICByZXR1cm4gW2Zyb20sIHRvXTtcbiAgfVxuICByZW1vdmUoZnJvbVBvcywgdG9Qb3MpIHtcbiAgICBpZiAoZnJvbVBvcyA9PT0gdm9pZCAwKSB7XG4gICAgICBmcm9tUG9zID0gMDtcbiAgICB9XG4gICAgaWYgKHRvUG9zID09PSB2b2lkIDApIHtcbiAgICAgIHRvUG9zID0gdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgfVxuICAgIFtmcm9tUG9zLCB0b1Bvc10gPSB0aGlzLl9hZGp1c3RSYW5nZVdpdGhTZXBhcmF0b3JzKGZyb21Qb3MsIHRvUG9zKTtcbiAgICBjb25zdCB2YWx1ZUJlZm9yZVBvcyA9IHRoaXMudmFsdWUuc2xpY2UoMCwgZnJvbVBvcyk7XG4gICAgY29uc3QgdmFsdWVBZnRlclBvcyA9IHRoaXMudmFsdWUuc2xpY2UodG9Qb3MpO1xuICAgIGNvbnN0IHByZXZCZWZvcmVUYWlsU2VwYXJhdG9yc0NvdW50ID0gdGhpcy5fc2VwYXJhdG9yc0NvdW50KHZhbHVlQmVmb3JlUG9zLmxlbmd0aCk7XG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9pbnNlcnRUaG91c2FuZHNTZXBhcmF0b3JzKHRoaXMuX3JlbW92ZVRob3VzYW5kc1NlcGFyYXRvcnModmFsdWVCZWZvcmVQb3MgKyB2YWx1ZUFmdGVyUG9zKSk7XG4gICAgY29uc3QgYmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCA9IHRoaXMuX3NlcGFyYXRvcnNDb3VudEZyb21TbGljZSh2YWx1ZUJlZm9yZVBvcyk7XG4gICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKHtcbiAgICAgIHRhaWxTaGlmdDogKGJlZm9yZVRhaWxTZXBhcmF0b3JzQ291bnQgLSBwcmV2QmVmb3JlVGFpbFNlcGFyYXRvcnNDb3VudCkgKiB0aGlzLnRob3VzYW5kc1NlcGFyYXRvci5sZW5ndGhcbiAgICB9KTtcbiAgfVxuICBuZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zLCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoIXRoaXMudGhvdXNhbmRzU2VwYXJhdG9yKSByZXR1cm4gY3Vyc29yUG9zO1xuICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIERJUkVDVElPTi5OT05FOlxuICAgICAgY2FzZSBESVJFQ1RJT04uTEVGVDpcbiAgICAgIGNhc2UgRElSRUNUSU9OLkZPUkNFX0xFRlQ6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBzZXBhcmF0b3JBdExlZnRQb3MgPSB0aGlzLl9maW5kU2VwYXJhdG9yQXJvdW5kKGN1cnNvclBvcyAtIDEpO1xuICAgICAgICAgIGlmIChzZXBhcmF0b3JBdExlZnRQb3MgPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc2VwYXJhdG9yQXRMZWZ0RW5kUG9zID0gc2VwYXJhdG9yQXRMZWZ0UG9zICsgdGhpcy50aG91c2FuZHNTZXBhcmF0b3IubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGN1cnNvclBvcyA8IHNlcGFyYXRvckF0TGVmdEVuZFBvcyB8fCB0aGlzLnZhbHVlLmxlbmd0aCA8PSBzZXBhcmF0b3JBdExlZnRFbmRQb3MgfHwgZGlyZWN0aW9uID09PSBESVJFQ1RJT04uRk9SQ0VfTEVGVCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2VwYXJhdG9yQXRMZWZ0UG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBESVJFQ1RJT04uUklHSFQ6XG4gICAgICBjYXNlIERJUkVDVElPTi5GT1JDRV9SSUdIVDpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IHNlcGFyYXRvckF0UmlnaHRQb3MgPSB0aGlzLl9maW5kU2VwYXJhdG9yQXJvdW5kKGN1cnNvclBvcyk7XG4gICAgICAgICAgaWYgKHNlcGFyYXRvckF0UmlnaHRQb3MgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlcGFyYXRvckF0UmlnaHRQb3MgKyB0aGlzLnRob3VzYW5kc1NlcGFyYXRvci5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjdXJzb3JQb3M7XG4gIH1cbiAgZG9WYWxpZGF0ZShmbGFncykge1xuICAgIC8vIHZhbGlkYXRlIGFzIHN0cmluZ1xuICAgIGxldCB2YWxpZCA9IEJvb2xlYW4odGhpcy5fcmVtb3ZlVGhvdXNhbmRzU2VwYXJhdG9ycyh0aGlzLnZhbHVlKS5tYXRjaCh0aGlzLl9udW1iZXJSZWdFeHApKTtcbiAgICBpZiAodmFsaWQpIHtcbiAgICAgIC8vIHZhbGlkYXRlIGFzIG51bWJlclxuICAgICAgY29uc3QgbnVtYmVyID0gdGhpcy5udW1iZXI7XG4gICAgICB2YWxpZCA9IHZhbGlkICYmICFpc05hTihudW1iZXIpICYmIChcbiAgICAgIC8vIGNoZWNrIG1pbiBib3VuZCBmb3IgbmVnYXRpdmUgdmFsdWVzXG4gICAgICB0aGlzLm1pbiA9PSBudWxsIHx8IHRoaXMubWluID49IDAgfHwgdGhpcy5taW4gPD0gdGhpcy5udW1iZXIpICYmIChcbiAgICAgIC8vIGNoZWNrIG1heCBib3VuZCBmb3IgcG9zaXRpdmUgdmFsdWVzXG4gICAgICB0aGlzLm1heCA9PSBudWxsIHx8IHRoaXMubWF4IDw9IDAgfHwgdGhpcy5udW1iZXIgPD0gdGhpcy5tYXgpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWQgJiYgc3VwZXIuZG9WYWxpZGF0ZShmbGFncyk7XG4gIH1cbiAgZG9Db21taXQoKSB7XG4gICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgIGNvbnN0IG51bWJlciA9IHRoaXMubnVtYmVyO1xuICAgICAgbGV0IHZhbGlkbnVtID0gbnVtYmVyO1xuXG4gICAgICAvLyBjaGVjayBib3VuZHNcbiAgICAgIGlmICh0aGlzLm1pbiAhPSBudWxsKSB2YWxpZG51bSA9IE1hdGgubWF4KHZhbGlkbnVtLCB0aGlzLm1pbik7XG4gICAgICBpZiAodGhpcy5tYXggIT0gbnVsbCkgdmFsaWRudW0gPSBNYXRoLm1pbih2YWxpZG51bSwgdGhpcy5tYXgpO1xuICAgICAgaWYgKHZhbGlkbnVtICE9PSBudW1iZXIpIHRoaXMudW5tYXNrZWRWYWx1ZSA9IHRoaXMuZm9ybWF0KHZhbGlkbnVtLCB0aGlzKTtcbiAgICAgIGxldCBmb3JtYXR0ZWQgPSB0aGlzLnZhbHVlO1xuICAgICAgaWYgKHRoaXMubm9ybWFsaXplWmVyb3MpIGZvcm1hdHRlZCA9IHRoaXMuX25vcm1hbGl6ZVplcm9zKGZvcm1hdHRlZCk7XG4gICAgICBpZiAodGhpcy5wYWRGcmFjdGlvbmFsWmVyb3MgJiYgdGhpcy5zY2FsZSA+IDApIGZvcm1hdHRlZCA9IHRoaXMuX3BhZEZyYWN0aW9uYWxaZXJvcyhmb3JtYXR0ZWQpO1xuICAgICAgdGhpcy5fdmFsdWUgPSBmb3JtYXR0ZWQ7XG4gICAgfVxuICAgIHN1cGVyLmRvQ29tbWl0KCk7XG4gIH1cbiAgX25vcm1hbGl6ZVplcm9zKHZhbHVlKSB7XG4gICAgY29uc3QgcGFydHMgPSB0aGlzLl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHZhbHVlKS5zcGxpdCh0aGlzLnJhZGl4KTtcblxuICAgIC8vIHJlbW92ZSBsZWFkaW5nIHplcm9zXG4gICAgcGFydHNbMF0gPSBwYXJ0c1swXS5yZXBsYWNlKC9eKFxcRCopKDAqKShcXGQqKS8sIChtYXRjaCwgc2lnbiwgemVyb3MsIG51bSkgPT4gc2lnbiArIG51bSk7XG4gICAgLy8gYWRkIGxlYWRpbmcgemVyb1xuICAgIGlmICh2YWx1ZS5sZW5ndGggJiYgIS9cXGQkLy50ZXN0KHBhcnRzWzBdKSkgcGFydHNbMF0gPSBwYXJ0c1swXSArICcwJztcbiAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgcGFydHNbMV0gPSBwYXJ0c1sxXS5yZXBsYWNlKC8wKiQvLCAnJyk7IC8vIHJlbW92ZSB0cmFpbGluZyB6ZXJvc1xuICAgICAgaWYgKCFwYXJ0c1sxXS5sZW5ndGgpIHBhcnRzLmxlbmd0aCA9IDE7IC8vIHJlbW92ZSBmcmFjdGlvbmFsXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2luc2VydFRob3VzYW5kc1NlcGFyYXRvcnMocGFydHMuam9pbih0aGlzLnJhZGl4KSk7XG4gIH1cbiAgX3BhZEZyYWN0aW9uYWxaZXJvcyh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHJldHVybiB2YWx1ZTtcbiAgICBjb25zdCBwYXJ0cyA9IHZhbHVlLnNwbGl0KHRoaXMucmFkaXgpO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggPCAyKSBwYXJ0cy5wdXNoKCcnKTtcbiAgICBwYXJ0c1sxXSA9IHBhcnRzWzFdLnBhZEVuZCh0aGlzLnNjYWxlLCAnMCcpO1xuICAgIHJldHVybiBwYXJ0cy5qb2luKHRoaXMucmFkaXgpO1xuICB9XG4gIGRvU2tpcEludmFsaWQoY2gsIGZsYWdzLCBjaGVja1RhaWwpIHtcbiAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkge1xuICAgICAgZmxhZ3MgPSB7fTtcbiAgICB9XG4gICAgY29uc3QgZHJvcEZyYWN0aW9uYWwgPSB0aGlzLnNjYWxlID09PSAwICYmIGNoICE9PSB0aGlzLnRob3VzYW5kc1NlcGFyYXRvciAmJiAoY2ggPT09IHRoaXMucmFkaXggfHwgY2ggPT09IE1hc2tlZE51bWJlci5VTk1BU0tFRF9SQURJWCB8fCB0aGlzLm1hcFRvUmFkaXguaW5jbHVkZXMoY2gpKTtcbiAgICByZXR1cm4gc3VwZXIuZG9Ta2lwSW52YWxpZChjaCwgZmxhZ3MsIGNoZWNrVGFpbCkgJiYgIWRyb3BGcmFjdGlvbmFsO1xuICB9XG4gIGdldCB1bm1hc2tlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9yZW1vdmVUaG91c2FuZHNTZXBhcmF0b3JzKHRoaXMuX25vcm1hbGl6ZVplcm9zKHRoaXMudmFsdWUpKS5yZXBsYWNlKHRoaXMucmFkaXgsIE1hc2tlZE51bWJlci5VTk1BU0tFRF9SQURJWCk7XG4gIH1cbiAgc2V0IHVubWFza2VkVmFsdWUodW5tYXNrZWRWYWx1ZSkge1xuICAgIHN1cGVyLnVubWFza2VkVmFsdWUgPSB1bm1hc2tlZFZhbHVlO1xuICB9XG4gIGdldCB0eXBlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnBhcnNlKHRoaXMudW5tYXNrZWRWYWx1ZSwgdGhpcyk7XG4gIH1cbiAgc2V0IHR5cGVkVmFsdWUobikge1xuICAgIHRoaXMucmF3SW5wdXRWYWx1ZSA9IHRoaXMuZm9ybWF0KG4sIHRoaXMpLnJlcGxhY2UoTWFza2VkTnVtYmVyLlVOTUFTS0VEX1JBRElYLCB0aGlzLnJhZGl4KTtcbiAgfVxuXG4gIC8qKiBQYXJzZWQgTnVtYmVyICovXG4gIGdldCBudW1iZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZWRWYWx1ZTtcbiAgfVxuICBzZXQgbnVtYmVyKG51bWJlcikge1xuICAgIHRoaXMudHlwZWRWYWx1ZSA9IG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgIElzIG5lZ2F0aXZlIGFsbG93ZWRcbiAgKi9cbiAgZ2V0IGFsbG93TmVnYXRpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWluICE9IG51bGwgJiYgdGhpcy5taW4gPCAwIHx8IHRoaXMubWF4ICE9IG51bGwgJiYgdGhpcy5tYXggPCAwO1xuICB9XG5cbiAgLyoqXG4gICAgSXMgcG9zaXRpdmUgYWxsb3dlZFxuICAqL1xuICBnZXQgYWxsb3dQb3NpdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5taW4gIT0gbnVsbCAmJiB0aGlzLm1pbiA+IDAgfHwgdGhpcy5tYXggIT0gbnVsbCAmJiB0aGlzLm1heCA+IDA7XG4gIH1cbiAgdHlwZWRWYWx1ZUVxdWFscyh2YWx1ZSkge1xuICAgIC8vIGhhbmRsZSAgMCAtPiAnJyBjYXNlICh0eXBlZCA9IDAgZXZlbiBpZiB2YWx1ZSA9ICcnKVxuICAgIC8vIGZvciBkZXRhaWxzIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdU5tQW5OZVIvaW1hc2tqcy9pc3N1ZXMvMTM0XG4gICAgcmV0dXJuIChzdXBlci50eXBlZFZhbHVlRXF1YWxzKHZhbHVlKSB8fCBNYXNrZWROdW1iZXIuRU1QVFlfVkFMVUVTLmluY2x1ZGVzKHZhbHVlKSAmJiBNYXNrZWROdW1iZXIuRU1QVFlfVkFMVUVTLmluY2x1ZGVzKHRoaXMudHlwZWRWYWx1ZSkpICYmICEodmFsdWUgPT09IDAgJiYgdGhpcy52YWx1ZSA9PT0gJycpO1xuICB9XG59XG5NYXNrZWROdW1iZXIuVU5NQVNLRURfUkFESVggPSAnLic7XG5NYXNrZWROdW1iZXIuRU1QVFlfVkFMVUVTID0gWy4uLk1hc2tlZC5FTVBUWV9WQUxVRVMsIDBdO1xuTWFza2VkTnVtYmVyLkRFRkFVTFRTID0ge1xuICBtYXNrOiBOdW1iZXIsXG4gIHJhZGl4OiAnLCcsXG4gIHRob3VzYW5kc1NlcGFyYXRvcjogJycsXG4gIG1hcFRvUmFkaXg6IFtNYXNrZWROdW1iZXIuVU5NQVNLRURfUkFESVhdLFxuICBtaW46IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICBtYXg6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICBzY2FsZTogMixcbiAgbm9ybWFsaXplWmVyb3M6IHRydWUsXG4gIHBhZEZyYWN0aW9uYWxaZXJvczogZmFsc2UsXG4gIHBhcnNlOiBOdW1iZXIsXG4gIGZvcm1hdDogbiA9PiBuLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHtcbiAgICB1c2VHcm91cGluZzogZmFsc2UsXG4gICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyMFxuICB9KVxufTtcbklNYXNrLk1hc2tlZE51bWJlciA9IE1hc2tlZE51bWJlcjtcblxuZXhwb3J0IHsgTWFza2VkTnVtYmVyIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBDaGFuZ2VEZXRhaWxzIGZyb20gJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCB7IERJUkVDVElPTiB9IGZyb20gJy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0IE1hc2tlZCBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0IGNyZWF0ZU1hc2ssIHsgbm9ybWFsaXplT3B0cyB9IGZyb20gJy4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgQ2h1bmtzVGFpbERldGFpbHMgZnJvbSAnLi9wYXR0ZXJuL2NodW5rLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgUGF0dGVybkN1cnNvciBmcm9tICcuL3BhdHRlcm4vY3Vyc29yLmpzJztcbmltcG9ydCBQYXR0ZXJuRml4ZWREZWZpbml0aW9uIGZyb20gJy4vcGF0dGVybi9maXhlZC1kZWZpbml0aW9uLmpzJztcbmltcG9ydCBQYXR0ZXJuSW5wdXREZWZpbml0aW9uIGZyb20gJy4vcGF0dGVybi9pbnB1dC1kZWZpbml0aW9uLmpzJztcbmltcG9ydCAnLi9yZWdleHAuanMnO1xuaW1wb3J0ICcuLi9jb3JlL2NvbnRpbnVvdXMtdGFpbC1kZXRhaWxzLmpzJztcblxuLyoqIFBhdHRlcm4gbWFzayAqL1xuY2xhc3MgTWFza2VkUGF0dGVybiBleHRlbmRzIE1hc2tlZCB7XG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiBTaW5nbGUgY2hhciBmb3IgZW1wdHkgaW5wdXQgKi9cblxuICAvKiogU2luZ2xlIGNoYXIgZm9yIGZpbGxlZCBpbnB1dCAqL1xuXG4gIC8qKiBTaG93IHBsYWNlaG9sZGVyIG9ubHkgd2hlbiBuZWVkZWQgKi9cblxuICAvKiogRW5hYmxlIGNoYXJhY3RlcnMgb3ZlcndyaXRpbmcgKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgc3VwZXIoe1xuICAgICAgLi4uTWFza2VkUGF0dGVybi5ERUZBVUxUUyxcbiAgICAgIC4uLm9wdHMsXG4gICAgICBkZWZpbml0aW9uczogT2JqZWN0LmFzc2lnbih7fSwgUGF0dGVybklucHV0RGVmaW5pdGlvbi5ERUZBVUxUX0RFRklOSVRJT05TLCBvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLmRlZmluaXRpb25zKVxuICAgIH0pO1xuICB9XG4gIHVwZGF0ZU9wdGlvbnMob3B0cykge1xuICAgIHN1cGVyLnVwZGF0ZU9wdGlvbnMob3B0cyk7XG4gIH1cbiAgX3VwZGF0ZShvcHRzKSB7XG4gICAgb3B0cy5kZWZpbml0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmaW5pdGlvbnMsIG9wdHMuZGVmaW5pdGlvbnMpO1xuICAgIHN1cGVyLl91cGRhdGUob3B0cyk7XG4gICAgdGhpcy5fcmVidWlsZE1hc2soKTtcbiAgfVxuICBfcmVidWlsZE1hc2soKSB7XG4gICAgY29uc3QgZGVmcyA9IHRoaXMuZGVmaW5pdGlvbnM7XG4gICAgdGhpcy5fYmxvY2tzID0gW107XG4gICAgdGhpcy5fc3RvcHMgPSBbXTtcbiAgICB0aGlzLl9tYXNrZWRCbG9ja3MgPSB7fTtcbiAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5tYXNrO1xuICAgIGlmICghcGF0dGVybiB8fCAhZGVmcykgcmV0dXJuO1xuICAgIGxldCB1bm1hc2tpbmdCbG9jayA9IGZhbHNlO1xuICAgIGxldCBvcHRpb25hbEJsb2NrID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAodGhpcy5ibG9ja3MpIHtcbiAgICAgICAgY29uc3QgcCA9IHBhdHRlcm4uc2xpY2UoaSk7XG4gICAgICAgIGNvbnN0IGJOYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMuYmxvY2tzKS5maWx0ZXIoYk5hbWUgPT4gcC5pbmRleE9mKGJOYW1lKSA9PT0gMCk7XG4gICAgICAgIC8vIG9yZGVyIGJ5IGtleSBsZW5ndGhcbiAgICAgICAgYk5hbWVzLnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xuICAgICAgICAvLyB1c2UgYmxvY2sgbmFtZSB3aXRoIG1heCBsZW5ndGhcbiAgICAgICAgY29uc3QgYk5hbWUgPSBiTmFtZXNbMF07XG4gICAgICAgIGlmIChiTmFtZSkge1xuICAgICAgICAgIGNvbnN0IG1hc2tlZEJsb2NrID0gY3JlYXRlTWFzayh7XG4gICAgICAgICAgICBsYXp5OiB0aGlzLmxhenksXG4gICAgICAgICAgICBlYWdlcjogdGhpcy5lYWdlcixcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyQ2hhcjogdGhpcy5wbGFjZWhvbGRlckNoYXIsXG4gICAgICAgICAgICBkaXNwbGF5Q2hhcjogdGhpcy5kaXNwbGF5Q2hhcixcbiAgICAgICAgICAgIG92ZXJ3cml0ZTogdGhpcy5vdmVyd3JpdGUsXG4gICAgICAgICAgICAuLi5ub3JtYWxpemVPcHRzKHRoaXMuYmxvY2tzW2JOYW1lXSksXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAobWFza2VkQmxvY2spIHtcbiAgICAgICAgICAgIHRoaXMuX2Jsb2Nrcy5wdXNoKG1hc2tlZEJsb2NrKTtcblxuICAgICAgICAgICAgLy8gc3RvcmUgYmxvY2sgaW5kZXhcbiAgICAgICAgICAgIGlmICghdGhpcy5fbWFza2VkQmxvY2tzW2JOYW1lXSkgdGhpcy5fbWFza2VkQmxvY2tzW2JOYW1lXSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWFza2VkQmxvY2tzW2JOYW1lXS5wdXNoKHRoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaSArPSBiTmFtZS5sZW5ndGggLSAxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgY2hhciA9IHBhdHRlcm5baV07XG4gICAgICBsZXQgaXNJbnB1dCA9IChjaGFyIGluIGRlZnMpO1xuICAgICAgaWYgKGNoYXIgPT09IE1hc2tlZFBhdHRlcm4uU1RPUF9DSEFSKSB7XG4gICAgICAgIHRoaXMuX3N0b3BzLnB1c2godGhpcy5fYmxvY2tzLmxlbmd0aCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGNoYXIgPT09ICd7JyB8fCBjaGFyID09PSAnfScpIHtcbiAgICAgICAgdW5tYXNraW5nQmxvY2sgPSAhdW5tYXNraW5nQmxvY2s7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGNoYXIgPT09ICdbJyB8fCBjaGFyID09PSAnXScpIHtcbiAgICAgICAgb3B0aW9uYWxCbG9jayA9ICFvcHRpb25hbEJsb2NrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGFyID09PSBNYXNrZWRQYXR0ZXJuLkVTQ0FQRV9DSEFSKSB7XG4gICAgICAgICsraTtcbiAgICAgICAgY2hhciA9IHBhdHRlcm5baV07XG4gICAgICAgIGlmICghY2hhcikgYnJlYWs7XG4gICAgICAgIGlzSW5wdXQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlZiA9IGlzSW5wdXQgPyBuZXcgUGF0dGVybklucHV0RGVmaW5pdGlvbih7XG4gICAgICAgIGlzT3B0aW9uYWw6IG9wdGlvbmFsQmxvY2ssXG4gICAgICAgIGxhenk6IHRoaXMubGF6eSxcbiAgICAgICAgZWFnZXI6IHRoaXMuZWFnZXIsXG4gICAgICAgIHBsYWNlaG9sZGVyQ2hhcjogdGhpcy5wbGFjZWhvbGRlckNoYXIsXG4gICAgICAgIGRpc3BsYXlDaGFyOiB0aGlzLmRpc3BsYXlDaGFyLFxuICAgICAgICAuLi5ub3JtYWxpemVPcHRzKGRlZnNbY2hhcl0pLFxuICAgICAgICBwYXJlbnQ6IHRoaXNcbiAgICAgIH0pIDogbmV3IFBhdHRlcm5GaXhlZERlZmluaXRpb24oe1xuICAgICAgICBjaGFyLFxuICAgICAgICBlYWdlcjogdGhpcy5lYWdlcixcbiAgICAgICAgaXNVbm1hc2tpbmc6IHVubWFza2luZ0Jsb2NrXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2Jsb2Nrcy5wdXNoKGRlZik7XG4gICAgfVxuICB9XG4gIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIuc3RhdGUsXG4gICAgICBfYmxvY2tzOiB0aGlzLl9ibG9ja3MubWFwKGIgPT4gYi5zdGF0ZSlcbiAgICB9O1xuICB9XG4gIHNldCBzdGF0ZShzdGF0ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIF9ibG9ja3MsXG4gICAgICAuLi5tYXNrZWRTdGF0ZVxuICAgIH0gPSBzdGF0ZTtcbiAgICB0aGlzLl9ibG9ja3MuZm9yRWFjaCgoYiwgYmkpID0+IGIuc3RhdGUgPSBfYmxvY2tzW2JpXSk7XG4gICAgc3VwZXIuc3RhdGUgPSBtYXNrZWRTdGF0ZTtcbiAgfVxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuICAgIHRoaXMuX2Jsb2Nrcy5mb3JFYWNoKGIgPT4gYi5yZXNldCgpKTtcbiAgfVxuICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLmV2ZXJ5KGIgPT4gYi5pc0NvbXBsZXRlKTtcbiAgfVxuICBnZXQgaXNGaWxsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5ldmVyeShiID0+IGIuaXNGaWxsZWQpO1xuICB9XG4gIGdldCBpc0ZpeGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3MuZXZlcnkoYiA9PiBiLmlzRml4ZWQpO1xuICB9XG4gIGdldCBpc09wdGlvbmFsKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3MuZXZlcnkoYiA9PiBiLmlzT3B0aW9uYWwpO1xuICB9XG4gIGRvQ29tbWl0KCkge1xuICAgIHRoaXMuX2Jsb2Nrcy5mb3JFYWNoKGIgPT4gYi5kb0NvbW1pdCgpKTtcbiAgICBzdXBlci5kb0NvbW1pdCgpO1xuICB9XG4gIGdldCB1bm1hc2tlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3MucmVkdWNlKChzdHIsIGIpID0+IHN0ciArPSBiLnVubWFza2VkVmFsdWUsICcnKTtcbiAgfVxuICBzZXQgdW5tYXNrZWRWYWx1ZSh1bm1hc2tlZFZhbHVlKSB7XG4gICAgc3VwZXIudW5tYXNrZWRWYWx1ZSA9IHVubWFza2VkVmFsdWU7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIC8vIFRPRE8gcmV0dXJuIF92YWx1ZSB3aGVuIG5vdCBpbiBjaGFuZ2U/XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5yZWR1Y2UoKHN0ciwgYikgPT4gc3RyICs9IGIudmFsdWUsICcnKTtcbiAgfVxuICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICBzdXBlci52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIGdldCBkaXNwbGF5VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5yZWR1Y2UoKHN0ciwgYikgPT4gc3RyICs9IGIuZGlzcGxheVZhbHVlLCAnJyk7XG4gIH1cbiAgYXBwZW5kVGFpbCh0YWlsKSB7XG4gICAgcmV0dXJuIHN1cGVyLmFwcGVuZFRhaWwodGFpbCkuYWdncmVnYXRlKHRoaXMuX2FwcGVuZFBsYWNlaG9sZGVyKCkpO1xuICB9XG4gIF9hcHBlbmRFYWdlcigpIHtcbiAgICB2YXIgX3RoaXMkX21hcFBvc1RvQmxvY2s7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgbGV0IHN0YXJ0QmxvY2tJbmRleCA9IChfdGhpcyRfbWFwUG9zVG9CbG9jayA9IHRoaXMuX21hcFBvc1RvQmxvY2sodGhpcy52YWx1ZS5sZW5ndGgpKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkX21hcFBvc1RvQmxvY2suaW5kZXg7XG4gICAgaWYgKHN0YXJ0QmxvY2tJbmRleCA9PSBudWxsKSByZXR1cm4gZGV0YWlscztcblxuICAgIC8vIFRPRE8gdGVzdCBpZiBpdCB3b3JrcyBmb3IgbmVzdGVkIHBhdHRlcm4gbWFza3NcbiAgICBpZiAodGhpcy5fYmxvY2tzW3N0YXJ0QmxvY2tJbmRleF0uaXNGaWxsZWQpICsrc3RhcnRCbG9ja0luZGV4O1xuICAgIGZvciAobGV0IGJpID0gc3RhcnRCbG9ja0luZGV4OyBiaSA8IHRoaXMuX2Jsb2Nrcy5sZW5ndGg7ICsrYmkpIHtcbiAgICAgIGNvbnN0IGQgPSB0aGlzLl9ibG9ja3NbYmldLl9hcHBlbmRFYWdlcigpO1xuICAgICAgaWYgKCFkLmluc2VydGVkKSBicmVhaztcbiAgICAgIGRldGFpbHMuYWdncmVnYXRlKGQpO1xuICAgIH1cbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuICBfYXBwZW5kQ2hhclJhdyhjaCwgZmxhZ3MpIHtcbiAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkge1xuICAgICAgZmxhZ3MgPSB7fTtcbiAgICB9XG4gICAgY29uc3QgYmxvY2tJdGVyID0gdGhpcy5fbWFwUG9zVG9CbG9jayh0aGlzLnZhbHVlLmxlbmd0aCk7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgaWYgKCFibG9ja0l0ZXIpIHJldHVybiBkZXRhaWxzO1xuICAgIGZvciAobGV0IGJpID0gYmxvY2tJdGVyLmluZGV4OzsgKytiaSkge1xuICAgICAgdmFyIF9mbGFncyRfYmVmb3JlVGFpbFN0YSwgX2ZsYWdzJF9iZWZvcmVUYWlsU3RhMjtcbiAgICAgIGNvbnN0IGJsb2NrID0gdGhpcy5fYmxvY2tzW2JpXTtcbiAgICAgIGlmICghYmxvY2spIGJyZWFrO1xuICAgICAgY29uc3QgYmxvY2tEZXRhaWxzID0gYmxvY2suX2FwcGVuZENoYXIoY2gsIHtcbiAgICAgICAgLi4uZmxhZ3MsXG4gICAgICAgIF9iZWZvcmVUYWlsU3RhdGU6IChfZmxhZ3MkX2JlZm9yZVRhaWxTdGEgPSBmbGFncy5fYmVmb3JlVGFpbFN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogKF9mbGFncyRfYmVmb3JlVGFpbFN0YTIgPSBfZmxhZ3MkX2JlZm9yZVRhaWxTdGEuX2Jsb2NrcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mbGFncyRfYmVmb3JlVGFpbFN0YTJbYmldXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHNraXAgPSBibG9ja0RldGFpbHMuc2tpcDtcbiAgICAgIGRldGFpbHMuYWdncmVnYXRlKGJsb2NrRGV0YWlscyk7XG4gICAgICBpZiAoc2tpcCB8fCBibG9ja0RldGFpbHMucmF3SW5zZXJ0ZWQpIGJyZWFrOyAvLyBnbyBuZXh0IGNoYXJcbiAgICB9XG5cbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuICBleHRyYWN0VGFpbChmcm9tUG9zLCB0b1Bvcykge1xuICAgIGlmIChmcm9tUG9zID09PSB2b2lkIDApIHtcbiAgICAgIGZyb21Qb3MgPSAwO1xuICAgIH1cbiAgICBpZiAodG9Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgdG9Qb3MgPSB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgY29uc3QgY2h1bmtUYWlsID0gbmV3IENodW5rc1RhaWxEZXRhaWxzKCk7XG4gICAgaWYgKGZyb21Qb3MgPT09IHRvUG9zKSByZXR1cm4gY2h1bmtUYWlsO1xuICAgIHRoaXMuX2ZvckVhY2hCbG9ja3NJblJhbmdlKGZyb21Qb3MsIHRvUG9zLCAoYiwgYmksIGJGcm9tUG9zLCBiVG9Qb3MpID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrQ2h1bmsgPSBiLmV4dHJhY3RUYWlsKGJGcm9tUG9zLCBiVG9Qb3MpO1xuICAgICAgYmxvY2tDaHVuay5zdG9wID0gdGhpcy5fZmluZFN0b3BCZWZvcmUoYmkpO1xuICAgICAgYmxvY2tDaHVuay5mcm9tID0gdGhpcy5fYmxvY2tTdGFydFBvcyhiaSk7XG4gICAgICBpZiAoYmxvY2tDaHVuayBpbnN0YW5jZW9mIENodW5rc1RhaWxEZXRhaWxzKSBibG9ja0NodW5rLmJsb2NrSW5kZXggPSBiaTtcbiAgICAgIGNodW5rVGFpbC5leHRlbmQoYmxvY2tDaHVuayk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNodW5rVGFpbDtcbiAgfVxuICBleHRyYWN0SW5wdXQoZnJvbVBvcywgdG9Qb3MsIGZsYWdzKSB7XG4gICAgaWYgKGZyb21Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgZnJvbVBvcyA9IDA7XG4gICAgfVxuICAgIGlmICh0b1BvcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0b1BvcyA9IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkge1xuICAgICAgZmxhZ3MgPSB7fTtcbiAgICB9XG4gICAgaWYgKGZyb21Qb3MgPT09IHRvUG9zKSByZXR1cm4gJyc7XG4gICAgbGV0IGlucHV0ID0gJyc7XG4gICAgdGhpcy5fZm9yRWFjaEJsb2Nrc0luUmFuZ2UoZnJvbVBvcywgdG9Qb3MsIChiLCBfLCBmcm9tUG9zLCB0b1BvcykgPT4ge1xuICAgICAgaW5wdXQgKz0gYi5leHRyYWN0SW5wdXQoZnJvbVBvcywgdG9Qb3MsIGZsYWdzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cbiAgX2ZpbmRTdG9wQmVmb3JlKGJsb2NrSW5kZXgpIHtcbiAgICBsZXQgc3RvcEJlZm9yZTtcbiAgICBmb3IgKGxldCBzaSA9IDA7IHNpIDwgdGhpcy5fc3RvcHMubGVuZ3RoOyArK3NpKSB7XG4gICAgICBjb25zdCBzdG9wID0gdGhpcy5fc3RvcHNbc2ldO1xuICAgICAgaWYgKHN0b3AgPD0gYmxvY2tJbmRleCkgc3RvcEJlZm9yZSA9IHN0b3A7ZWxzZSBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHN0b3BCZWZvcmU7XG4gIH1cblxuICAvKiogQXBwZW5kcyBwbGFjZWhvbGRlciBkZXBlbmRpbmcgb24gbGF6aW5lc3MgKi9cbiAgX2FwcGVuZFBsYWNlaG9sZGVyKHRvQmxvY2tJbmRleCkge1xuICAgIGNvbnN0IGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICAgIGlmICh0aGlzLmxhenkgJiYgdG9CbG9ja0luZGV4ID09IG51bGwpIHJldHVybiBkZXRhaWxzO1xuICAgIGNvbnN0IHN0YXJ0QmxvY2tJdGVyID0gdGhpcy5fbWFwUG9zVG9CbG9jayh0aGlzLnZhbHVlLmxlbmd0aCk7XG4gICAgaWYgKCFzdGFydEJsb2NrSXRlcikgcmV0dXJuIGRldGFpbHM7XG4gICAgY29uc3Qgc3RhcnRCbG9ja0luZGV4ID0gc3RhcnRCbG9ja0l0ZXIuaW5kZXg7XG4gICAgY29uc3QgZW5kQmxvY2tJbmRleCA9IHRvQmxvY2tJbmRleCAhPSBudWxsID8gdG9CbG9ja0luZGV4IDogdGhpcy5fYmxvY2tzLmxlbmd0aDtcbiAgICB0aGlzLl9ibG9ja3Muc2xpY2Uoc3RhcnRCbG9ja0luZGV4LCBlbmRCbG9ja0luZGV4KS5mb3JFYWNoKGIgPT4ge1xuICAgICAgaWYgKCFiLmxhenkgfHwgdG9CbG9ja0luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIF9ibG9ja3MyO1xuICAgICAgICBjb25zdCBiRGV0YWlscyA9IGIuX2FwcGVuZFBsYWNlaG9sZGVyKChfYmxvY2tzMiA9IGIuX2Jsb2NrcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9ibG9ja3MyLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuX3ZhbHVlICs9IGJEZXRhaWxzLmluc2VydGVkO1xuICAgICAgICBkZXRhaWxzLmFnZ3JlZ2F0ZShiRGV0YWlscyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cblxuICAvKiogRmluZHMgYmxvY2sgaW4gcG9zICovXG4gIF9tYXBQb3NUb0Jsb2NrKHBvcykge1xuICAgIGxldCBhY2NWYWwgPSAnJztcbiAgICBmb3IgKGxldCBiaSA9IDA7IGJpIDwgdGhpcy5fYmxvY2tzLmxlbmd0aDsgKytiaSkge1xuICAgICAgY29uc3QgYmxvY2sgPSB0aGlzLl9ibG9ja3NbYmldO1xuICAgICAgY29uc3QgYmxvY2tTdGFydFBvcyA9IGFjY1ZhbC5sZW5ndGg7XG4gICAgICBhY2NWYWwgKz0gYmxvY2sudmFsdWU7XG4gICAgICBpZiAocG9zIDw9IGFjY1ZhbC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbmRleDogYmksXG4gICAgICAgICAgb2Zmc2V0OiBwb3MgLSBibG9ja1N0YXJ0UG9zXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9ibG9ja1N0YXJ0UG9zKGJsb2NrSW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLnNsaWNlKDAsIGJsb2NrSW5kZXgpLnJlZHVjZSgocG9zLCBiKSA9PiBwb3MgKz0gYi52YWx1ZS5sZW5ndGgsIDApO1xuICB9XG4gIF9mb3JFYWNoQmxvY2tzSW5SYW5nZShmcm9tUG9zLCB0b1BvcywgZm4pIHtcbiAgICBpZiAodG9Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgdG9Qb3MgPSB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgY29uc3QgZnJvbUJsb2NrSXRlciA9IHRoaXMuX21hcFBvc1RvQmxvY2soZnJvbVBvcyk7XG4gICAgaWYgKGZyb21CbG9ja0l0ZXIpIHtcbiAgICAgIGNvbnN0IHRvQmxvY2tJdGVyID0gdGhpcy5fbWFwUG9zVG9CbG9jayh0b1Bvcyk7XG4gICAgICAvLyBwcm9jZXNzIGZpcnN0IGJsb2NrXG4gICAgICBjb25zdCBpc1NhbWVCbG9jayA9IHRvQmxvY2tJdGVyICYmIGZyb21CbG9ja0l0ZXIuaW5kZXggPT09IHRvQmxvY2tJdGVyLmluZGV4O1xuICAgICAgY29uc3QgZnJvbUJsb2NrU3RhcnRQb3MgPSBmcm9tQmxvY2tJdGVyLm9mZnNldDtcbiAgICAgIGNvbnN0IGZyb21CbG9ja0VuZFBvcyA9IHRvQmxvY2tJdGVyICYmIGlzU2FtZUJsb2NrID8gdG9CbG9ja0l0ZXIub2Zmc2V0IDogdGhpcy5fYmxvY2tzW2Zyb21CbG9ja0l0ZXIuaW5kZXhdLnZhbHVlLmxlbmd0aDtcbiAgICAgIGZuKHRoaXMuX2Jsb2Nrc1tmcm9tQmxvY2tJdGVyLmluZGV4XSwgZnJvbUJsb2NrSXRlci5pbmRleCwgZnJvbUJsb2NrU3RhcnRQb3MsIGZyb21CbG9ja0VuZFBvcyk7XG4gICAgICBpZiAodG9CbG9ja0l0ZXIgJiYgIWlzU2FtZUJsb2NrKSB7XG4gICAgICAgIC8vIHByb2Nlc3MgaW50ZXJtZWRpYXRlIGJsb2Nrc1xuICAgICAgICBmb3IgKGxldCBiaSA9IGZyb21CbG9ja0l0ZXIuaW5kZXggKyAxOyBiaSA8IHRvQmxvY2tJdGVyLmluZGV4OyArK2JpKSB7XG4gICAgICAgICAgZm4odGhpcy5fYmxvY2tzW2JpXSwgYmksIDAsIHRoaXMuX2Jsb2Nrc1tiaV0udmFsdWUubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHByb2Nlc3MgbGFzdCBibG9ja1xuICAgICAgICBmbih0aGlzLl9ibG9ja3NbdG9CbG9ja0l0ZXIuaW5kZXhdLCB0b0Jsb2NrSXRlci5pbmRleCwgMCwgdG9CbG9ja0l0ZXIub2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmVtb3ZlKGZyb21Qb3MsIHRvUG9zKSB7XG4gICAgaWYgKGZyb21Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgZnJvbVBvcyA9IDA7XG4gICAgfVxuICAgIGlmICh0b1BvcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0b1BvcyA9IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVEZXRhaWxzID0gc3VwZXIucmVtb3ZlKGZyb21Qb3MsIHRvUG9zKTtcbiAgICB0aGlzLl9mb3JFYWNoQmxvY2tzSW5SYW5nZShmcm9tUG9zLCB0b1BvcywgKGIsIF8sIGJGcm9tUG9zLCBiVG9Qb3MpID0+IHtcbiAgICAgIHJlbW92ZURldGFpbHMuYWdncmVnYXRlKGIucmVtb3ZlKGJGcm9tUG9zLCBiVG9Qb3MpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVtb3ZlRGV0YWlscztcbiAgfVxuICBuZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zLCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIGRpcmVjdGlvbiA9IERJUkVDVElPTi5OT05FO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX2Jsb2Nrcy5sZW5ndGgpIHJldHVybiAwO1xuICAgIGNvbnN0IGN1cnNvciA9IG5ldyBQYXR0ZXJuQ3Vyc29yKHRoaXMsIGN1cnNvclBvcyk7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLk5PTkUpIHtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIE5PTkUgc2hvdWxkIG9ubHkgZ28gb3V0IGZyb20gZml4ZWQgdG8gdGhlIHJpZ2h0IVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgaWYgKGN1cnNvci5wdXNoUmlnaHRCZWZvcmVJbnB1dCgpKSByZXR1cm4gY3Vyc29yLnBvcztcbiAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgaWYgKGN1cnNvci5wdXNoTGVmdEJlZm9yZUlucHV0KCkpIHJldHVybiBjdXJzb3IucG9zO1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH1cblxuICAgIC8vIEZPUkNFIGlzIG9ubHkgYWJvdXQgYXwqIG90aGVyd2lzZSBpcyAwXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkxFRlQgfHwgZGlyZWN0aW9uID09PSBESVJFQ1RJT04uRk9SQ0VfTEVGVCkge1xuICAgICAgLy8gdHJ5IHRvIGJyZWFrIGZhc3Qgd2hlbiAqfGFcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5MRUZUKSB7XG4gICAgICAgIGN1cnNvci5wdXNoUmlnaHRCZWZvcmVGaWxsZWQoKTtcbiAgICAgICAgaWYgKGN1cnNvci5vayAmJiBjdXJzb3IucG9zID09PSBjdXJzb3JQb3MpIHJldHVybiBjdXJzb3JQb3M7XG4gICAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBmb3J3YXJkIGZsb3dcbiAgICAgIGN1cnNvci5wdXNoTGVmdEJlZm9yZUlucHV0KCk7XG4gICAgICBjdXJzb3IucHVzaExlZnRCZWZvcmVSZXF1aXJlZCgpO1xuICAgICAgY3Vyc29yLnB1c2hMZWZ0QmVmb3JlRmlsbGVkKCk7XG5cbiAgICAgIC8vIGJhY2t3YXJkIGZsb3dcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5MRUZUKSB7XG4gICAgICAgIGN1cnNvci5wdXNoUmlnaHRCZWZvcmVJbnB1dCgpO1xuICAgICAgICBjdXJzb3IucHVzaFJpZ2h0QmVmb3JlUmVxdWlyZWQoKTtcbiAgICAgICAgaWYgKGN1cnNvci5vayAmJiBjdXJzb3IucG9zIDw9IGN1cnNvclBvcykgcmV0dXJuIGN1cnNvci5wb3M7XG4gICAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgICBpZiAoY3Vyc29yLm9rICYmIGN1cnNvci5wb3MgPD0gY3Vyc29yUG9zKSByZXR1cm4gY3Vyc29yLnBvcztcbiAgICAgICAgY3Vyc29yLnBvcFN0YXRlKCk7XG4gICAgICB9XG4gICAgICBpZiAoY3Vyc29yLm9rKSByZXR1cm4gY3Vyc29yLnBvcztcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5GT1JDRV9MRUZUKSByZXR1cm4gMDtcbiAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgaWYgKGN1cnNvci5vaykgcmV0dXJuIGN1cnNvci5wb3M7XG4gICAgICBjdXJzb3IucG9wU3RhdGUoKTtcbiAgICAgIGlmIChjdXJzb3Iub2spIHJldHVybiBjdXJzb3IucG9zO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTi5SSUdIVCB8fCBkaXJlY3Rpb24gPT09IERJUkVDVElPTi5GT1JDRV9SSUdIVCkge1xuICAgICAgLy8gZm9yd2FyZCBmbG93XG4gICAgICBjdXJzb3IucHVzaFJpZ2h0QmVmb3JlSW5wdXQoKTtcbiAgICAgIGN1cnNvci5wdXNoUmlnaHRCZWZvcmVSZXF1aXJlZCgpO1xuICAgICAgaWYgKGN1cnNvci5wdXNoUmlnaHRCZWZvcmVGaWxsZWQoKSkgcmV0dXJuIGN1cnNvci5wb3M7XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT04uRk9SQ0VfUklHSFQpIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDtcblxuICAgICAgLy8gYmFja3dhcmQgZmxvd1xuICAgICAgY3Vyc29yLnBvcFN0YXRlKCk7XG4gICAgICBpZiAoY3Vyc29yLm9rKSByZXR1cm4gY3Vyc29yLnBvcztcbiAgICAgIGN1cnNvci5wb3BTdGF0ZSgpO1xuICAgICAgaWYgKGN1cnNvci5vaykgcmV0dXJuIGN1cnNvci5wb3M7XG4gICAgICByZXR1cm4gdGhpcy5uZWFyZXN0SW5wdXRQb3MoY3Vyc29yUG9zLCBESVJFQ1RJT04uTEVGVCk7XG4gICAgfVxuICAgIHJldHVybiBjdXJzb3JQb3M7XG4gIH1cbiAgdG90YWxJbnB1dFBvc2l0aW9ucyhmcm9tUG9zLCB0b1Bvcykge1xuICAgIGlmIChmcm9tUG9zID09PSB2b2lkIDApIHtcbiAgICAgIGZyb21Qb3MgPSAwO1xuICAgIH1cbiAgICBpZiAodG9Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgdG9Qb3MgPSB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgbGV0IHRvdGFsID0gMDtcbiAgICB0aGlzLl9mb3JFYWNoQmxvY2tzSW5SYW5nZShmcm9tUG9zLCB0b1BvcywgKGIsIF8sIGJGcm9tUG9zLCBiVG9Qb3MpID0+IHtcbiAgICAgIHRvdGFsICs9IGIudG90YWxJbnB1dFBvc2l0aW9ucyhiRnJvbVBvcywgYlRvUG9zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdG90YWw7XG4gIH1cblxuICAvKiogR2V0IGJsb2NrIGJ5IG5hbWUgKi9cbiAgbWFza2VkQmxvY2sobmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hc2tlZEJsb2NrcyhuYW1lKVswXTtcbiAgfVxuXG4gIC8qKiBHZXQgYWxsIGJsb2NrcyBieSBuYW1lICovXG4gIG1hc2tlZEJsb2NrcyhuYW1lKSB7XG4gICAgY29uc3QgaW5kaWNlcyA9IHRoaXMuX21hc2tlZEJsb2Nrc1tuYW1lXTtcbiAgICBpZiAoIWluZGljZXMpIHJldHVybiBbXTtcbiAgICByZXR1cm4gaW5kaWNlcy5tYXAoZ2kgPT4gdGhpcy5fYmxvY2tzW2dpXSk7XG4gIH1cbn1cbk1hc2tlZFBhdHRlcm4uREVGQVVMVFMgPSB7XG4gIGxhenk6IHRydWUsXG4gIHBsYWNlaG9sZGVyQ2hhcjogJ18nXG59O1xuTWFza2VkUGF0dGVybi5TVE9QX0NIQVIgPSAnYCc7XG5NYXNrZWRQYXR0ZXJuLkVTQ0FQRV9DSEFSID0gJ1xcXFwnO1xuTWFza2VkUGF0dGVybi5JbnB1dERlZmluaXRpb24gPSBQYXR0ZXJuSW5wdXREZWZpbml0aW9uO1xuTWFza2VkUGF0dGVybi5GaXhlZERlZmluaXRpb24gPSBQYXR0ZXJuRml4ZWREZWZpbml0aW9uO1xuSU1hc2suTWFza2VkUGF0dGVybiA9IE1hc2tlZFBhdHRlcm47XG5cbmV4cG9ydCB7IE1hc2tlZFBhdHRlcm4gYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IENoYW5nZURldGFpbHMgZnJvbSAnLi4vLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0IENvbnRpbnVvdXNUYWlsRGV0YWlscyBmcm9tICcuLi8uLi9jb3JlL2NvbnRpbnVvdXMtdGFpbC1kZXRhaWxzLmpzJztcbmltcG9ydCBJTWFzayBmcm9tICcuLi8uLi9jb3JlL2hvbGRlci5qcyc7XG5cbmNsYXNzIENodW5rc1RhaWxEZXRhaWxzIHtcbiAgLyoqICovXG5cbiAgY29uc3RydWN0b3IoY2h1bmtzLCBmcm9tKSB7XG4gICAgaWYgKGNodW5rcyA9PT0gdm9pZCAwKSB7XG4gICAgICBjaHVua3MgPSBbXTtcbiAgICB9XG4gICAgaWYgKGZyb20gPT09IHZvaWQgMCkge1xuICAgICAgZnJvbSA9IDA7XG4gICAgfVxuICAgIHRoaXMuY2h1bmtzID0gY2h1bmtzO1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2h1bmtzLm1hcChTdHJpbmcpLmpvaW4oJycpO1xuICB9XG4gIGV4dGVuZCh0YWlsQ2h1bmspIHtcbiAgICBpZiAoIVN0cmluZyh0YWlsQ2h1bmspKSByZXR1cm47XG4gICAgdGFpbENodW5rID0gaXNTdHJpbmcodGFpbENodW5rKSA/IG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoU3RyaW5nKHRhaWxDaHVuaykpIDogdGFpbENodW5rO1xuICAgIGNvbnN0IGxhc3RDaHVuayA9IHRoaXMuY2h1bmtzW3RoaXMuY2h1bmtzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGV4dGVuZExhc3QgPSBsYXN0Q2h1bmsgJiYgKFxuICAgIC8vIGlmIHN0b3BzIGFyZSBzYW1lIG9yIHRhaWwgaGFzIG5vIHN0b3BcbiAgICBsYXN0Q2h1bmsuc3RvcCA9PT0gdGFpbENodW5rLnN0b3AgfHwgdGFpbENodW5rLnN0b3AgPT0gbnVsbCkgJiZcbiAgICAvLyBpZiB0YWlsIGNodW5rIGdvZXMganVzdCBhZnRlciBsYXN0IGNodW5rXG4gICAgdGFpbENodW5rLmZyb20gPT09IGxhc3RDaHVuay5mcm9tICsgbGFzdENodW5rLnRvU3RyaW5nKCkubGVuZ3RoO1xuICAgIGlmICh0YWlsQ2h1bmsgaW5zdGFuY2VvZiBDb250aW51b3VzVGFpbERldGFpbHMpIHtcbiAgICAgIC8vIGNoZWNrIHRoZSBhYmlsaXR5IHRvIGV4dGVuZCBwcmV2aW91cyBjaHVua1xuICAgICAgaWYgKGV4dGVuZExhc3QpIHtcbiAgICAgICAgLy8gZXh0ZW5kIHByZXZpb3VzIGNodW5rXG4gICAgICAgIGxhc3RDaHVuay5leHRlbmQodGFpbENodW5rLnRvU3RyaW5nKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYXBwZW5kIG5ldyBjaHVua1xuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKHRhaWxDaHVuayk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0YWlsQ2h1bmsgaW5zdGFuY2VvZiBDaHVua3NUYWlsRGV0YWlscykge1xuICAgICAgaWYgKHRhaWxDaHVuay5zdG9wID09IG51bGwpIHtcbiAgICAgICAgLy8gdW53cmFwIGZsb2F0aW5nIGNodW5rcyB0byBwYXJlbnQsIGtlZXBpbmcgYGZyb21gIHBvc1xuICAgICAgICBsZXQgZmlyc3RUYWlsQ2h1bms7XG4gICAgICAgIHdoaWxlICh0YWlsQ2h1bmsuY2h1bmtzLmxlbmd0aCAmJiB0YWlsQ2h1bmsuY2h1bmtzWzBdLnN0b3AgPT0gbnVsbCkge1xuICAgICAgICAgIGZpcnN0VGFpbENodW5rID0gdGFpbENodW5rLmNodW5rcy5zaGlmdCgpOyAvLyBub3QgcG9zc2libGUgdG8gYmUgYHVuZGVmaW5lZGAgYmVjYXVzZSBsZW5ndGggd2FzIGNoZWNrZWQgYWJvdmVcbiAgICAgICAgICBmaXJzdFRhaWxDaHVuay5mcm9tICs9IHRhaWxDaHVuay5mcm9tO1xuICAgICAgICAgIHRoaXMuZXh0ZW5kKGZpcnN0VGFpbENodW5rKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBpZiB0YWlsIGNodW5rIHN0aWxsIGhhcyB2YWx1ZVxuICAgICAgaWYgKHRhaWxDaHVuay50b1N0cmluZygpKSB7XG4gICAgICAgIC8vIGlmIGNodW5rcyBjb250YWlucyBzdG9wcywgdGhlbiBwb3B1cCBzdG9wIHRvIGNvbnRhaW5lclxuICAgICAgICB0YWlsQ2h1bmsuc3RvcCA9IHRhaWxDaHVuay5ibG9ja0luZGV4O1xuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKHRhaWxDaHVuayk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGFwcGVuZFRvKG1hc2tlZCkge1xuICAgIGlmICghKG1hc2tlZCBpbnN0YW5jZW9mIElNYXNrLk1hc2tlZFBhdHRlcm4pKSB7XG4gICAgICBjb25zdCB0YWlsID0gbmV3IENvbnRpbnVvdXNUYWlsRGV0YWlscyh0aGlzLnRvU3RyaW5nKCkpO1xuICAgICAgcmV0dXJuIHRhaWwuYXBwZW5kVG8obWFza2VkKTtcbiAgICB9XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgZm9yIChsZXQgY2kgPSAwOyBjaSA8IHRoaXMuY2h1bmtzLmxlbmd0aCAmJiAhZGV0YWlscy5za2lwOyArK2NpKSB7XG4gICAgICBjb25zdCBjaHVuayA9IHRoaXMuY2h1bmtzW2NpXTtcbiAgICAgIGNvbnN0IGxhc3RCbG9ja0l0ZXIgPSBtYXNrZWQuX21hcFBvc1RvQmxvY2sobWFza2VkLnZhbHVlLmxlbmd0aCk7XG4gICAgICBjb25zdCBzdG9wID0gY2h1bmsuc3RvcDtcbiAgICAgIGxldCBjaHVua0Jsb2NrO1xuICAgICAgaWYgKHN0b3AgIT0gbnVsbCAmJiAoXG4gICAgICAvLyBpZiBibG9jayBub3QgZm91bmQgb3Igc3RvcCBpcyBiZWhpbmQgbGFzdEJsb2NrXG4gICAgICAhbGFzdEJsb2NrSXRlciB8fCBsYXN0QmxvY2tJdGVyLmluZGV4IDw9IHN0b3ApKSB7XG4gICAgICAgIGlmIChjaHVuayBpbnN0YW5jZW9mIENodW5rc1RhaWxEZXRhaWxzIHx8XG4gICAgICAgIC8vIGZvciBjb250aW51b3VzIGJsb2NrIGFsc28gY2hlY2sgaWYgc3RvcCBpcyBleGlzdFxuICAgICAgICBtYXNrZWQuX3N0b3BzLmluZGV4T2Yoc3RvcCkgPj0gMCkge1xuICAgICAgICAgIGNvbnN0IHBoRGV0YWlscyA9IG1hc2tlZC5fYXBwZW5kUGxhY2Vob2xkZXIoc3RvcCk7XG4gICAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUocGhEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgICAgICBjaHVua0Jsb2NrID0gY2h1bmsgaW5zdGFuY2VvZiBDaHVua3NUYWlsRGV0YWlscyAmJiBtYXNrZWQuX2Jsb2Nrc1tzdG9wXTtcbiAgICAgIH1cbiAgICAgIGlmIChjaHVua0Jsb2NrKSB7XG4gICAgICAgIGNvbnN0IHRhaWxEZXRhaWxzID0gY2h1bmtCbG9jay5hcHBlbmRUYWlsKGNodW5rKTtcbiAgICAgICAgdGFpbERldGFpbHMuc2tpcCA9IGZhbHNlOyAvLyBhbHdheXMgaWdub3JlIHNraXAsIGl0IHdpbGwgYmUgc2V0IG9uIGxhc3RcbiAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUodGFpbERldGFpbHMpO1xuICAgICAgICBtYXNrZWQuX3ZhbHVlICs9IHRhaWxEZXRhaWxzLmluc2VydGVkO1xuXG4gICAgICAgIC8vIGdldCBub3QgaW5zZXJ0ZWQgY2hhcnNcbiAgICAgICAgY29uc3QgcmVtYWluQ2hhcnMgPSBjaHVuay50b1N0cmluZygpLnNsaWNlKHRhaWxEZXRhaWxzLnJhd0luc2VydGVkLmxlbmd0aCk7XG4gICAgICAgIGlmIChyZW1haW5DaGFycykgZGV0YWlscy5hZ2dyZWdhdGUobWFza2VkLmFwcGVuZChyZW1haW5DaGFycywge1xuICAgICAgICAgIHRhaWw6IHRydWVcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGV0YWlscy5hZ2dyZWdhdGUobWFza2VkLmFwcGVuZChjaHVuay50b1N0cmluZygpLCB7XG4gICAgICAgICAgdGFpbDogdHJ1ZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXRhaWxzO1xuICB9XG4gIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2h1bmtzOiB0aGlzLmNodW5rcy5tYXAoYyA9PiBjLnN0YXRlKSxcbiAgICAgIGZyb206IHRoaXMuZnJvbSxcbiAgICAgIHN0b3A6IHRoaXMuc3RvcCxcbiAgICAgIGJsb2NrSW5kZXg6IHRoaXMuYmxvY2tJbmRleFxuICAgIH07XG4gIH1cbiAgc2V0IHN0YXRlKHN0YXRlKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2h1bmtzLFxuICAgICAgLi4ucHJvcHNcbiAgICB9ID0gc3RhdGU7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wcyk7XG4gICAgdGhpcy5jaHVua3MgPSBjaHVua3MubWFwKGNzdGF0ZSA9PiB7XG4gICAgICBjb25zdCBjaHVuayA9IFwiY2h1bmtzXCIgaW4gY3N0YXRlID8gbmV3IENodW5rc1RhaWxEZXRhaWxzKCkgOiBuZXcgQ29udGludW91c1RhaWxEZXRhaWxzKCk7XG4gICAgICBjaHVuay5zdGF0ZSA9IGNzdGF0ZTtcbiAgICAgIHJldHVybiBjaHVuaztcbiAgICB9KTtcbiAgfVxuICB1bnNoaWZ0KGJlZm9yZVBvcykge1xuICAgIGlmICghdGhpcy5jaHVua3MubGVuZ3RoIHx8IGJlZm9yZVBvcyAhPSBudWxsICYmIHRoaXMuZnJvbSA+PSBiZWZvcmVQb3MpIHJldHVybiAnJztcbiAgICBjb25zdCBjaHVua1NoaWZ0UG9zID0gYmVmb3JlUG9zICE9IG51bGwgPyBiZWZvcmVQb3MgLSB0aGlzLmZyb20gOiBiZWZvcmVQb3M7XG4gICAgbGV0IGNpID0gMDtcbiAgICB3aGlsZSAoY2kgPCB0aGlzLmNodW5rcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNodW5rID0gdGhpcy5jaHVua3NbY2ldO1xuICAgICAgY29uc3Qgc2hpZnRDaGFyID0gY2h1bmsudW5zaGlmdChjaHVua1NoaWZ0UG9zKTtcbiAgICAgIGlmIChjaHVuay50b1N0cmluZygpKSB7XG4gICAgICAgIC8vIGNodW5rIHN0aWxsIGNvbnRhaW5zIHZhbHVlXG4gICAgICAgIC8vIGJ1dCBub3Qgc2hpZnRlZCAtIG1lYW5zIG5vIG1vcmUgYXZhaWxhYmxlIGNoYXJzIHRvIHNoaWZ0XG4gICAgICAgIGlmICghc2hpZnRDaGFyKSBicmVhaztcbiAgICAgICAgKytjaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNsZWFuIGlmIGNodW5rIGhhcyBubyB2YWx1ZVxuICAgICAgICB0aGlzLmNodW5rcy5zcGxpY2UoY2ksIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHNoaWZ0Q2hhcikgcmV0dXJuIHNoaWZ0Q2hhcjtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHNoaWZ0KCkge1xuICAgIGlmICghdGhpcy5jaHVua3MubGVuZ3RoKSByZXR1cm4gJyc7XG4gICAgbGV0IGNpID0gdGhpcy5jaHVua3MubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoMCA8PSBjaSkge1xuICAgICAgY29uc3QgY2h1bmsgPSB0aGlzLmNodW5rc1tjaV07XG4gICAgICBjb25zdCBzaGlmdENoYXIgPSBjaHVuay5zaGlmdCgpO1xuICAgICAgaWYgKGNodW5rLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgLy8gY2h1bmsgc3RpbGwgY29udGFpbnMgdmFsdWVcbiAgICAgICAgLy8gYnV0IG5vdCBzaGlmdGVkIC0gbWVhbnMgbm8gbW9yZSBhdmFpbGFibGUgY2hhcnMgdG8gc2hpZnRcbiAgICAgICAgaWYgKCFzaGlmdENoYXIpIGJyZWFrO1xuICAgICAgICAtLWNpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY2xlYW4gaWYgY2h1bmsgaGFzIG5vIHZhbHVlXG4gICAgICAgIHRoaXMuY2h1bmtzLnNwbGljZShjaSwgMSk7XG4gICAgICB9XG4gICAgICBpZiAoc2hpZnRDaGFyKSByZXR1cm4gc2hpZnRDaGFyO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2h1bmtzVGFpbERldGFpbHMgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgRElSRUNUSU9OIH0gZnJvbSAnLi4vLi4vY29yZS91dGlscy5qcyc7XG5cbmNsYXNzIFBhdHRlcm5DdXJzb3Ige1xuICBjb25zdHJ1Y3RvcihtYXNrZWQsIHBvcykge1xuICAgIHRoaXMubWFza2VkID0gbWFza2VkO1xuICAgIHRoaXMuX2xvZyA9IFtdO1xuICAgIGNvbnN0IHtcbiAgICAgIG9mZnNldCxcbiAgICAgIGluZGV4XG4gICAgfSA9IG1hc2tlZC5fbWFwUG9zVG9CbG9jayhwb3MpIHx8IChwb3MgPCAwID9cbiAgICAvLyBmaXJzdFxuICAgIHtcbiAgICAgIGluZGV4OiAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSA6XG4gICAgLy8gbGFzdFxuICAgIHtcbiAgICAgIGluZGV4OiB0aGlzLm1hc2tlZC5fYmxvY2tzLmxlbmd0aCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0pO1xuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB0aGlzLm9rID0gZmFsc2U7XG4gIH1cbiAgZ2V0IGJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLm1hc2tlZC5fYmxvY2tzW3RoaXMuaW5kZXhdO1xuICB9XG4gIGdldCBwb3MoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza2VkLl9ibG9ja1N0YXJ0UG9zKHRoaXMuaW5kZXgpICsgdGhpcy5vZmZzZXQ7XG4gIH1cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleDogdGhpcy5pbmRleCxcbiAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQsXG4gICAgICBvazogdGhpcy5va1xuICAgIH07XG4gIH1cbiAgc2V0IHN0YXRlKHMpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHMpO1xuICB9XG4gIHB1c2hTdGF0ZSgpIHtcbiAgICB0aGlzLl9sb2cucHVzaCh0aGlzLnN0YXRlKTtcbiAgfVxuICBwb3BTdGF0ZSgpIHtcbiAgICBjb25zdCBzID0gdGhpcy5fbG9nLnBvcCgpO1xuICAgIGlmIChzKSB0aGlzLnN0YXRlID0gcztcbiAgICByZXR1cm4gcztcbiAgfVxuICBiaW5kQmxvY2soKSB7XG4gICAgaWYgKHRoaXMuYmxvY2spIHJldHVybjtcbiAgICBpZiAodGhpcy5pbmRleCA8IDApIHtcbiAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbmRleCA+PSB0aGlzLm1hc2tlZC5fYmxvY2tzLmxlbmd0aCkge1xuICAgICAgdGhpcy5pbmRleCA9IHRoaXMubWFza2VkLl9ibG9ja3MubGVuZ3RoIC0gMTtcbiAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5ibG9jay52YWx1ZS5sZW5ndGg7IC8vIFRPRE8gdGhpcyBpcyBzdHVwaWQgdHlwZSBlcnJvciwgYGJsb2NrYCBkZXBlbmRzIG9uIGluZGV4IHRoYXQgd2FzIGNoYW5nZWQgYWJvdmVcbiAgICB9XG4gIH1cblxuICBfcHVzaExlZnQoZm4pIHtcbiAgICB0aGlzLnB1c2hTdGF0ZSgpO1xuICAgIGZvciAodGhpcy5iaW5kQmxvY2soKTsgMCA8PSB0aGlzLmluZGV4OyAtLXRoaXMuaW5kZXgsIHRoaXMub2Zmc2V0ID0gKChfdGhpcyRibG9jayA9IHRoaXMuYmxvY2spID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRibG9jay52YWx1ZS5sZW5ndGgpIHx8IDApIHtcbiAgICAgIHZhciBfdGhpcyRibG9jaztcbiAgICAgIGlmIChmbigpKSByZXR1cm4gdGhpcy5vayA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9rID0gZmFsc2U7XG4gIH1cbiAgX3B1c2hSaWdodChmbikge1xuICAgIHRoaXMucHVzaFN0YXRlKCk7XG4gICAgZm9yICh0aGlzLmJpbmRCbG9jaygpOyB0aGlzLmluZGV4IDwgdGhpcy5tYXNrZWQuX2Jsb2Nrcy5sZW5ndGg7ICsrdGhpcy5pbmRleCwgdGhpcy5vZmZzZXQgPSAwKSB7XG4gICAgICBpZiAoZm4oKSkgcmV0dXJuIHRoaXMub2sgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vayA9IGZhbHNlO1xuICB9XG4gIHB1c2hMZWZ0QmVmb3JlRmlsbGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoTGVmdCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5ibG9jay5pc0ZpeGVkIHx8ICF0aGlzLmJsb2NrLnZhbHVlKSByZXR1cm47XG4gICAgICB0aGlzLm9mZnNldCA9IHRoaXMuYmxvY2submVhcmVzdElucHV0UG9zKHRoaXMub2Zmc2V0LCBESVJFQ1RJT04uRk9SQ0VfTEVGVCk7XG4gICAgICBpZiAodGhpcy5vZmZzZXQgIT09IDApIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG4gIHB1c2hMZWZ0QmVmb3JlSW5wdXQoKSB7XG4gICAgLy8gY2FzZXM6XG4gICAgLy8gZmlsbGVkIGlucHV0OiAwMHxcbiAgICAvLyBvcHRpb25hbCBlbXB0eSBpbnB1dDogMDBbXXxcbiAgICAvLyBuZXN0ZWQgYmxvY2s6IFhYPFtdPnxcbiAgICByZXR1cm4gdGhpcy5fcHVzaExlZnQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuYmxvY2suaXNGaXhlZCkgcmV0dXJuO1xuICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmJsb2NrLm5lYXJlc3RJbnB1dFBvcyh0aGlzLm9mZnNldCwgRElSRUNUSU9OLkxFRlQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cbiAgcHVzaExlZnRCZWZvcmVSZXF1aXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHVzaExlZnQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuYmxvY2suaXNGaXhlZCB8fCB0aGlzLmJsb2NrLmlzT3B0aW9uYWwgJiYgIXRoaXMuYmxvY2sudmFsdWUpIHJldHVybjtcbiAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5ibG9jay5uZWFyZXN0SW5wdXRQb3ModGhpcy5vZmZzZXQsIERJUkVDVElPTi5MRUZUKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG4gIHB1c2hSaWdodEJlZm9yZUZpbGxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHVzaFJpZ2h0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmJsb2NrLmlzRml4ZWQgfHwgIXRoaXMuYmxvY2sudmFsdWUpIHJldHVybjtcbiAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5ibG9jay5uZWFyZXN0SW5wdXRQb3ModGhpcy5vZmZzZXQsIERJUkVDVElPTi5GT1JDRV9SSUdIVCk7XG4gICAgICBpZiAodGhpcy5vZmZzZXQgIT09IHRoaXMuYmxvY2sudmFsdWUubGVuZ3RoKSByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICBwdXNoUmlnaHRCZWZvcmVJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHVzaFJpZ2h0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmJsb2NrLmlzRml4ZWQpIHJldHVybjtcblxuICAgICAgLy8gY29uc3QgbyA9IHRoaXMub2Zmc2V0O1xuICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmJsb2NrLm5lYXJlc3RJbnB1dFBvcyh0aGlzLm9mZnNldCwgRElSRUNUSU9OLk5PTkUpO1xuICAgICAgLy8gSEFDSyBjYXNlcyBsaWtlIChTVElMTCBET0VTIE5PVCBXT1JLIEZPUiBORVNURUQpXG4gICAgICAvLyBhYXxYXG4gICAgICAvLyBhYTxYfFtdPlhfICAgIC0gdGhpcyB3aWxsIG5vdCB3b3JrXG4gICAgICAvLyBpZiAobyAmJiBvID09PSB0aGlzLm9mZnNldCAmJiB0aGlzLmJsb2NrIGluc3RhbmNlb2YgUGF0dGVybklucHV0RGVmaW5pdGlvbikgY29udGludWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICBwdXNoUmlnaHRCZWZvcmVSZXF1aXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHVzaFJpZ2h0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmJsb2NrLmlzRml4ZWQgfHwgdGhpcy5ibG9jay5pc09wdGlvbmFsICYmICF0aGlzLmJsb2NrLnZhbHVlKSByZXR1cm47XG5cbiAgICAgIC8vIFRPRE8gY2hlY2sgfFsqXVhYX1xuICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmJsb2NrLm5lYXJlc3RJbnB1dFBvcyh0aGlzLm9mZnNldCwgRElSRUNUSU9OLk5PTkUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUGF0dGVybkN1cnNvciBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgQ2hhbmdlRGV0YWlscyBmcm9tICcuLi8uLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCB7IERJUkVDVElPTiwgaXNTdHJpbmcgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCBDb250aW51b3VzVGFpbERldGFpbHMgZnJvbSAnLi4vLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4uLy4uL2NvcmUvaG9sZGVyLmpzJztcblxuY2xhc3MgUGF0dGVybkZpeGVkRGVmaW5pdGlvbiB7XG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIC8qKiAqL1xuXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdHMpO1xuICAgIHRoaXMuX3ZhbHVlID0gJyc7XG4gICAgdGhpcy5pc0ZpeGVkID0gdHJ1ZTtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIGdldCB1bm1hc2tlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmlzVW5tYXNraW5nID8gdGhpcy52YWx1ZSA6ICcnO1xuICB9XG4gIGdldCByYXdJbnB1dFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1Jhd0lucHV0ID8gdGhpcy52YWx1ZSA6ICcnO1xuICB9XG4gIGdldCBkaXNwbGF5VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5faXNSYXdJbnB1dCA9IGZhbHNlO1xuICAgIHRoaXMuX3ZhbHVlID0gJyc7XG4gIH1cbiAgcmVtb3ZlKGZyb21Qb3MsIHRvUG9zKSB7XG4gICAgaWYgKGZyb21Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgZnJvbVBvcyA9IDA7XG4gICAgfVxuICAgIGlmICh0b1BvcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0b1BvcyA9IHRoaXMuX3ZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLl92YWx1ZS5zbGljZSgwLCBmcm9tUG9zKSArIHRoaXMuX3ZhbHVlLnNsaWNlKHRvUG9zKTtcbiAgICBpZiAoIXRoaXMuX3ZhbHVlKSB0aGlzLl9pc1Jhd0lucHV0ID0gZmFsc2U7XG4gICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gIH1cbiAgbmVhcmVzdElucHV0UG9zKGN1cnNvclBvcywgZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICBkaXJlY3Rpb24gPSBESVJFQ1RJT04uTk9ORTtcbiAgICB9XG4gICAgY29uc3QgbWluUG9zID0gMDtcbiAgICBjb25zdCBtYXhQb3MgPSB0aGlzLl92YWx1ZS5sZW5ndGg7XG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICBjYXNlIERJUkVDVElPTi5GT1JDRV9MRUZUOlxuICAgICAgICByZXR1cm4gbWluUG9zO1xuICAgICAgY2FzZSBESVJFQ1RJT04uTk9ORTpcbiAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgY2FzZSBESVJFQ1RJT04uRk9SQ0VfUklHSFQ6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbWF4UG9zO1xuICAgIH1cbiAgfVxuICB0b3RhbElucHV0UG9zaXRpb25zKGZyb21Qb3MsIHRvUG9zKSB7XG4gICAgaWYgKGZyb21Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgZnJvbVBvcyA9IDA7XG4gICAgfVxuICAgIGlmICh0b1BvcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0b1BvcyA9IHRoaXMuX3ZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lzUmF3SW5wdXQgPyB0b1BvcyAtIGZyb21Qb3MgOiAwO1xuICB9XG4gIGV4dHJhY3RJbnB1dChmcm9tUG9zLCB0b1BvcywgZmxhZ3MpIHtcbiAgICBpZiAoZnJvbVBvcyA9PT0gdm9pZCAwKSB7XG4gICAgICBmcm9tUG9zID0gMDtcbiAgICB9XG4gICAgaWYgKHRvUG9zID09PSB2b2lkIDApIHtcbiAgICAgIHRvUG9zID0gdGhpcy5fdmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkge1xuICAgICAgZmxhZ3MgPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGZsYWdzLnJhdyAmJiB0aGlzLl9pc1Jhd0lucHV0ICYmIHRoaXMuX3ZhbHVlLnNsaWNlKGZyb21Qb3MsIHRvUG9zKSB8fCAnJztcbiAgfVxuICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBnZXQgaXNGaWxsZWQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5fdmFsdWUpO1xuICB9XG4gIF9hcHBlbmRDaGFyKGNoLCBmbGFncykge1xuICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7XG4gICAgICBmbGFncyA9IHt9O1xuICAgIH1cbiAgICBjb25zdCBkZXRhaWxzID0gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICBpZiAodGhpcy5pc0ZpbGxlZCkgcmV0dXJuIGRldGFpbHM7XG4gICAgY29uc3QgYXBwZW5kRWFnZXIgPSB0aGlzLmVhZ2VyID09PSB0cnVlIHx8IHRoaXMuZWFnZXIgPT09ICdhcHBlbmQnO1xuICAgIGNvbnN0IGFwcGVuZGVkID0gdGhpcy5jaGFyID09PSBjaDtcbiAgICBjb25zdCBpc1Jlc29sdmVkID0gYXBwZW5kZWQgJiYgKHRoaXMuaXNVbm1hc2tpbmcgfHwgZmxhZ3MuaW5wdXQgfHwgZmxhZ3MucmF3KSAmJiAoIWZsYWdzLnJhdyB8fCAhYXBwZW5kRWFnZXIpICYmICFmbGFncy50YWlsO1xuICAgIGlmIChpc1Jlc29sdmVkKSBkZXRhaWxzLnJhd0luc2VydGVkID0gdGhpcy5jaGFyO1xuICAgIHRoaXMuX3ZhbHVlID0gZGV0YWlscy5pbnNlcnRlZCA9IHRoaXMuY2hhcjtcbiAgICB0aGlzLl9pc1Jhd0lucHV0ID0gaXNSZXNvbHZlZCAmJiAoZmxhZ3MucmF3IHx8IGZsYWdzLmlucHV0KTtcbiAgICByZXR1cm4gZGV0YWlscztcbiAgfVxuICBfYXBwZW5kRWFnZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FwcGVuZENoYXIodGhpcy5jaGFyLCB7XG4gICAgICB0YWlsOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgX2FwcGVuZFBsYWNlaG9sZGVyKCkge1xuICAgIGNvbnN0IGRldGFpbHMgPSBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICAgIGlmICh0aGlzLmlzRmlsbGVkKSByZXR1cm4gZGV0YWlscztcbiAgICB0aGlzLl92YWx1ZSA9IGRldGFpbHMuaW5zZXJ0ZWQgPSB0aGlzLmNoYXI7XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cbiAgZXh0cmFjdFRhaWwoKSB7XG4gICAgcmV0dXJuIG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoJycpO1xuICB9XG4gIGFwcGVuZFRhaWwodGFpbCkge1xuICAgIGlmIChpc1N0cmluZyh0YWlsKSkgdGFpbCA9IG5ldyBDb250aW51b3VzVGFpbERldGFpbHMoU3RyaW5nKHRhaWwpKTtcbiAgICByZXR1cm4gdGFpbC5hcHBlbmRUbyh0aGlzKTtcbiAgfVxuICBhcHBlbmQoc3RyLCBmbGFncywgdGFpbCkge1xuICAgIGNvbnN0IGRldGFpbHMgPSB0aGlzLl9hcHBlbmRDaGFyKHN0clswXSwgZmxhZ3MpO1xuICAgIGlmICh0YWlsICE9IG51bGwpIHtcbiAgICAgIGRldGFpbHMudGFpbFNoaWZ0ICs9IHRoaXMuYXBwZW5kVGFpbCh0YWlsKS50YWlsU2hpZnQ7XG4gICAgfVxuICAgIHJldHVybiBkZXRhaWxzO1xuICB9XG4gIGRvQ29tbWl0KCkge31cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfdmFsdWU6IHRoaXMuX3ZhbHVlLFxuICAgICAgX3Jhd0lucHV0VmFsdWU6IHRoaXMucmF3SW5wdXRWYWx1ZVxuICAgIH07XG4gIH1cbiAgc2V0IHN0YXRlKHN0YXRlKSB7XG4gICAgdGhpcy5fdmFsdWUgPSBzdGF0ZS5fdmFsdWU7XG4gICAgdGhpcy5faXNSYXdJbnB1dCA9IEJvb2xlYW4oc3RhdGUuX3Jhd0lucHV0VmFsdWUpO1xuICB9XG59XG5cbmV4cG9ydCB7IFBhdHRlcm5GaXhlZERlZmluaXRpb24gYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IGNyZWF0ZU1hc2sgZnJvbSAnLi4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgQ2hhbmdlRGV0YWlscyBmcm9tICcuLi8uLi9jb3JlL2NoYW5nZS1kZXRhaWxzLmpzJztcbmltcG9ydCB7IERJUkVDVElPTiB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbHMuanMnO1xuaW1wb3J0ICcuLi8uLi9jb3JlL2hvbGRlci5qcyc7XG5cbmNsYXNzIFBhdHRlcm5JbnB1dERlZmluaXRpb24ge1xuICAvKiogKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgY29uc3Qge1xuICAgICAgcGFyZW50LFxuICAgICAgaXNPcHRpb25hbCxcbiAgICAgIHBsYWNlaG9sZGVyQ2hhcixcbiAgICAgIGRpc3BsYXlDaGFyLFxuICAgICAgbGF6eSxcbiAgICAgIGVhZ2VyLFxuICAgICAgLi4ubWFza09wdHNcbiAgICB9ID0gb3B0cztcbiAgICB0aGlzLm1hc2tlZCA9IGNyZWF0ZU1hc2sobWFza09wdHMpO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgcGFyZW50LFxuICAgICAgaXNPcHRpb25hbCxcbiAgICAgIHBsYWNlaG9sZGVyQ2hhcixcbiAgICAgIGRpc3BsYXlDaGFyLFxuICAgICAgbGF6eSxcbiAgICAgIGVhZ2VyXG4gICAgfSk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5pc0ZpbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMubWFza2VkLnJlc2V0KCk7XG4gIH1cbiAgcmVtb3ZlKGZyb21Qb3MsIHRvUG9zKSB7XG4gICAgaWYgKGZyb21Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgZnJvbVBvcyA9IDA7XG4gICAgfVxuICAgIGlmICh0b1BvcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0b1BvcyA9IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoZnJvbVBvcyA9PT0gMCAmJiB0b1BvcyA+PSAxKSB7XG4gICAgICB0aGlzLmlzRmlsbGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5tYXNrZWQucmVtb3ZlKGZyb21Qb3MsIHRvUG9zKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLm1hc2tlZC52YWx1ZSB8fCAodGhpcy5pc0ZpbGxlZCAmJiAhdGhpcy5pc09wdGlvbmFsID8gdGhpcy5wbGFjZWhvbGRlckNoYXIgOiAnJyk7XG4gIH1cbiAgZ2V0IHVubWFza2VkVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza2VkLnVubWFza2VkVmFsdWU7XG4gIH1cbiAgZ2V0IHJhd0lucHV0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza2VkLnJhd0lucHV0VmFsdWU7XG4gIH1cbiAgZ2V0IGRpc3BsYXlWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXNrZWQudmFsdWUgJiYgdGhpcy5kaXNwbGF5Q2hhciB8fCB0aGlzLnZhbHVlO1xuICB9XG4gIGdldCBpc0NvbXBsZXRlKCkge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMubWFza2VkLnZhbHVlKSB8fCB0aGlzLmlzT3B0aW9uYWw7XG4gIH1cbiAgX2FwcGVuZENoYXIoY2gsIGZsYWdzKSB7XG4gICAgaWYgKGZsYWdzID09PSB2b2lkIDApIHtcbiAgICAgIGZsYWdzID0ge307XG4gICAgfVxuICAgIGlmICh0aGlzLmlzRmlsbGVkKSByZXR1cm4gbmV3IENoYW5nZURldGFpbHMoKTtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMubWFza2VkLnN0YXRlO1xuICAgIC8vIHNpbXVsYXRlIGlucHV0XG4gICAgY29uc3QgZGV0YWlscyA9IHRoaXMubWFza2VkLl9hcHBlbmRDaGFyKGNoLCB0aGlzLmN1cnJlbnRNYXNrRmxhZ3MoZmxhZ3MpKTtcbiAgICBpZiAoZGV0YWlscy5pbnNlcnRlZCAmJiB0aGlzLmRvVmFsaWRhdGUoZmxhZ3MpID09PSBmYWxzZSkge1xuICAgICAgZGV0YWlscy5pbnNlcnRlZCA9IGRldGFpbHMucmF3SW5zZXJ0ZWQgPSAnJztcbiAgICAgIHRoaXMubWFza2VkLnN0YXRlID0gc3RhdGU7XG4gICAgfVxuICAgIGlmICghZGV0YWlscy5pbnNlcnRlZCAmJiAhdGhpcy5pc09wdGlvbmFsICYmICF0aGlzLmxhenkgJiYgIWZsYWdzLmlucHV0KSB7XG4gICAgICBkZXRhaWxzLmluc2VydGVkID0gdGhpcy5wbGFjZWhvbGRlckNoYXI7XG4gICAgfVxuICAgIGRldGFpbHMuc2tpcCA9ICFkZXRhaWxzLmluc2VydGVkICYmICF0aGlzLmlzT3B0aW9uYWw7XG4gICAgdGhpcy5pc0ZpbGxlZCA9IEJvb2xlYW4oZGV0YWlscy5pbnNlcnRlZCk7XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cbiAgYXBwZW5kKHN0ciwgZmxhZ3MsIHRhaWwpIHtcbiAgICAvLyBUT0RPIHByb2JhYmx5IHNob3VsZCBiZSBkb25lIHZpYSBfYXBwZW5kQ2hhclxuICAgIHJldHVybiB0aGlzLm1hc2tlZC5hcHBlbmQoc3RyLCB0aGlzLmN1cnJlbnRNYXNrRmxhZ3MoZmxhZ3MpLCB0YWlsKTtcbiAgfVxuICBfYXBwZW5kUGxhY2Vob2xkZXIoKSB7XG4gICAgY29uc3QgZGV0YWlscyA9IG5ldyBDaGFuZ2VEZXRhaWxzKCk7XG4gICAgaWYgKHRoaXMuaXNGaWxsZWQgfHwgdGhpcy5pc09wdGlvbmFsKSByZXR1cm4gZGV0YWlscztcbiAgICB0aGlzLmlzRmlsbGVkID0gdHJ1ZTtcbiAgICBkZXRhaWxzLmluc2VydGVkID0gdGhpcy5wbGFjZWhvbGRlckNoYXI7XG4gICAgcmV0dXJuIGRldGFpbHM7XG4gIH1cbiAgX2FwcGVuZEVhZ2VyKCkge1xuICAgIHJldHVybiBuZXcgQ2hhbmdlRGV0YWlscygpO1xuICB9XG4gIGV4dHJhY3RUYWlsKGZyb21Qb3MsIHRvUG9zKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza2VkLmV4dHJhY3RUYWlsKGZyb21Qb3MsIHRvUG9zKTtcbiAgfVxuICBhcHBlbmRUYWlsKHRhaWwpIHtcbiAgICByZXR1cm4gdGhpcy5tYXNrZWQuYXBwZW5kVGFpbCh0YWlsKTtcbiAgfVxuICBleHRyYWN0SW5wdXQoZnJvbVBvcywgdG9Qb3MsIGZsYWdzKSB7XG4gICAgaWYgKGZyb21Qb3MgPT09IHZvaWQgMCkge1xuICAgICAgZnJvbVBvcyA9IDA7XG4gICAgfVxuICAgIGlmICh0b1BvcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0b1BvcyA9IHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYXNrZWQuZXh0cmFjdElucHV0KGZyb21Qb3MsIHRvUG9zLCBmbGFncyk7XG4gIH1cbiAgbmVhcmVzdElucHV0UG9zKGN1cnNvclBvcywgZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICBkaXJlY3Rpb24gPSBESVJFQ1RJT04uTk9ORTtcbiAgICB9XG4gICAgY29uc3QgbWluUG9zID0gMDtcbiAgICBjb25zdCBtYXhQb3MgPSB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICBjb25zdCBib3VuZFBvcyA9IE1hdGgubWluKE1hdGgubWF4KGN1cnNvclBvcywgbWluUG9zKSwgbWF4UG9zKTtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgY2FzZSBESVJFQ1RJT04uTEVGVDpcbiAgICAgIGNhc2UgRElSRUNUSU9OLkZPUkNFX0xFRlQ6XG4gICAgICAgIHJldHVybiB0aGlzLmlzQ29tcGxldGUgPyBib3VuZFBvcyA6IG1pblBvcztcbiAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgY2FzZSBESVJFQ1RJT04uRk9SQ0VfUklHSFQ6XG4gICAgICAgIHJldHVybiB0aGlzLmlzQ29tcGxldGUgPyBib3VuZFBvcyA6IG1heFBvcztcbiAgICAgIGNhc2UgRElSRUNUSU9OLk5PTkU6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gYm91bmRQb3M7XG4gICAgfVxuICB9XG4gIHRvdGFsSW5wdXRQb3NpdGlvbnMoZnJvbVBvcywgdG9Qb3MpIHtcbiAgICBpZiAoZnJvbVBvcyA9PT0gdm9pZCAwKSB7XG4gICAgICBmcm9tUG9zID0gMDtcbiAgICB9XG4gICAgaWYgKHRvUG9zID09PSB2b2lkIDApIHtcbiAgICAgIHRvUG9zID0gdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnZhbHVlLnNsaWNlKGZyb21Qb3MsIHRvUG9zKS5sZW5ndGg7XG4gIH1cbiAgZG9WYWxpZGF0ZShmbGFncykge1xuICAgIHJldHVybiB0aGlzLm1hc2tlZC5kb1ZhbGlkYXRlKHRoaXMuY3VycmVudE1hc2tGbGFncyhmbGFncykpICYmICghdGhpcy5wYXJlbnQgfHwgdGhpcy5wYXJlbnQuZG9WYWxpZGF0ZSh0aGlzLmN1cnJlbnRNYXNrRmxhZ3MoZmxhZ3MpKSk7XG4gIH1cbiAgZG9Db21taXQoKSB7XG4gICAgdGhpcy5tYXNrZWQuZG9Db21taXQoKTtcbiAgfVxuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF92YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgIF9yYXdJbnB1dFZhbHVlOiB0aGlzLnJhd0lucHV0VmFsdWUsXG4gICAgICBtYXNrZWQ6IHRoaXMubWFza2VkLnN0YXRlLFxuICAgICAgaXNGaWxsZWQ6IHRoaXMuaXNGaWxsZWRcbiAgICB9O1xuICB9XG4gIHNldCBzdGF0ZShzdGF0ZSkge1xuICAgIHRoaXMubWFza2VkLnN0YXRlID0gc3RhdGUubWFza2VkO1xuICAgIHRoaXMuaXNGaWxsZWQgPSBzdGF0ZS5pc0ZpbGxlZDtcbiAgfVxuICBjdXJyZW50TWFza0ZsYWdzKGZsYWdzKSB7XG4gICAgdmFyIF9mbGFncyRfYmVmb3JlVGFpbFN0YTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZmxhZ3MsXG4gICAgICBfYmVmb3JlVGFpbFN0YXRlOiAoZmxhZ3MgPT0gbnVsbCA/IHZvaWQgMCA6IChfZmxhZ3MkX2JlZm9yZVRhaWxTdGEgPSBmbGFncy5fYmVmb3JlVGFpbFN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogX2ZsYWdzJF9iZWZvcmVUYWlsU3RhLm1hc2tlZCkgfHwgKGZsYWdzID09IG51bGwgPyB2b2lkIDAgOiBmbGFncy5fYmVmb3JlVGFpbFN0YXRlKVxuICAgIH07XG4gIH1cbn1cblBhdHRlcm5JbnB1dERlZmluaXRpb24uREVGQVVMVF9ERUZJTklUSU9OUyA9IHtcbiAgJzAnOiAvXFxkLyxcbiAgJ2EnOiAvW1xcdTAwNDEtXFx1MDA1QVxcdTAwNjEtXFx1MDA3QVxcdTAwQUFcXHUwMEI1XFx1MDBCQVxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJDMVxcdTAyQzYtXFx1MDJEMVxcdTAyRTAtXFx1MDJFNFxcdTAyRUNcXHUwMkVFXFx1MDM3MC1cXHUwMzc0XFx1MDM3NlxcdTAzNzdcXHUwMzdBLVxcdTAzN0RcXHUwMzg2XFx1MDM4OC1cXHUwMzhBXFx1MDM4Q1xcdTAzOEUtXFx1MDNBMVxcdTAzQTMtXFx1MDNGNVxcdTAzRjctXFx1MDQ4MVxcdTA0OEEtXFx1MDUyN1xcdTA1MzEtXFx1MDU1NlxcdTA1NTlcXHUwNTYxLVxcdTA1ODdcXHUwNUQwLVxcdTA1RUFcXHUwNUYwLVxcdTA1RjJcXHUwNjIwLVxcdTA2NEFcXHUwNjZFXFx1MDY2RlxcdTA2NzEtXFx1MDZEM1xcdTA2RDVcXHUwNkU1XFx1MDZFNlxcdTA2RUVcXHUwNkVGXFx1MDZGQS1cXHUwNkZDXFx1MDZGRlxcdTA3MTBcXHUwNzEyLVxcdTA3MkZcXHUwNzRELVxcdTA3QTVcXHUwN0IxXFx1MDdDQS1cXHUwN0VBXFx1MDdGNFxcdTA3RjVcXHUwN0ZBXFx1MDgwMC1cXHUwODE1XFx1MDgxQVxcdTA4MjRcXHUwODI4XFx1MDg0MC1cXHUwODU4XFx1MDhBMFxcdTA4QTItXFx1MDhBQ1xcdTA5MDQtXFx1MDkzOVxcdTA5M0RcXHUwOTUwXFx1MDk1OC1cXHUwOTYxXFx1MDk3MS1cXHUwOTc3XFx1MDk3OS1cXHUwOTdGXFx1MDk4NS1cXHUwOThDXFx1MDk4RlxcdTA5OTBcXHUwOTkzLVxcdTA5QThcXHUwOUFBLVxcdTA5QjBcXHUwOUIyXFx1MDlCNi1cXHUwOUI5XFx1MDlCRFxcdTA5Q0VcXHUwOURDXFx1MDlERFxcdTA5REYtXFx1MDlFMVxcdTA5RjBcXHUwOUYxXFx1MEEwNS1cXHUwQTBBXFx1MEEwRlxcdTBBMTBcXHUwQTEzLVxcdTBBMjhcXHUwQTJBLVxcdTBBMzBcXHUwQTMyXFx1MEEzM1xcdTBBMzVcXHUwQTM2XFx1MEEzOFxcdTBBMzlcXHUwQTU5LVxcdTBBNUNcXHUwQTVFXFx1MEE3Mi1cXHUwQTc0XFx1MEE4NS1cXHUwQThEXFx1MEE4Ri1cXHUwQTkxXFx1MEE5My1cXHUwQUE4XFx1MEFBQS1cXHUwQUIwXFx1MEFCMlxcdTBBQjNcXHUwQUI1LVxcdTBBQjlcXHUwQUJEXFx1MEFEMFxcdTBBRTBcXHUwQUUxXFx1MEIwNS1cXHUwQjBDXFx1MEIwRlxcdTBCMTBcXHUwQjEzLVxcdTBCMjhcXHUwQjJBLVxcdTBCMzBcXHUwQjMyXFx1MEIzM1xcdTBCMzUtXFx1MEIzOVxcdTBCM0RcXHUwQjVDXFx1MEI1RFxcdTBCNUYtXFx1MEI2MVxcdTBCNzFcXHUwQjgzXFx1MEI4NS1cXHUwQjhBXFx1MEI4RS1cXHUwQjkwXFx1MEI5Mi1cXHUwQjk1XFx1MEI5OVxcdTBCOUFcXHUwQjlDXFx1MEI5RVxcdTBCOUZcXHUwQkEzXFx1MEJBNFxcdTBCQTgtXFx1MEJBQVxcdTBCQUUtXFx1MEJCOVxcdTBCRDBcXHUwQzA1LVxcdTBDMENcXHUwQzBFLVxcdTBDMTBcXHUwQzEyLVxcdTBDMjhcXHUwQzJBLVxcdTBDMzNcXHUwQzM1LVxcdTBDMzlcXHUwQzNEXFx1MEM1OFxcdTBDNTlcXHUwQzYwXFx1MEM2MVxcdTBDODUtXFx1MEM4Q1xcdTBDOEUtXFx1MEM5MFxcdTBDOTItXFx1MENBOFxcdTBDQUEtXFx1MENCM1xcdTBDQjUtXFx1MENCOVxcdTBDQkRcXHUwQ0RFXFx1MENFMFxcdTBDRTFcXHUwQ0YxXFx1MENGMlxcdTBEMDUtXFx1MEQwQ1xcdTBEMEUtXFx1MEQxMFxcdTBEMTItXFx1MEQzQVxcdTBEM0RcXHUwRDRFXFx1MEQ2MFxcdTBENjFcXHUwRDdBLVxcdTBEN0ZcXHUwRDg1LVxcdTBEOTZcXHUwRDlBLVxcdTBEQjFcXHUwREIzLVxcdTBEQkJcXHUwREJEXFx1MERDMC1cXHUwREM2XFx1MEUwMS1cXHUwRTMwXFx1MEUzMlxcdTBFMzNcXHUwRTQwLVxcdTBFNDZcXHUwRTgxXFx1MEU4MlxcdTBFODRcXHUwRTg3XFx1MEU4OFxcdTBFOEFcXHUwRThEXFx1MEU5NC1cXHUwRTk3XFx1MEU5OS1cXHUwRTlGXFx1MEVBMS1cXHUwRUEzXFx1MEVBNVxcdTBFQTdcXHUwRUFBXFx1MEVBQlxcdTBFQUQtXFx1MEVCMFxcdTBFQjJcXHUwRUIzXFx1MEVCRFxcdTBFQzAtXFx1MEVDNFxcdTBFQzZcXHUwRURDLVxcdTBFREZcXHUwRjAwXFx1MEY0MC1cXHUwRjQ3XFx1MEY0OS1cXHUwRjZDXFx1MEY4OC1cXHUwRjhDXFx1MTAwMC1cXHUxMDJBXFx1MTAzRlxcdTEwNTAtXFx1MTA1NVxcdTEwNUEtXFx1MTA1RFxcdTEwNjFcXHUxMDY1XFx1MTA2NlxcdTEwNkUtXFx1MTA3MFxcdTEwNzUtXFx1MTA4MVxcdTEwOEVcXHUxMEEwLVxcdTEwQzVcXHUxMEM3XFx1MTBDRFxcdTEwRDAtXFx1MTBGQVxcdTEwRkMtXFx1MTI0OFxcdTEyNEEtXFx1MTI0RFxcdTEyNTAtXFx1MTI1NlxcdTEyNThcXHUxMjVBLVxcdTEyNURcXHUxMjYwLVxcdTEyODhcXHUxMjhBLVxcdTEyOERcXHUxMjkwLVxcdTEyQjBcXHUxMkIyLVxcdTEyQjVcXHUxMkI4LVxcdTEyQkVcXHUxMkMwXFx1MTJDMi1cXHUxMkM1XFx1MTJDOC1cXHUxMkQ2XFx1MTJEOC1cXHUxMzEwXFx1MTMxMi1cXHUxMzE1XFx1MTMxOC1cXHUxMzVBXFx1MTM4MC1cXHUxMzhGXFx1MTNBMC1cXHUxM0Y0XFx1MTQwMS1cXHUxNjZDXFx1MTY2Ri1cXHUxNjdGXFx1MTY4MS1cXHUxNjlBXFx1MTZBMC1cXHUxNkVBXFx1MTcwMC1cXHUxNzBDXFx1MTcwRS1cXHUxNzExXFx1MTcyMC1cXHUxNzMxXFx1MTc0MC1cXHUxNzUxXFx1MTc2MC1cXHUxNzZDXFx1MTc2RS1cXHUxNzcwXFx1MTc4MC1cXHUxN0IzXFx1MTdEN1xcdTE3RENcXHUxODIwLVxcdTE4NzdcXHUxODgwLVxcdTE4QThcXHUxOEFBXFx1MThCMC1cXHUxOEY1XFx1MTkwMC1cXHUxOTFDXFx1MTk1MC1cXHUxOTZEXFx1MTk3MC1cXHUxOTc0XFx1MTk4MC1cXHUxOUFCXFx1MTlDMS1cXHUxOUM3XFx1MUEwMC1cXHUxQTE2XFx1MUEyMC1cXHUxQTU0XFx1MUFBN1xcdTFCMDUtXFx1MUIzM1xcdTFCNDUtXFx1MUI0QlxcdTFCODMtXFx1MUJBMFxcdTFCQUVcXHUxQkFGXFx1MUJCQS1cXHUxQkU1XFx1MUMwMC1cXHUxQzIzXFx1MUM0RC1cXHUxQzRGXFx1MUM1QS1cXHUxQzdEXFx1MUNFOS1cXHUxQ0VDXFx1MUNFRS1cXHUxQ0YxXFx1MUNGNVxcdTFDRjZcXHUxRDAwLVxcdTFEQkZcXHUxRTAwLVxcdTFGMTVcXHUxRjE4LVxcdTFGMURcXHUxRjIwLVxcdTFGNDVcXHUxRjQ4LVxcdTFGNERcXHUxRjUwLVxcdTFGNTdcXHUxRjU5XFx1MUY1QlxcdTFGNURcXHUxRjVGLVxcdTFGN0RcXHUxRjgwLVxcdTFGQjRcXHUxRkI2LVxcdTFGQkNcXHUxRkJFXFx1MUZDMi1cXHUxRkM0XFx1MUZDNi1cXHUxRkNDXFx1MUZEMC1cXHUxRkQzXFx1MUZENi1cXHUxRkRCXFx1MUZFMC1cXHUxRkVDXFx1MUZGMi1cXHUxRkY0XFx1MUZGNi1cXHUxRkZDXFx1MjA3MVxcdTIwN0ZcXHUyMDkwLVxcdTIwOUNcXHUyMTAyXFx1MjEwN1xcdTIxMEEtXFx1MjExM1xcdTIxMTVcXHUyMTE5LVxcdTIxMURcXHUyMTI0XFx1MjEyNlxcdTIxMjhcXHUyMTJBLVxcdTIxMkRcXHUyMTJGLVxcdTIxMzlcXHUyMTNDLVxcdTIxM0ZcXHUyMTQ1LVxcdTIxNDlcXHUyMTRFXFx1MjE4M1xcdTIxODRcXHUyQzAwLVxcdTJDMkVcXHUyQzMwLVxcdTJDNUVcXHUyQzYwLVxcdTJDRTRcXHUyQ0VCLVxcdTJDRUVcXHUyQ0YyXFx1MkNGM1xcdTJEMDAtXFx1MkQyNVxcdTJEMjdcXHUyRDJEXFx1MkQzMC1cXHUyRDY3XFx1MkQ2RlxcdTJEODAtXFx1MkQ5NlxcdTJEQTAtXFx1MkRBNlxcdTJEQTgtXFx1MkRBRVxcdTJEQjAtXFx1MkRCNlxcdTJEQjgtXFx1MkRCRVxcdTJEQzAtXFx1MkRDNlxcdTJEQzgtXFx1MkRDRVxcdTJERDAtXFx1MkRENlxcdTJERDgtXFx1MkRERVxcdTJFMkZcXHUzMDA1XFx1MzAwNlxcdTMwMzEtXFx1MzAzNVxcdTMwM0JcXHUzMDNDXFx1MzA0MS1cXHUzMDk2XFx1MzA5RC1cXHUzMDlGXFx1MzBBMS1cXHUzMEZBXFx1MzBGQy1cXHUzMEZGXFx1MzEwNS1cXHUzMTJEXFx1MzEzMS1cXHUzMThFXFx1MzFBMC1cXHUzMUJBXFx1MzFGMC1cXHUzMUZGXFx1MzQwMC1cXHU0REI1XFx1NEUwMC1cXHU5RkNDXFx1QTAwMC1cXHVBNDhDXFx1QTREMC1cXHVBNEZEXFx1QTUwMC1cXHVBNjBDXFx1QTYxMC1cXHVBNjFGXFx1QTYyQVxcdUE2MkJcXHVBNjQwLVxcdUE2NkVcXHVBNjdGLVxcdUE2OTdcXHVBNkEwLVxcdUE2RTVcXHVBNzE3LVxcdUE3MUZcXHVBNzIyLVxcdUE3ODhcXHVBNzhCLVxcdUE3OEVcXHVBNzkwLVxcdUE3OTNcXHVBN0EwLVxcdUE3QUFcXHVBN0Y4LVxcdUE4MDFcXHVBODAzLVxcdUE4MDVcXHVBODA3LVxcdUE4MEFcXHVBODBDLVxcdUE4MjJcXHVBODQwLVxcdUE4NzNcXHVBODgyLVxcdUE4QjNcXHVBOEYyLVxcdUE4RjdcXHVBOEZCXFx1QTkwQS1cXHVBOTI1XFx1QTkzMC1cXHVBOTQ2XFx1QTk2MC1cXHVBOTdDXFx1QTk4NC1cXHVBOUIyXFx1QTlDRlxcdUFBMDAtXFx1QUEyOFxcdUFBNDAtXFx1QUE0MlxcdUFBNDQtXFx1QUE0QlxcdUFBNjAtXFx1QUE3NlxcdUFBN0FcXHVBQTgwLVxcdUFBQUZcXHVBQUIxXFx1QUFCNVxcdUFBQjZcXHVBQUI5LVxcdUFBQkRcXHVBQUMwXFx1QUFDMlxcdUFBREItXFx1QUFERFxcdUFBRTAtXFx1QUFFQVxcdUFBRjItXFx1QUFGNFxcdUFCMDEtXFx1QUIwNlxcdUFCMDktXFx1QUIwRVxcdUFCMTEtXFx1QUIxNlxcdUFCMjAtXFx1QUIyNlxcdUFCMjgtXFx1QUIyRVxcdUFCQzAtXFx1QUJFMlxcdUFDMDAtXFx1RDdBM1xcdUQ3QjAtXFx1RDdDNlxcdUQ3Q0ItXFx1RDdGQlxcdUY5MDAtXFx1RkE2RFxcdUZBNzAtXFx1RkFEOVxcdUZCMDAtXFx1RkIwNlxcdUZCMTMtXFx1RkIxN1xcdUZCMURcXHVGQjFGLVxcdUZCMjhcXHVGQjJBLVxcdUZCMzZcXHVGQjM4LVxcdUZCM0NcXHVGQjNFXFx1RkI0MFxcdUZCNDFcXHVGQjQzXFx1RkI0NFxcdUZCNDYtXFx1RkJCMVxcdUZCRDMtXFx1RkQzRFxcdUZENTAtXFx1RkQ4RlxcdUZEOTItXFx1RkRDN1xcdUZERjAtXFx1RkRGQlxcdUZFNzAtXFx1RkU3NFxcdUZFNzYtXFx1RkVGQ1xcdUZGMjEtXFx1RkYzQVxcdUZGNDEtXFx1RkY1QVxcdUZGNjYtXFx1RkZCRVxcdUZGQzItXFx1RkZDN1xcdUZGQ0EtXFx1RkZDRlxcdUZGRDItXFx1RkZEN1xcdUZGREEtXFx1RkZEQ10vLFxuICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjA3NTA3MFxuICAnKic6IC8uL1xufTtcblxuZXhwb3J0IHsgUGF0dGVybklucHV0RGVmaW5pdGlvbiBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgY3JlYXRlTWFzayBmcm9tICcuL2ZhY3RvcnkuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vY29yZS91dGlscy5qcyc7XG5cbi8qKiBNYXNrIHBpcGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyAqL1xuY29uc3QgUElQRV9UWVBFID0ge1xuICBNQVNLRUQ6ICd2YWx1ZScsXG4gIFVOTUFTS0VEOiAndW5tYXNrZWRWYWx1ZScsXG4gIFRZUEVEOiAndHlwZWRWYWx1ZSdcbn07XG4vKiogQ3JlYXRlcyBuZXcgcGlwZSBmdW5jdGlvbiBkZXBlbmRpbmcgb24gbWFzayB0eXBlLCBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIG9wdGlvbnMgKi9cbmZ1bmN0aW9uIGNyZWF0ZVBpcGUoYXJnLCBmcm9tLCB0bykge1xuICBpZiAoZnJvbSA9PT0gdm9pZCAwKSB7XG4gICAgZnJvbSA9IFBJUEVfVFlQRS5NQVNLRUQ7XG4gIH1cbiAgaWYgKHRvID09PSB2b2lkIDApIHtcbiAgICB0byA9IFBJUEVfVFlQRS5NQVNLRUQ7XG4gIH1cbiAgY29uc3QgbWFza2VkID0gY3JlYXRlTWFzayhhcmcpO1xuICByZXR1cm4gdmFsdWUgPT4gbWFza2VkLnJ1bklzb2xhdGVkKG0gPT4ge1xuICAgIG1bZnJvbV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gbVt0b107XG4gIH0pO1xufVxuXG4vKiogUGlwZXMgdmFsdWUgdGhyb3VnaCBtYXNrIGRlcGVuZGluZyBvbiBtYXNrIHR5cGUsIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gb3B0aW9ucyAqL1xuZnVuY3Rpb24gcGlwZSh2YWx1ZSwgbWFzaywgZnJvbSwgdG8pIHtcbiAgcmV0dXJuIGNyZWF0ZVBpcGUobWFzaywgZnJvbSwgdG8pKHZhbHVlKTtcbn1cbklNYXNrLlBJUEVfVFlQRSA9IFBJUEVfVFlQRTtcbklNYXNrLmNyZWF0ZVBpcGUgPSBjcmVhdGVQaXBlO1xuSU1hc2sucGlwZSA9IHBpcGU7XG5cbmV4cG9ydCB7IFBJUEVfVFlQRSwgY3JlYXRlUGlwZSwgcGlwZSB9O1xuIiwiaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCBNYXNrZWRQYXR0ZXJuIGZyb20gJy4vcGF0dGVybi5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY2hhbmdlLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuLi9jb3JlL3V0aWxzLmpzJztcbmltcG9ydCAnLi9iYXNlLmpzJztcbmltcG9ydCAnLi4vY29yZS9jb250aW51b3VzLXRhaWwtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4vZmFjdG9yeS5qcyc7XG5pbXBvcnQgJy4vcGF0dGVybi9jaHVuay10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vY3Vyc29yLmpzJztcbmltcG9ydCAnLi9wYXR0ZXJuL2ZpeGVkLWRlZmluaXRpb24uanMnO1xuaW1wb3J0ICcuL3BhdHRlcm4vaW5wdXQtZGVmaW5pdGlvbi5qcyc7XG5pbXBvcnQgJy4vcmVnZXhwLmpzJztcblxuLyoqIFBhdHRlcm4gd2hpY2ggYWNjZXB0cyByYW5nZXMgKi9cbmNsYXNzIE1hc2tlZFJhbmdlIGV4dGVuZHMgTWFza2VkUGF0dGVybiB7XG4gIC8qKlxuICAgIE9wdGlvbmFsbHkgc2V0cyBtYXggbGVuZ3RoIG9mIHBhdHRlcm4uXG4gICAgVXNlZCB3aGVuIHBhdHRlcm4gbGVuZ3RoIGlzIGxvbmdlciB0aGVuIGB0b2AgcGFyYW0gbGVuZ3RoLiBQYWRzIHplcm9zIGF0IHN0YXJ0IGluIHRoaXMgY2FzZS5cbiAgKi9cblxuICAvKiogTWluIGJvdW5kICovXG5cbiAgLyoqIE1heCBib3VuZCAqL1xuXG4gIC8qKiAqL1xuXG4gIGdldCBfbWF0Y2hGcm9tKCkge1xuICAgIHJldHVybiB0aGlzLm1heExlbmd0aCAtIFN0cmluZyh0aGlzLmZyb20pLmxlbmd0aDtcbiAgfVxuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgc3VwZXIob3B0cyk7IC8vIG1hc2sgd2lsbCBiZSBjcmVhdGVkIGluIF91cGRhdGVcbiAgfVxuXG4gIHVwZGF0ZU9wdGlvbnMob3B0cykge1xuICAgIHN1cGVyLnVwZGF0ZU9wdGlvbnMob3B0cyk7XG4gIH1cbiAgX3VwZGF0ZShvcHRzKSB7XG4gICAgY29uc3Qge1xuICAgICAgdG8gPSB0aGlzLnRvIHx8IDAsXG4gICAgICBmcm9tID0gdGhpcy5mcm9tIHx8IDAsXG4gICAgICBtYXhMZW5ndGggPSB0aGlzLm1heExlbmd0aCB8fCAwLFxuICAgICAgYXV0b2ZpeCA9IHRoaXMuYXV0b2ZpeCxcbiAgICAgIC4uLnBhdHRlcm5PcHRzXG4gICAgfSA9IG9wdHM7XG4gICAgdGhpcy50byA9IHRvO1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgdGhpcy5tYXhMZW5ndGggPSBNYXRoLm1heChTdHJpbmcodG8pLmxlbmd0aCwgbWF4TGVuZ3RoKTtcbiAgICB0aGlzLmF1dG9maXggPSBhdXRvZml4O1xuICAgIGNvbnN0IGZyb21TdHIgPSBTdHJpbmcodGhpcy5mcm9tKS5wYWRTdGFydCh0aGlzLm1heExlbmd0aCwgJzAnKTtcbiAgICBjb25zdCB0b1N0ciA9IFN0cmluZyh0aGlzLnRvKS5wYWRTdGFydCh0aGlzLm1heExlbmd0aCwgJzAnKTtcbiAgICBsZXQgc2FtZUNoYXJzQ291bnQgPSAwO1xuICAgIHdoaWxlIChzYW1lQ2hhcnNDb3VudCA8IHRvU3RyLmxlbmd0aCAmJiB0b1N0cltzYW1lQ2hhcnNDb3VudF0gPT09IGZyb21TdHJbc2FtZUNoYXJzQ291bnRdKSArK3NhbWVDaGFyc0NvdW50O1xuICAgIHBhdHRlcm5PcHRzLm1hc2sgPSB0b1N0ci5zbGljZSgwLCBzYW1lQ2hhcnNDb3VudCkucmVwbGFjZSgvMC9nLCAnXFxcXDAnKSArICcwJy5yZXBlYXQodGhpcy5tYXhMZW5ndGggLSBzYW1lQ2hhcnNDb3VudCk7XG4gICAgc3VwZXIuX3VwZGF0ZShwYXR0ZXJuT3B0cyk7XG4gIH1cbiAgZ2V0IGlzQ29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHN1cGVyLmlzQ29tcGxldGUgJiYgQm9vbGVhbih0aGlzLnZhbHVlKTtcbiAgfVxuICBib3VuZGFyaWVzKHN0cikge1xuICAgIGxldCBtaW5zdHIgPSAnJztcbiAgICBsZXQgbWF4c3RyID0gJyc7XG4gICAgY29uc3QgWywgcGxhY2Vob2xkZXIsIG51bV0gPSBzdHIubWF0Y2goL14oXFxEKikoXFxkKikoXFxEKikvKSB8fCBbXTtcbiAgICBpZiAobnVtKSB7XG4gICAgICBtaW5zdHIgPSAnMCcucmVwZWF0KHBsYWNlaG9sZGVyLmxlbmd0aCkgKyBudW07XG4gICAgICBtYXhzdHIgPSAnOScucmVwZWF0KHBsYWNlaG9sZGVyLmxlbmd0aCkgKyBudW07XG4gICAgfVxuICAgIG1pbnN0ciA9IG1pbnN0ci5wYWRFbmQodGhpcy5tYXhMZW5ndGgsICcwJyk7XG4gICAgbWF4c3RyID0gbWF4c3RyLnBhZEVuZCh0aGlzLm1heExlbmd0aCwgJzknKTtcbiAgICByZXR1cm4gW21pbnN0ciwgbWF4c3RyXTtcbiAgfVxuICBkb1ByZXBhcmVDaGFyKGNoLCBmbGFncykge1xuICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7XG4gICAgICBmbGFncyA9IHt9O1xuICAgIH1cbiAgICBsZXQgZGV0YWlscztcbiAgICBbY2gsIGRldGFpbHNdID0gc3VwZXIuZG9QcmVwYXJlQ2hhcihjaC5yZXBsYWNlKC9cXEQvZywgJycpLCBmbGFncyk7XG4gICAgaWYgKCF0aGlzLmF1dG9maXggfHwgIWNoKSByZXR1cm4gW2NoLCBkZXRhaWxzXTtcbiAgICBjb25zdCBmcm9tU3RyID0gU3RyaW5nKHRoaXMuZnJvbSkucGFkU3RhcnQodGhpcy5tYXhMZW5ndGgsICcwJyk7XG4gICAgY29uc3QgdG9TdHIgPSBTdHJpbmcodGhpcy50bykucGFkU3RhcnQodGhpcy5tYXhMZW5ndGgsICcwJyk7XG4gICAgY29uc3QgbmV4dFZhbCA9IHRoaXMudmFsdWUgKyBjaDtcbiAgICBpZiAobmV4dFZhbC5sZW5ndGggPiB0aGlzLm1heExlbmd0aCkgcmV0dXJuIFsnJywgZGV0YWlsc107XG4gICAgY29uc3QgW21pbnN0ciwgbWF4c3RyXSA9IHRoaXMuYm91bmRhcmllcyhuZXh0VmFsKTtcbiAgICBpZiAoTnVtYmVyKG1heHN0cikgPCB0aGlzLmZyb20pIHJldHVybiBbZnJvbVN0cltuZXh0VmFsLmxlbmd0aCAtIDFdLCBkZXRhaWxzXTtcbiAgICBpZiAoTnVtYmVyKG1pbnN0cikgPiB0aGlzLnRvKSB7XG4gICAgICBpZiAodGhpcy5hdXRvZml4ID09PSAncGFkJyAmJiBuZXh0VmFsLmxlbmd0aCA8IHRoaXMubWF4TGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbJycsIGRldGFpbHMuYWdncmVnYXRlKHRoaXMuYXBwZW5kKGZyb21TdHJbbmV4dFZhbC5sZW5ndGggLSAxXSArIGNoLCBmbGFncykpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbdG9TdHJbbmV4dFZhbC5sZW5ndGggLSAxXSwgZGV0YWlsc107XG4gICAgfVxuICAgIHJldHVybiBbY2gsIGRldGFpbHNdO1xuICB9XG4gIGRvVmFsaWRhdGUoZmxhZ3MpIHtcbiAgICBjb25zdCBzdHIgPSB0aGlzLnZhbHVlO1xuICAgIGNvbnN0IGZpcnN0Tm9uWmVybyA9IHN0ci5zZWFyY2goL1teMF0vKTtcbiAgICBpZiAoZmlyc3ROb25aZXJvID09PSAtMSAmJiBzdHIubGVuZ3RoIDw9IHRoaXMuX21hdGNoRnJvbSkgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgW21pbnN0ciwgbWF4c3RyXSA9IHRoaXMuYm91bmRhcmllcyhzdHIpO1xuICAgIHJldHVybiB0aGlzLmZyb20gPD0gTnVtYmVyKG1heHN0cikgJiYgTnVtYmVyKG1pbnN0cikgPD0gdGhpcy50byAmJiBzdXBlci5kb1ZhbGlkYXRlKGZsYWdzKTtcbiAgfVxufVxuSU1hc2suTWFza2VkUmFuZ2UgPSBNYXNrZWRSYW5nZTtcblxuZXhwb3J0IHsgTWFza2VkUmFuZ2UgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IE1hc2tlZCBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0IElNYXNrIGZyb20gJy4uL2NvcmUvaG9sZGVyLmpzJztcbmltcG9ydCAnLi4vY29yZS9jaGFuZ2UtZGV0YWlscy5qcyc7XG5pbXBvcnQgJy4uL2NvcmUvY29udGludW91cy10YWlsLWRldGFpbHMuanMnO1xuaW1wb3J0ICcuLi9jb3JlL3V0aWxzLmpzJztcblxuLyoqIE1hc2tpbmcgYnkgUmVnRXhwICovXG5jbGFzcyBNYXNrZWRSZWdFeHAgZXh0ZW5kcyBNYXNrZWQge1xuICAvKiogKi9cblxuICAvKiogRW5hYmxlIGNoYXJhY3RlcnMgb3ZlcndyaXRpbmcgKi9cblxuICAvKiogKi9cblxuICAvKiogKi9cblxuICB1cGRhdGVPcHRpb25zKG9wdHMpIHtcbiAgICBzdXBlci51cGRhdGVPcHRpb25zKG9wdHMpO1xuICB9XG4gIF91cGRhdGUob3B0cykge1xuICAgIGNvbnN0IG1hc2sgPSBvcHRzLm1hc2s7XG4gICAgaWYgKG1hc2spIG9wdHMudmFsaWRhdGUgPSB2YWx1ZSA9PiB2YWx1ZS5zZWFyY2gobWFzaykgPj0gMDtcbiAgICBzdXBlci5fdXBkYXRlKG9wdHMpO1xuICB9XG59XG5JTWFzay5NYXNrZWRSZWdFeHAgPSBNYXNrZWRSZWdFeHA7XG5cbmV4cG9ydCB7IE1hc2tlZFJlZ0V4cCBhcyBkZWZhdWx0IH07XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAgIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGZhY3RvcnkoZ2xvYmFsLm5vVWlTbGlkZXIgPSB7fSkpO1xufSkodGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIGV4cG9ydHMuUGlwc01vZGUgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChQaXBzTW9kZSkge1xuICAgICAgICBQaXBzTW9kZVtcIlJhbmdlXCJdID0gXCJyYW5nZVwiO1xuICAgICAgICBQaXBzTW9kZVtcIlN0ZXBzXCJdID0gXCJzdGVwc1wiO1xuICAgICAgICBQaXBzTW9kZVtcIlBvc2l0aW9uc1wiXSA9IFwicG9zaXRpb25zXCI7XG4gICAgICAgIFBpcHNNb2RlW1wiQ291bnRcIl0gPSBcImNvdW50XCI7XG4gICAgICAgIFBpcHNNb2RlW1wiVmFsdWVzXCJdID0gXCJ2YWx1ZXNcIjtcbiAgICB9KShleHBvcnRzLlBpcHNNb2RlIHx8IChleHBvcnRzLlBpcHNNb2RlID0ge30pKTtcbiAgICBleHBvcnRzLlBpcHNUeXBlID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoUGlwc1R5cGUpIHtcbiAgICAgICAgUGlwc1R5cGVbUGlwc1R5cGVbXCJOb25lXCJdID0gLTFdID0gXCJOb25lXCI7XG4gICAgICAgIFBpcHNUeXBlW1BpcHNUeXBlW1wiTm9WYWx1ZVwiXSA9IDBdID0gXCJOb1ZhbHVlXCI7XG4gICAgICAgIFBpcHNUeXBlW1BpcHNUeXBlW1wiTGFyZ2VWYWx1ZVwiXSA9IDFdID0gXCJMYXJnZVZhbHVlXCI7XG4gICAgICAgIFBpcHNUeXBlW1BpcHNUeXBlW1wiU21hbGxWYWx1ZVwiXSA9IDJdID0gXCJTbWFsbFZhbHVlXCI7XG4gICAgfSkoZXhwb3J0cy5QaXBzVHlwZSB8fCAoZXhwb3J0cy5QaXBzVHlwZSA9IHt9KSk7XG4gICAgLy9yZWdpb24gSGVscGVyIE1ldGhvZHNcbiAgICBmdW5jdGlvbiBpc1ZhbGlkRm9ybWF0dGVyKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkUGFydGlhbEZvcm1hdHRlcihlbnRyeSkgJiYgdHlwZW9mIGVudHJ5LmZyb20gPT09IFwiZnVuY3Rpb25cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZFBhcnRpYWxGb3JtYXR0ZXIoZW50cnkpIHtcbiAgICAgICAgLy8gcGFydGlhbCBmb3JtYXR0ZXJzIG9ubHkgbmVlZCBhIHRvIGZ1bmN0aW9uIGFuZCBub3QgYSBmcm9tIGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiB0eXBlb2YgZW50cnkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGVudHJ5LnRvID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWwpIHtcbiAgICAgICAgZWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBCaW5kYWJsZSB2ZXJzaW9uXG4gICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIC8vIFJlbW92ZXMgZHVwbGljYXRlcyBmcm9tIGFuIGFycmF5LlxuICAgIGZ1bmN0aW9uIHVuaXF1ZShhcnJheSkge1xuICAgICAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXNbYV0gPyAodGhpc1thXSA9IHRydWUpIDogZmFsc2U7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG4gICAgLy8gUm91bmQgYSB2YWx1ZSB0byB0aGUgY2xvc2VzdCAndG8nLlxuICAgIGZ1bmN0aW9uIGNsb3Nlc3QodmFsdWUsIHRvKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlIC8gdG8pICogdG87XG4gICAgfVxuICAgIC8vIEN1cnJlbnQgcG9zaXRpb24gb2YgYW4gZWxlbWVudCByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQuXG4gICAgZnVuY3Rpb24gb2Zmc2V0KGVsZW0sIG9yaWVudGF0aW9uKSB7XG4gICAgICAgIHZhciByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcbiAgICAgICAgdmFyIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgcGFnZU9mZnNldCA9IGdldFBhZ2VPZmZzZXQoZG9jKTtcbiAgICAgICAgLy8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGNvbnRhaW5zIGxlZnQgc2Nyb2xsIGluIENocm9tZSBvbiBBbmRyb2lkLlxuICAgICAgICAvLyBJIGhhdmVuJ3QgZm91bmQgYSBmZWF0dXJlIGRldGVjdGlvbiB0aGF0IHByb3ZlcyB0aGlzLiBXb3JzdCBjYXNlXG4gICAgICAgIC8vIHNjZW5hcmlvIG9uIG1pcy1tYXRjaDogdGhlICd0YXAnIGZlYXR1cmUgb24gaG9yaXpvbnRhbCBzbGlkZXJzIGJyZWFrcy5cbiAgICAgICAgaWYgKC93ZWJraXQuKkNocm9tZS4qTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgICAgcGFnZU9mZnNldC54ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3JpZW50YXRpb24gPyByZWN0LnRvcCArIHBhZ2VPZmZzZXQueSAtIGRvY0VsZW0uY2xpZW50VG9wIDogcmVjdC5sZWZ0ICsgcGFnZU9mZnNldC54IC0gZG9jRWxlbS5jbGllbnRMZWZ0O1xuICAgIH1cbiAgICAvLyBDaGVja3Mgd2hldGhlciBhIHZhbHVlIGlzIG51bWVyaWNhbC5cbiAgICBmdW5jdGlvbiBpc051bWVyaWMoYSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGEgPT09IFwibnVtYmVyXCIgJiYgIWlzTmFOKGEpICYmIGlzRmluaXRlKGEpO1xuICAgIH1cbiAgICAvLyBTZXRzIGEgY2xhc3MgYW5kIHJlbW92ZXMgaXQgYWZ0ZXIgW2R1cmF0aW9uXSBtcy5cbiAgICBmdW5jdGlvbiBhZGRDbGFzc0ZvcihlbGVtZW50LCBjbGFzc05hbWUsIGR1cmF0aW9uKSB7XG4gICAgICAgIGlmIChkdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIExpbWl0cyBhIHZhbHVlIHRvIDAgLSAxMDBcbiAgICBmdW5jdGlvbiBsaW1pdChhKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbihhLCAxMDApLCAwKTtcbiAgICB9XG4gICAgLy8gV3JhcHMgYSB2YXJpYWJsZSBhcyBhbiBhcnJheSwgaWYgaXQgaXNuJ3Qgb25lIHlldC5cbiAgICAvLyBOb3RlIHRoYXQgYW4gaW5wdXQgYXJyYXkgaXMgcmV0dXJuZWQgYnkgcmVmZXJlbmNlIVxuICAgIGZ1bmN0aW9uIGFzQXJyYXkoYSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGEgOiBbYV07XG4gICAgfVxuICAgIC8vIENvdW50cyBkZWNpbWFsc1xuICAgIGZ1bmN0aW9uIGNvdW50RGVjaW1hbHMobnVtU3RyKSB7XG4gICAgICAgIG51bVN0ciA9IFN0cmluZyhudW1TdHIpO1xuICAgICAgICB2YXIgcGllY2VzID0gbnVtU3RyLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgcmV0dXJuIHBpZWNlcy5sZW5ndGggPiAxID8gcGllY2VzWzFdLmxlbmd0aCA6IDA7XG4gICAgfVxuICAgIC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNhZGRfY2xhc3NcbiAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgIS9cXHMvLnRlc3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwuY2xhc3NOYW1lICs9IFwiIFwiICsgY2xhc3NOYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNyZW1vdmVfY2xhc3NcbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgIS9cXHMvLnRlc3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChcIihefFxcXFxiKVwiICsgY2xhc3NOYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwifFwiKSArIFwiKFxcXFxifCQpXCIsIFwiZ2lcIiksIFwiIFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBodHRwczovL3BsYWluanMuY29tL2phdmFzY3JpcHQvYXR0cmlidXRlcy9hZGRpbmctcmVtb3ZpbmctYW5kLXRlc3RpbmctZm9yLWNsYXNzZXMtOS9cbiAgICBmdW5jdGlvbiBoYXNDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3QgPyBlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSA6IG5ldyBSZWdFeHAoXCJcXFxcYlwiICsgY2xhc3NOYW1lICsgXCJcXFxcYlwiKS50ZXN0KGVsLmNsYXNzTmFtZSk7XG4gICAgfVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvc2Nyb2xsWSNOb3Rlc1xuICAgIGZ1bmN0aW9uIGdldFBhZ2VPZmZzZXQoZG9jKSB7XG4gICAgICAgIHZhciBzdXBwb3J0UGFnZU9mZnNldCA9IHdpbmRvdy5wYWdlWE9mZnNldCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgaXNDU1MxQ29tcGF0ID0gKGRvYy5jb21wYXRNb2RlIHx8IFwiXCIpID09PSBcIkNTUzFDb21wYXRcIjtcbiAgICAgICAgdmFyIHggPSBzdXBwb3J0UGFnZU9mZnNldFxuICAgICAgICAgICAgPyB3aW5kb3cucGFnZVhPZmZzZXRcbiAgICAgICAgICAgIDogaXNDU1MxQ29tcGF0XG4gICAgICAgICAgICAgICAgPyBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnRcbiAgICAgICAgICAgICAgICA6IGRvYy5ib2R5LnNjcm9sbExlZnQ7XG4gICAgICAgIHZhciB5ID0gc3VwcG9ydFBhZ2VPZmZzZXRcbiAgICAgICAgICAgID8gd2luZG93LnBhZ2VZT2Zmc2V0XG4gICAgICAgICAgICA6IGlzQ1NTMUNvbXBhdFxuICAgICAgICAgICAgICAgID8gZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICA6IGRvYy5ib2R5LnNjcm9sbFRvcDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyB3ZSBwcm92aWRlIGEgZnVuY3Rpb24gdG8gY29tcHV0ZSBjb25zdGFudHMgaW5zdGVhZFxuICAgIC8vIG9mIGFjY2Vzc2luZyB3aW5kb3cuKiBhcyBzb29uIGFzIHRoZSBtb2R1bGUgbmVlZHMgaXRcbiAgICAvLyBzbyB0aGF0IHdlIGRvIG5vdCBjb21wdXRlIGFueXRoaW5nIGlmIG5vdCBuZWVkZWRcbiAgICBmdW5jdGlvbiBnZXRBY3Rpb25zKCkge1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGV2ZW50cyB0byBiaW5kLiBJRTExIGltcGxlbWVudHMgcG9pbnRlckV2ZW50cyB3aXRob3V0XG4gICAgICAgIC8vIGEgcHJlZml4LCB3aGljaCBicmVha3MgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBJRTEwIGltcGxlbWVudGF0aW9uLlxuICAgICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IFwicG9pbnRlcmRvd25cIixcbiAgICAgICAgICAgICAgICBtb3ZlOiBcInBvaW50ZXJtb3ZlXCIsXG4gICAgICAgICAgICAgICAgZW5kOiBcInBvaW50ZXJ1cFwiLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFwiTVNQb2ludGVyRG93blwiLFxuICAgICAgICAgICAgICAgICAgICBtb3ZlOiBcIk1TUG9pbnRlck1vdmVcIixcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBcIk1TUG9pbnRlclVwXCIsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBzdGFydDogXCJtb3VzZWRvd24gdG91Y2hzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICBtb3ZlOiBcIm1vdXNlbW92ZSB0b3VjaG1vdmVcIixcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBcIm1vdXNldXAgdG91Y2hlbmRcIixcbiAgICAgICAgICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZFxuICAgIC8vIElzc3VlICM3ODVcbiAgICBmdW5jdGlvbiBnZXRTdXBwb3J0c1Bhc3NpdmUoKSB7XG4gICAgICAgIHZhciBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInBhc3NpdmVcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLCBudWxsLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzUGFzc2l2ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuQ1NTICYmIENTUy5zdXBwb3J0cyAmJiBDU1Muc3VwcG9ydHMoXCJ0b3VjaC1hY3Rpb25cIiwgXCJub25lXCIpO1xuICAgIH1cbiAgICAvL2VuZHJlZ2lvblxuICAgIC8vcmVnaW9uIFJhbmdlIENhbGN1bGF0aW9uXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBzaXplIG9mIGEgc3ViLXJhbmdlIGluIHJlbGF0aW9uIHRvIGEgZnVsbCByYW5nZS5cbiAgICBmdW5jdGlvbiBzdWJSYW5nZVJhdGlvKHBhLCBwYikge1xuICAgICAgICByZXR1cm4gMTAwIC8gKHBiIC0gcGEpO1xuICAgIH1cbiAgICAvLyAocGVyY2VudGFnZSkgSG93IG1hbnkgcGVyY2VudCBpcyB0aGlzIHZhbHVlIG9mIHRoaXMgcmFuZ2U/XG4gICAgZnVuY3Rpb24gZnJvbVBlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlLCBzdGFydFJhbmdlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgKiAxMDApIC8gKHJhbmdlW3N0YXJ0UmFuZ2UgKyAxXSAtIHJhbmdlW3N0YXJ0UmFuZ2VdKTtcbiAgICB9XG4gICAgLy8gKHBlcmNlbnRhZ2UpIFdoZXJlIGlzIHRoaXMgdmFsdWUgb24gdGhpcyByYW5nZT9cbiAgICBmdW5jdGlvbiB0b1BlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmcm9tUGVyY2VudGFnZShyYW5nZSwgcmFuZ2VbMF0gPCAwID8gdmFsdWUgKyBNYXRoLmFicyhyYW5nZVswXSkgOiB2YWx1ZSAtIHJhbmdlWzBdLCAwKTtcbiAgICB9XG4gICAgLy8gKHZhbHVlKSBIb3cgbXVjaCBpcyB0aGlzIHBlcmNlbnRhZ2Ugb24gdGhpcyByYW5nZT9cbiAgICBmdW5jdGlvbiBpc1BlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgKiAocmFuZ2VbMV0gLSByYW5nZVswXSkpIC8gMTAwICsgcmFuZ2VbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEoodmFsdWUsIGFycikge1xuICAgICAgICB2YXIgaiA9IDE7XG4gICAgICAgIHdoaWxlICh2YWx1ZSA+PSBhcnJbal0pIHtcbiAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gajtcbiAgICB9XG4gICAgLy8gKHBlcmNlbnRhZ2UpIElucHV0IGEgdmFsdWUsIGZpbmQgd2hlcmUsIG9uIGEgc2NhbGUgb2YgMC0xMDAsIGl0IGFwcGxpZXMuXG4gICAgZnVuY3Rpb24gdG9TdGVwcGluZyh4VmFsLCB4UGN0LCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPj0geFZhbC5zbGljZSgtMSlbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4VmFsKTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuICAgICAgICByZXR1cm4gcGEgKyB0b1BlcmNlbnRhZ2UoW3ZhLCB2Yl0sIHZhbHVlKSAvIHN1YlJhbmdlUmF0aW8ocGEsIHBiKTtcbiAgICB9XG4gICAgLy8gKHZhbHVlKSBJbnB1dCBhIHBlcmNlbnRhZ2UsIGZpbmQgd2hlcmUgaXQgaXMgb24gdGhlIHNwZWNpZmllZCByYW5nZS5cbiAgICBmdW5jdGlvbiBmcm9tU3RlcHBpbmcoeFZhbCwgeFBjdCwgdmFsdWUpIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gcmFuZ2UgZ3JvdXAgdGhhdCBmaXRzIDEwMFxuICAgICAgICBpZiAodmFsdWUgPj0gMTAwKSB7XG4gICAgICAgICAgICByZXR1cm4geFZhbC5zbGljZSgtMSlbMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuICAgICAgICByZXR1cm4gaXNQZXJjZW50YWdlKFt2YSwgdmJdLCAodmFsdWUgLSBwYSkgKiBzdWJSYW5nZVJhdGlvKHBhLCBwYikpO1xuICAgIH1cbiAgICAvLyAocGVyY2VudGFnZSkgR2V0IHRoZSBzdGVwIHRoYXQgYXBwbGllcyBhdCBhIGNlcnRhaW4gdmFsdWUuXG4gICAgZnVuY3Rpb24gZ2V0U3RlcCh4UGN0LCB4U3RlcHMsIHNuYXAsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIGEgPSB4UGN0W2ogLSAxXTtcbiAgICAgICAgdmFyIGIgPSB4UGN0W2pdO1xuICAgICAgICAvLyBJZiAnc25hcCcgaXMgc2V0LCBzdGVwcyBhcmUgdXNlZCBhcyBmaXhlZCBwb2ludHMgb24gdGhlIHNsaWRlci5cbiAgICAgICAgaWYgKHNuYXApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3QgcG9zaXRpb24sIGEgb3IgYi5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAtIGEgPiAoYiAtIGEpIC8gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF4U3RlcHNbaiAtIDFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHhQY3RbaiAtIDFdICsgY2xvc2VzdCh2YWx1ZSAtIHhQY3RbaiAtIDFdLCB4U3RlcHNbaiAtIDFdKTtcbiAgICB9XG4gICAgLy9lbmRyZWdpb25cbiAgICAvL3JlZ2lvbiBTcGVjdHJ1bVxuICAgIHZhciBTcGVjdHJ1bSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gU3BlY3RydW0oZW50cnksIHNuYXAsIHNpbmdsZVN0ZXApIHtcbiAgICAgICAgICAgIHRoaXMueFBjdCA9IFtdO1xuICAgICAgICAgICAgdGhpcy54VmFsID0gW107XG4gICAgICAgICAgICB0aGlzLnhTdGVwcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy54TnVtU3RlcHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXAgPSBbXTtcbiAgICAgICAgICAgIHRoaXMueFN0ZXBzID0gW3NpbmdsZVN0ZXAgfHwgZmFsc2VdO1xuICAgICAgICAgICAgdGhpcy54TnVtU3RlcHMgPSBbZmFsc2VdO1xuICAgICAgICAgICAgdGhpcy5zbmFwID0gc25hcDtcbiAgICAgICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgICAgIHZhciBvcmRlcmVkID0gW107XG4gICAgICAgICAgICAvLyBNYXAgdGhlIG9iamVjdCBrZXlzIHRvIGFuIGFycmF5LlxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZW50cnkpLmZvckVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgb3JkZXJlZC5wdXNoKFthc0FycmF5KGVudHJ5W2luZGV4XSksIGluZGV4XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFNvcnQgYWxsIGVudHJpZXMgYnkgdmFsdWUgKG51bWVyaWMgc29ydCkuXG4gICAgICAgICAgICBvcmRlcmVkLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVswXVswXSAtIGJbMF1bMF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgYWxsIGVudHJpZXMgdG8gc3VicmFuZ2VzLlxuICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgb3JkZXJlZC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVudHJ5UG9pbnQob3JkZXJlZFtpbmRleF1bMV0sIG9yZGVyZWRbaW5kZXhdWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhY3R1YWwgc3RlcCB2YWx1ZXMuXG4gICAgICAgICAgICAvLyB4U3RlcHMgaXMgc29ydGVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHhQY3QgYW5kIHhWYWwuXG4gICAgICAgICAgICB0aGlzLnhOdW1TdGVwcyA9IHRoaXMueFN0ZXBzLnNsaWNlKDApO1xuICAgICAgICAgICAgLy8gQ29udmVydCBhbGwgbnVtZXJpYyBzdGVwcyB0byB0aGUgcGVyY2VudGFnZSBvZiB0aGUgc3VicmFuZ2UgdGhleSByZXByZXNlbnQuXG4gICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0ZXBQb2ludChpbmRleCwgdGhpcy54TnVtU3RlcHNbaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0RGlzdGFuY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBkaXN0YW5jZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGggLSAxOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VzW2luZGV4XSA9IGZyb21QZXJjZW50YWdlKHRoaXMueFZhbCwgdmFsdWUsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkaXN0YW5jZXM7XG4gICAgICAgIH07XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGVyY2VudHVhbCBkaXN0YW5jZSBvdmVyIHRoZSB3aG9sZSBzY2FsZSBvZiByYW5nZXMuXG4gICAgICAgIC8vIGRpcmVjdGlvbjogMCA9IGJhY2t3YXJkcyAvIDEgPSBmb3J3YXJkc1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVEaXN0YW5jZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZGlzdGFuY2VzLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciB4UGN0X2luZGV4ID0gMDtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSByYW5nZSB3aGVyZSB0byBzdGFydCBjYWxjdWxhdGlvblxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgdGhpcy54UGN0W3RoaXMueFBjdC5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgIHdoaWxlICh2YWx1ZSA+IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgeFBjdF9pbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSB0aGlzLnhQY3RbdGhpcy54UGN0Lmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgeFBjdF9pbmRleCA9IHRoaXMueFBjdC5sZW5ndGggLSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgbG9va2luZyBiYWNrd2FyZHMgYW5kIHRoZSB2YWx1ZSBpcyBleGFjdGx5IGF0IGEgcmFuZ2Ugc2VwYXJhdG9yIHRoZW4gbG9vayBvbmUgcmFuZ2UgZnVydGhlclxuICAgICAgICAgICAgaWYgKCFkaXJlY3Rpb24gJiYgdmFsdWUgPT09IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0pIHtcbiAgICAgICAgICAgICAgICB4UGN0X2luZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2VzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRfZmFjdG9yO1xuICAgICAgICAgICAgdmFyIHJlc3RfZmFjdG9yID0gMTtcbiAgICAgICAgICAgIHZhciByZXN0X3JlbF9kaXN0YW5jZSA9IGRpc3RhbmNlc1t4UGN0X2luZGV4XTtcbiAgICAgICAgICAgIHZhciByYW5nZV9wY3QgPSAwO1xuICAgICAgICAgICAgdmFyIHJlbF9yYW5nZV9kaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICB2YXIgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdmFyIHJhbmdlX2NvdW50ZXIgPSAwO1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHdoYXQgcGFydCBvZiB0aGUgc3RhcnQgcmFuZ2UgdGhlIHZhbHVlIGlzXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRfZmFjdG9yID0gKHZhbHVlIC0gdGhpcy54UGN0W3hQY3RfaW5kZXhdKSAvICh0aGlzLnhQY3RbeFBjdF9pbmRleCArIDFdIC0gdGhpcy54UGN0W3hQY3RfaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0X2ZhY3RvciA9ICh0aGlzLnhQY3RbeFBjdF9pbmRleCArIDFdIC0gdmFsdWUpIC8gKHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0gLSB0aGlzLnhQY3RbeFBjdF9pbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG8gdW50aWwgdGhlIGNvbXBsZXRlIGRpc3RhbmNlIGFjcm9zcyByYW5nZXMgaXMgY2FsY3VsYXRlZFxuICAgICAgICAgICAgd2hpbGUgKHJlc3RfcmVsX2Rpc3RhbmNlID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGVyY2VudGFnZSBvZiB0b3RhbCByYW5nZVxuICAgICAgICAgICAgICAgIHJhbmdlX3BjdCA9IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMSArIHJhbmdlX2NvdW50ZXJdIC0gdGhpcy54UGN0W3hQY3RfaW5kZXggKyByYW5nZV9jb3VudGVyXTtcbiAgICAgICAgICAgICAgICAvLyBEZXRlY3QgaWYgdGhlIG1hcmdpbiwgcGFkZGluZyBvciBsaW1pdCBpcyBsYXJnZXIgdGhlbiB0aGUgY3VycmVudCByYW5nZSBhbmQgY2FsY3VsYXRlXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlc1t4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl0gKiByZXN0X2ZhY3RvciArIDEwMCAtIHN0YXJ0X2ZhY3RvciAqIDEwMCA+IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBsYXJnZXIgdGhlbiB0YWtlIHRoZSBwZXJjZW50dWFsIGRpc3RhbmNlIG9mIHRoZSB3aG9sZSByYW5nZVxuICAgICAgICAgICAgICAgICAgICByZWxfcmFuZ2VfZGlzdGFuY2UgPSByYW5nZV9wY3QgKiBzdGFydF9mYWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc3QgZmFjdG9yIG9mIHJlbGF0aXZlIHBlcmNlbnR1YWwgZGlzdGFuY2Ugc3RpbGwgdG8gYmUgY2FsY3VsYXRlZFxuICAgICAgICAgICAgICAgICAgICByZXN0X2ZhY3RvciA9IChyZXN0X3JlbF9kaXN0YW5jZSAtIDEwMCAqIHN0YXJ0X2ZhY3RvcikgLyBkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgc3RhcnQgZmFjdG9yIHRvIDEgYXMgZm9yIG5leHQgcmFuZ2UgaXQgZG9lcyBub3QgYXBwbHkuXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0X2ZhY3RvciA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzbWFsbGVyIG9yIGVxdWFsIHRoZW4gdGFrZSB0aGUgcGVyY2VudHVhbCBkaXN0YW5jZSBvZiB0aGUgY2FsY3VsYXRlIHBlcmNlbnR1YWwgcGFydCBvZiB0aGF0IHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIHJlbF9yYW5nZV9kaXN0YW5jZSA9ICgoZGlzdGFuY2VzW3hQY3RfaW5kZXggKyByYW5nZV9jb3VudGVyXSAqIHJhbmdlX3BjdCkgLyAxMDApICogcmVzdF9mYWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHJlc3QgbGVmdCBhcyB0aGUgcmVzdCBmaXRzIGluIGN1cnJlbnQgcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgcmVzdF9mYWN0b3IgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGFic19kaXN0YW5jZV9jb3VudGVyID0gYWJzX2Rpc3RhbmNlX2NvdW50ZXIgLSByZWxfcmFuZ2VfZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIExpbWl0IHJhbmdlIHRvIGZpcnN0IHJhbmdlIHdoZW4gZGlzdGFuY2UgYmVjb21lcyBvdXRzaWRlIG9mIG1pbmltdW0gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMueFBjdC5sZW5ndGggKyByYW5nZV9jb3VudGVyID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlX2NvdW50ZXItLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSBhYnNfZGlzdGFuY2VfY291bnRlciArIHJlbF9yYW5nZV9kaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGltaXQgcmFuZ2UgdG8gbGFzdCByYW5nZSB3aGVuIGRpc3RhbmNlIGJlY29tZXMgb3V0c2lkZSBvZiBtYXhpbXVtIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnhQY3QubGVuZ3RoIC0gcmFuZ2VfY291bnRlciA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZV9jb3VudGVyKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVzdCBvZiByZWxhdGl2ZSBwZXJjZW50dWFsIGRpc3RhbmNlIHN0aWxsIHRvIGJlIGNhbGN1bGF0ZWRcbiAgICAgICAgICAgICAgICByZXN0X3JlbF9kaXN0YW5jZSA9IGRpc3RhbmNlc1t4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl0gKiByZXN0X2ZhY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIGFic19kaXN0YW5jZV9jb3VudGVyO1xuICAgICAgICB9O1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUudG9TdGVwcGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0b1N0ZXBwaW5nKHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIFNwZWN0cnVtLnByb3RvdHlwZS5mcm9tU3RlcHBpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tU3RlcHBpbmcodGhpcy54VmFsLCB0aGlzLnhQY3QsIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmdldFN0ZXAgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZ2V0U3RlcCh0aGlzLnhQY3QsIHRoaXMueFN0ZXBzLCB0aGlzLnNuYXAsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmdldERlZmF1bHRTdGVwID0gZnVuY3Rpb24gKHZhbHVlLCBpc0Rvd24sIHNpemUpIHtcbiAgICAgICAgICAgIHZhciBqID0gZ2V0Sih2YWx1ZSwgdGhpcy54UGN0KTtcbiAgICAgICAgICAgIC8vIFdoZW4gYXQgdGhlIHRvcCBvciBzdGVwcGluZyBkb3duLCBsb29rIGF0IHRoZSBwcmV2aW91cyBzdWItcmFuZ2VcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMTAwIHx8IChpc0Rvd24gJiYgdmFsdWUgPT09IHRoaXMueFBjdFtqIC0gMV0pKSB7XG4gICAgICAgICAgICAgICAgaiA9IE1hdGgubWF4KGogLSAxLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAodGhpcy54VmFsW2pdIC0gdGhpcy54VmFsW2ogLSAxXSkgLyBzaXplO1xuICAgICAgICB9O1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0TmVhcmJ5U3RlcHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBqID0gZ2V0Sih2YWx1ZSwgdGhpcy54UGN0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RlcEJlZm9yZToge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlOiB0aGlzLnhWYWxbaiAtIDJdLFxuICAgICAgICAgICAgICAgICAgICBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqIC0gMl0sXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2ogLSAyXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRoaXNTdGVwOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2ogLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgaGlnaGVzdFN0ZXA6IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaiAtIDFdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RlcEFmdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqXSxcbiAgICAgICAgICAgICAgICAgICAgc3RlcDogdGhpcy54TnVtU3RlcHNbal0sXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2pdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuY291bnRTdGVwRGVjaW1hbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RlcERlY2ltYWxzID0gdGhpcy54TnVtU3RlcHMubWFwKGNvdW50RGVjaW1hbHMpO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHN0ZXBEZWNpbWFscyk7XG4gICAgICAgIH07XG4gICAgICAgIFNwZWN0cnVtLnByb3RvdHlwZS5oYXNOb1NpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54VmFsWzBdID09PSB0aGlzLnhWYWxbdGhpcy54VmFsLmxlbmd0aCAtIDFdO1xuICAgICAgICB9O1xuICAgICAgICAvLyBPdXRzaWRlIHRlc3RpbmdcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0ZXAodGhpcy50b1N0ZXBwaW5nKHZhbHVlKSk7XG4gICAgICAgIH07XG4gICAgICAgIFNwZWN0cnVtLnByb3RvdHlwZS5oYW5kbGVFbnRyeVBvaW50ID0gZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2U7XG4gICAgICAgICAgICAvLyBDb3ZlcnQgbWluL21heCBzeW50YXggdG8gMCBhbmQgMTAwLlxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbmRleCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSAxMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlID0gcGFyc2VGbG9hdChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgY29ycmVjdCBpbnB1dC5cbiAgICAgICAgICAgIGlmICghaXNOdW1lcmljKHBlcmNlbnRhZ2UpIHx8ICFpc051bWVyaWModmFsdWVbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3JhbmdlJyB2YWx1ZSBpc24ndCBudW1lcmljLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0b3JlIHZhbHVlcy5cbiAgICAgICAgICAgIHRoaXMueFBjdC5wdXNoKHBlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgdGhpcy54VmFsLnB1c2godmFsdWVbMF0pO1xuICAgICAgICAgICAgdmFyIHZhbHVlMSA9IE51bWJlcih2YWx1ZVsxXSk7XG4gICAgICAgICAgICAvLyBOYU4gd2lsbCBldmFsdWF0ZSB0byBmYWxzZSB0b28sIGJ1dCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb2dnaW5nIGNsZWFyLCBzZXQgc3RlcCBleHBsaWNpdGx5LiBNYWtlIHN1cmVcbiAgICAgICAgICAgIC8vIG5vdCB0byBvdmVycmlkZSB0aGUgJ3N0ZXAnIHNldHRpbmcgd2l0aCBmYWxzZS5cbiAgICAgICAgICAgIGlmICghcGVyY2VudGFnZSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUxKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnhTdGVwc1swXSA9IHZhbHVlMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhTdGVwcy5wdXNoKGlzTmFOKHZhbHVlMSkgPyBmYWxzZSA6IHZhbHVlMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwLnB1c2goMCk7XG4gICAgICAgIH07XG4gICAgICAgIFNwZWN0cnVtLnByb3RvdHlwZS5oYW5kbGVTdGVwUG9pbnQgPSBmdW5jdGlvbiAoaSwgbikge1xuICAgICAgICAgICAgLy8gSWdub3JlICdmYWxzZScgc3RlcHBpbmcuXG4gICAgICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGVwIG92ZXIgemVyby1sZW5ndGggcmFuZ2VzICgjOTQ4KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnhWYWxbaV0gPT09IHRoaXMueFZhbFtpICsgMV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhTdGVwc1tpXSA9IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaV0gPSB0aGlzLnhWYWxbaV07XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmFjdG9yIHRvIHJhbmdlIHJhdGlvXG4gICAgICAgICAgICB0aGlzLnhTdGVwc1tpXSA9XG4gICAgICAgICAgICAgICAgZnJvbVBlcmNlbnRhZ2UoW3RoaXMueFZhbFtpXSwgdGhpcy54VmFsW2kgKyAxXV0sIG4sIDApIC8gc3ViUmFuZ2VSYXRpbyh0aGlzLnhQY3RbaV0sIHRoaXMueFBjdFtpICsgMV0pO1xuICAgICAgICAgICAgdmFyIHRvdGFsU3RlcHMgPSAodGhpcy54VmFsW2kgKyAxXSAtIHRoaXMueFZhbFtpXSkgLyB0aGlzLnhOdW1TdGVwc1tpXTtcbiAgICAgICAgICAgIHZhciBoaWdoZXN0U3RlcCA9IE1hdGguY2VpbChOdW1iZXIodG90YWxTdGVwcy50b0ZpeGVkKDMpKSAtIDEpO1xuICAgICAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLnhWYWxbaV0gKyB0aGlzLnhOdW1TdGVwc1tpXSAqIGhpZ2hlc3RTdGVwO1xuICAgICAgICAgICAgdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtpXSA9IHN0ZXA7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBTcGVjdHJ1bTtcbiAgICB9KCkpO1xuICAgIC8vZW5kcmVnaW9uXG4gICAgLy9yZWdpb24gT3B0aW9uc1xuICAgIC8qXHRFdmVyeSBpbnB1dCBvcHRpb24gaXMgdGVzdGVkIGFuZCBwYXJzZWQuIFRoaXMgd2lsbCBwcmV2ZW50XG4gICAgICAgIGVuZGxlc3MgdmFsaWRhdGlvbiBpbiBpbnRlcm5hbCBtZXRob2RzLiBUaGVzZSB0ZXN0cyBhcmVcbiAgICAgICAgc3RydWN0dXJlZCB3aXRoIGFuIGl0ZW0gZm9yIGV2ZXJ5IG9wdGlvbiBhdmFpbGFibGUuIEFuXG4gICAgICAgIG9wdGlvbiBjYW4gYmUgbWFya2VkIGFzIHJlcXVpcmVkIGJ5IHNldHRpbmcgdGhlICdyJyBmbGFnLlxuICAgICAgICBUaGUgdGVzdGluZyBmdW5jdGlvbiBpcyBwcm92aWRlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgICAgICAgIC0gVGhlIHByb3ZpZGVkIHZhbHVlIGZvciB0aGUgb3B0aW9uO1xuICAgICAgICAgICAgLSBBIHJlZmVyZW5jZSB0byB0aGUgb3B0aW9ucyBvYmplY3Q7XG4gICAgICAgICAgICAtIFRoZSBuYW1lIGZvciB0aGUgb3B0aW9uO1xuXG4gICAgICAgIFRoZSB0ZXN0aW5nIGZ1bmN0aW9uIHJldHVybnMgZmFsc2Ugd2hlbiBhbiBlcnJvciBpcyBkZXRlY3RlZCxcbiAgICAgICAgb3IgdHJ1ZSB3aGVuIGV2ZXJ5dGhpbmcgaXMgT0suIEl0IGNhbiBhbHNvIG1vZGlmeSB0aGUgb3B0aW9uXG4gICAgICAgIG9iamVjdCwgdG8gbWFrZSBzdXJlIGFsbCB2YWx1ZXMgY2FuIGJlIGNvcnJlY3RseSBsb29wZWQgZWxzZXdoZXJlLiAqL1xuICAgIC8vcmVnaW9uIERlZmF1bHRzXG4gICAgdmFyIGRlZmF1bHRGb3JtYXR0ZXIgPSB7XG4gICAgICAgIHRvOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHZhbHVlLnRvRml4ZWQoMik7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb206IE51bWJlcixcbiAgICB9O1xuICAgIHZhciBjc3NDbGFzc2VzID0ge1xuICAgICAgICB0YXJnZXQ6IFwidGFyZ2V0XCIsXG4gICAgICAgIGJhc2U6IFwiYmFzZVwiLFxuICAgICAgICBvcmlnaW46IFwib3JpZ2luXCIsXG4gICAgICAgIGhhbmRsZTogXCJoYW5kbGVcIixcbiAgICAgICAgaGFuZGxlTG93ZXI6IFwiaGFuZGxlLWxvd2VyXCIsXG4gICAgICAgIGhhbmRsZVVwcGVyOiBcImhhbmRsZS11cHBlclwiLFxuICAgICAgICB0b3VjaEFyZWE6IFwidG91Y2gtYXJlYVwiLFxuICAgICAgICBob3Jpem9udGFsOiBcImhvcml6b250YWxcIixcbiAgICAgICAgdmVydGljYWw6IFwidmVydGljYWxcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCJiYWNrZ3JvdW5kXCIsXG4gICAgICAgIGNvbm5lY3Q6IFwiY29ubmVjdFwiLFxuICAgICAgICBjb25uZWN0czogXCJjb25uZWN0c1wiLFxuICAgICAgICBsdHI6IFwibHRyXCIsXG4gICAgICAgIHJ0bDogXCJydGxcIixcbiAgICAgICAgdGV4dERpcmVjdGlvbkx0cjogXCJ0eHQtZGlyLWx0clwiLFxuICAgICAgICB0ZXh0RGlyZWN0aW9uUnRsOiBcInR4dC1kaXItcnRsXCIsXG4gICAgICAgIGRyYWdnYWJsZTogXCJkcmFnZ2FibGVcIixcbiAgICAgICAgZHJhZzogXCJzdGF0ZS1kcmFnXCIsXG4gICAgICAgIHRhcDogXCJzdGF0ZS10YXBcIixcbiAgICAgICAgYWN0aXZlOiBcImFjdGl2ZVwiLFxuICAgICAgICB0b29sdGlwOiBcInRvb2x0aXBcIixcbiAgICAgICAgcGlwczogXCJwaXBzXCIsXG4gICAgICAgIHBpcHNIb3Jpem9udGFsOiBcInBpcHMtaG9yaXpvbnRhbFwiLFxuICAgICAgICBwaXBzVmVydGljYWw6IFwicGlwcy12ZXJ0aWNhbFwiLFxuICAgICAgICBtYXJrZXI6IFwibWFya2VyXCIsXG4gICAgICAgIG1hcmtlckhvcml6b250YWw6IFwibWFya2VyLWhvcml6b250YWxcIixcbiAgICAgICAgbWFya2VyVmVydGljYWw6IFwibWFya2VyLXZlcnRpY2FsXCIsXG4gICAgICAgIG1hcmtlck5vcm1hbDogXCJtYXJrZXItbm9ybWFsXCIsXG4gICAgICAgIG1hcmtlckxhcmdlOiBcIm1hcmtlci1sYXJnZVwiLFxuICAgICAgICBtYXJrZXJTdWI6IFwibWFya2VyLXN1YlwiLFxuICAgICAgICB2YWx1ZTogXCJ2YWx1ZVwiLFxuICAgICAgICB2YWx1ZUhvcml6b250YWw6IFwidmFsdWUtaG9yaXpvbnRhbFwiLFxuICAgICAgICB2YWx1ZVZlcnRpY2FsOiBcInZhbHVlLXZlcnRpY2FsXCIsXG4gICAgICAgIHZhbHVlTm9ybWFsOiBcInZhbHVlLW5vcm1hbFwiLFxuICAgICAgICB2YWx1ZUxhcmdlOiBcInZhbHVlLWxhcmdlXCIsXG4gICAgICAgIHZhbHVlU3ViOiBcInZhbHVlLXN1YlwiLFxuICAgIH07XG4gICAgLy8gTmFtZXNwYWNlcyBvZiBpbnRlcm5hbCBldmVudCBsaXN0ZW5lcnNcbiAgICB2YXIgSU5URVJOQUxfRVZFTlRfTlMgPSB7XG4gICAgICAgIHRvb2x0aXBzOiBcIi5fX3Rvb2x0aXBzXCIsXG4gICAgICAgIGFyaWE6IFwiLl9fYXJpYVwiLFxuICAgIH07XG4gICAgLy9lbmRyZWdpb25cbiAgICBmdW5jdGlvbiB0ZXN0U3RlcChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3N0ZXAnIGlzIG5vdCBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgc3RlcCBvcHRpb24gY2FuIHN0aWxsIGJlIHVzZWQgdG8gc2V0IHN0ZXBwaW5nXG4gICAgICAgIC8vIGZvciBsaW5lYXIgc2xpZGVycy4gT3ZlcndyaXR0ZW4gaWYgc2V0IGluICdyYW5nZScuXG4gICAgICAgIHBhcnNlZC5zaW5nbGVTdGVwID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RLZXlib2FyZFBhZ2VNdWx0aXBsaWVyKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAna2V5Ym9hcmRQYWdlTXVsdGlwbGllcicgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5rZXlib2FyZFBhZ2VNdWx0aXBsaWVyID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RLZXlib2FyZE11bHRpcGxpZXIocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdrZXlib2FyZE11bHRpcGxpZXInIGlzIG5vdCBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQua2V5Ym9hcmRNdWx0aXBsaWVyID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RLZXlib2FyZERlZmF1bHRTdGVwKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAna2V5Ym9hcmREZWZhdWx0U3RlcCcgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5rZXlib2FyZERlZmF1bHRTdGVwID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RSYW5nZShwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIEZpbHRlciBpbmNvcnJlY3QgaW5wdXQuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdyYW5nZScgaXMgbm90IGFuIG9iamVjdC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2F0Y2ggbWlzc2luZyBzdGFydCBvciBlbmQuXG4gICAgICAgIGlmIChlbnRyeS5taW4gPT09IHVuZGVmaW5lZCB8fCBlbnRyeS5tYXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogTWlzc2luZyAnbWluJyBvciAnbWF4JyBpbiAncmFuZ2UnLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuc3BlY3RydW0gPSBuZXcgU3BlY3RydW0oZW50cnksIHBhcnNlZC5zbmFwIHx8IGZhbHNlLCBwYXJzZWQuc2luZ2xlU3RlcCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdGFydChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGVudHJ5ID0gYXNBcnJheShlbnRyeSk7XG4gICAgICAgIC8vIFZhbGlkYXRlIGlucHV0LiBWYWx1ZXMgYXJlbid0IHRlc3RlZCwgYXMgdGhlIHB1YmxpYyAudmFsIG1ldGhvZFxuICAgICAgICAvLyB3aWxsIGFsd2F5cyBwcm92aWRlIGEgdmFsaWQgbG9jYXRpb24uXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyeSkgfHwgIWVudHJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3N0YXJ0JyBvcHRpb24gaXMgaW5jb3JyZWN0LlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdG9yZSB0aGUgbnVtYmVyIG9mIGhhbmRsZXMuXG4gICAgICAgIHBhcnNlZC5oYW5kbGVzID0gZW50cnkubGVuZ3RoO1xuICAgICAgICAvLyBXaGVuIHRoZSBzbGlkZXIgaXMgaW5pdGlhbGl6ZWQsIHRoZSAudmFsIG1ldGhvZCB3aWxsXG4gICAgICAgIC8vIGJlIGNhbGxlZCB3aXRoIHRoZSBzdGFydCBvcHRpb25zLlxuICAgICAgICBwYXJzZWQuc3RhcnQgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFNuYXAocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3NuYXAnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5mb3JjZSAxMDAlIHN0ZXBwaW5nIHdpdGhpbiBzdWJyYW5nZXMuXG4gICAgICAgIHBhcnNlZC5zbmFwID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RBbmltYXRlKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdhbmltYXRlJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLlxuICAgICAgICBwYXJzZWQuYW5pbWF0ZSA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0QW5pbWF0aW9uRHVyYXRpb24ocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnYW5pbWF0aW9uRHVyYXRpb24nIG9wdGlvbiBtdXN0IGJlIGEgbnVtYmVyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuYW5pbWF0aW9uRHVyYXRpb24gPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdENvbm5lY3QocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICB2YXIgY29ubmVjdCA9IFtmYWxzZV07XG4gICAgICAgIHZhciBpO1xuICAgICAgICAvLyBNYXAgbGVnYWN5IG9wdGlvbnNcbiAgICAgICAgaWYgKGVudHJ5ID09PSBcImxvd2VyXCIpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW3RydWUsIGZhbHNlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbnRyeSA9PT0gXCJ1cHBlclwiKSB7XG4gICAgICAgICAgICBlbnRyeSA9IFtmYWxzZSwgdHJ1ZV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGJvb2xlYW4gb3B0aW9uc1xuICAgICAgICBpZiAoZW50cnkgPT09IHRydWUgfHwgZW50cnkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbm5lY3QucHVzaChlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0LnB1c2goZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlamVjdCBpbnZhbGlkIGlucHV0XG4gICAgICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGVudHJ5KSB8fCAhZW50cnkubGVuZ3RoIHx8IGVudHJ5Lmxlbmd0aCAhPT0gcGFyc2VkLmhhbmRsZXMgKyAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnY29ubmVjdCcgb3B0aW9uIGRvZXNuJ3QgbWF0Y2ggaGFuZGxlIGNvdW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbm5lY3QgPSBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuY29ubmVjdCA9IGNvbm5lY3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RPcmllbnRhdGlvbihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIFNldCBvcmllbnRhdGlvbiB0byBhbiBhIG51bWVyaWNhbCB2YWx1ZSBmb3IgZWFzeVxuICAgICAgICAvLyBhcnJheSBzZWxlY3Rpb24uXG4gICAgICAgIHN3aXRjaCAoZW50cnkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJob3Jpem9udGFsXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VkLm9ydCA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidmVydGljYWxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQub3J0ID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ29yaWVudGF0aW9uJyBvcHRpb24gaXMgaW52YWxpZC5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdE1hcmdpbihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ21hcmdpbicgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSXNzdWUgIzU4MlxuICAgICAgICBpZiAoZW50cnkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQubWFyZ2luID0gcGFyc2VkLnNwZWN0cnVtLmdldERpc3RhbmNlKGVudHJ5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdExpbWl0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnbGltaXQnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5saW1pdCA9IHBhcnNlZC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlbnRyeSk7XG4gICAgICAgIGlmICghcGFyc2VkLmxpbWl0IHx8IHBhcnNlZC5oYW5kbGVzIDwgMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2xpbWl0JyBvcHRpb24gaXMgb25seSBzdXBwb3J0ZWQgb24gbGluZWFyIHNsaWRlcnMgd2l0aCAyIG9yIG1vcmUgaGFuZGxlcy5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFBhZGRpbmcocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSAmJiAhQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBudW1lcmljIG9yIGFycmF5IG9mIGV4YWN0bHkgMiBudW1iZXJzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlbnRyeSkgJiYgIShlbnRyeS5sZW5ndGggPT09IDIgfHwgaXNOdW1lcmljKGVudHJ5WzBdKSB8fCBpc051bWVyaWMoZW50cnlbMV0pKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMgb3IgYXJyYXkgb2YgZXhhY3RseSAyIG51bWJlcnMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW2VudHJ5LCBlbnRyeV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gJ2dldERpc3RhbmNlJyByZXR1cm5zIGZhbHNlIGZvciBpbnZhbGlkIHZhbHVlcy5cbiAgICAgICAgcGFyc2VkLnBhZGRpbmcgPSBbcGFyc2VkLnNwZWN0cnVtLmdldERpc3RhbmNlKGVudHJ5WzBdKSwgcGFyc2VkLnNwZWN0cnVtLmdldERpc3RhbmNlKGVudHJ5WzFdKV07XG4gICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHBhcnNlZC5zcGVjdHJ1bS54TnVtU3RlcHMubGVuZ3RoIC0gMTsgaW5kZXgrKykge1xuICAgICAgICAgICAgLy8gbGFzdCBcInJhbmdlXCIgY2FuJ3QgY29udGFpbiBzdGVwIHNpemUgYXMgaXQgaXMgcHVyZWx5IGFuIGVuZHBvaW50LlxuICAgICAgICAgICAgaWYgKHBhcnNlZC5wYWRkaW5nWzBdW2luZGV4XSA8IDAgfHwgcGFyc2VkLnBhZGRpbmdbMV1baW5kZXhdIDwgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcihzKS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvdGFsUGFkZGluZyA9IGVudHJ5WzBdICsgZW50cnlbMV07XG4gICAgICAgIHZhciBmaXJzdFZhbHVlID0gcGFyc2VkLnNwZWN0cnVtLnhWYWxbMF07XG4gICAgICAgIHZhciBsYXN0VmFsdWUgPSBwYXJzZWQuc3BlY3RydW0ueFZhbFtwYXJzZWQuc3BlY3RydW0ueFZhbC5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKHRvdGFsUGFkZGluZyAvIChsYXN0VmFsdWUgLSBmaXJzdFZhbHVlKSA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBub3QgZXhjZWVkIDEwMCUgb2YgdGhlIHJhbmdlLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0RGlyZWN0aW9uKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gU2V0IGRpcmVjdGlvbiBhcyBhIG51bWVyaWNhbCB2YWx1ZSBmb3IgZWFzeSBwYXJzaW5nLlxuICAgICAgICAvLyBJbnZlcnQgY29ubmVjdGlvbiBmb3IgUlRMIHNsaWRlcnMsIHNvIHRoYXQgdGhlIHByb3BlclxuICAgICAgICAvLyBoYW5kbGVzIGdldCB0aGUgY29ubmVjdC9iYWNrZ3JvdW5kIGNsYXNzZXMuXG4gICAgICAgIHN3aXRjaCAoZW50cnkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsdHJcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQuZGlyID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJydGxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQuZGlyID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2RpcmVjdGlvbicgb3B0aW9uIHdhcyBub3QgcmVjb2duaXplZC5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdEJlaGF2aW91cihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaW5wdXQgaXMgYSBzdHJpbmcuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdiZWhhdmlvdXInIG11c3QgYmUgYSBzdHJpbmcgY29udGFpbmluZyBvcHRpb25zLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc3RyaW5nIGNvbnRhaW5zIGFueSBrZXl3b3Jkcy5cbiAgICAgICAgLy8gTm9uZSBhcmUgcmVxdWlyZWQuXG4gICAgICAgIHZhciB0YXAgPSBlbnRyeS5pbmRleE9mKFwidGFwXCIpID49IDA7XG4gICAgICAgIHZhciBkcmFnID0gZW50cnkuaW5kZXhPZihcImRyYWdcIikgPj0gMDtcbiAgICAgICAgdmFyIGZpeGVkID0gZW50cnkuaW5kZXhPZihcImZpeGVkXCIpID49IDA7XG4gICAgICAgIHZhciBzbmFwID0gZW50cnkuaW5kZXhPZihcInNuYXBcIikgPj0gMDtcbiAgICAgICAgdmFyIGhvdmVyID0gZW50cnkuaW5kZXhPZihcImhvdmVyXCIpID49IDA7XG4gICAgICAgIHZhciB1bmNvbnN0cmFpbmVkID0gZW50cnkuaW5kZXhPZihcInVuY29uc3RyYWluZWRcIikgPj0gMDtcbiAgICAgICAgdmFyIGRyYWdBbGwgPSBlbnRyeS5pbmRleE9mKFwiZHJhZy1hbGxcIikgPj0gMDtcbiAgICAgICAgdmFyIHNtb290aFN0ZXBzID0gZW50cnkuaW5kZXhPZihcInNtb290aC1zdGVwc1wiKSA+PSAwO1xuICAgICAgICBpZiAoZml4ZWQpIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWQuaGFuZGxlcyAhPT0gMikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdmaXhlZCcgYmVoYXZpb3VyIG11c3QgYmUgdXNlZCB3aXRoIDIgaGFuZGxlc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVzZSBtYXJnaW4gdG8gZW5mb3JjZSBmaXhlZCBzdGF0ZVxuICAgICAgICAgICAgdGVzdE1hcmdpbihwYXJzZWQsIHBhcnNlZC5zdGFydFsxXSAtIHBhcnNlZC5zdGFydFswXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuY29uc3RyYWluZWQgJiYgKHBhcnNlZC5tYXJnaW4gfHwgcGFyc2VkLmxpbWl0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3VuY29uc3RyYWluZWQnIGJlaGF2aW91ciBjYW5ub3QgYmUgdXNlZCB3aXRoIG1hcmdpbiBvciBsaW1pdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuZXZlbnRzID0ge1xuICAgICAgICAgICAgdGFwOiB0YXAgfHwgc25hcCxcbiAgICAgICAgICAgIGRyYWc6IGRyYWcsXG4gICAgICAgICAgICBkcmFnQWxsOiBkcmFnQWxsLFxuICAgICAgICAgICAgc21vb3RoU3RlcHM6IHNtb290aFN0ZXBzLFxuICAgICAgICAgICAgZml4ZWQ6IGZpeGVkLFxuICAgICAgICAgICAgc25hcDogc25hcCxcbiAgICAgICAgICAgIGhvdmVyOiBob3ZlcixcbiAgICAgICAgICAgIHVuY29uc3RyYWluZWQ6IHVuY29uc3RyYWluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RUb29sdGlwcyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkgPT09IHRydWUgfHwgaXNWYWxpZFBhcnRpYWxGb3JtYXR0ZXIoZW50cnkpKSB7XG4gICAgICAgICAgICBwYXJzZWQudG9vbHRpcHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhcnNlZC50b29sdGlwcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVudHJ5ID0gYXNBcnJheShlbnRyeSk7XG4gICAgICAgICAgICBpZiAoZW50cnkubGVuZ3RoICE9PSBwYXJzZWQuaGFuZGxlcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6IG11c3QgcGFzcyBhIGZvcm1hdHRlciBmb3IgYWxsIGhhbmRsZXMuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50cnkuZm9yRWFjaChmdW5jdGlvbiAoZm9ybWF0dGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXR0ZXIgIT09IFwiYm9vbGVhblwiICYmICFpc1ZhbGlkUGFydGlhbEZvcm1hdHRlcihmb3JtYXR0ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICd0b29sdGlwcycgbXVzdCBiZSBwYXNzZWQgYSBmb3JtYXR0ZXIgb3IgJ2ZhbHNlJy5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXJzZWQudG9vbHRpcHMgPSBlbnRyeTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0SGFuZGxlQXR0cmlidXRlcyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmIChlbnRyeS5sZW5ndGggIT09IHBhcnNlZC5oYW5kbGVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBtdXN0IHBhc3MgYSBhdHRyaWJ1dGVzIGZvciBhbGwgaGFuZGxlcy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkLmhhbmRsZUF0dHJpYnV0ZXMgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdEFyaWFGb3JtYXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzVmFsaWRQYXJ0aWFsRm9ybWF0dGVyKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2FyaWFGb3JtYXQnIHJlcXVpcmVzICd0bycgbWV0aG9kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuYXJpYUZvcm1hdCA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0Rm9ybWF0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkRm9ybWF0dGVyKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2Zvcm1hdCcgcmVxdWlyZXMgJ3RvJyBhbmQgJ2Zyb20nIG1ldGhvZHMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5mb3JtYXQgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdEtleWJvYXJkU3VwcG9ydChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAna2V5Ym9hcmRTdXBwb3J0JyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5rZXlib2FyZFN1cHBvcnQgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdERvY3VtZW50RWxlbWVudChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW9uLiBQYXNzZWQgdmFsdWVzIGFyZSB1c2VkIHdpdGhvdXQgdmFsaWRhdGlvbi5cbiAgICAgICAgcGFyc2VkLmRvY3VtZW50RWxlbWVudCA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0Q3NzUHJlZml4KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJzdHJpbmdcIiAmJiBlbnRyeSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdjc3NQcmVmaXgnIG11c3QgYmUgYSBzdHJpbmcgb3IgYGZhbHNlYC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkLmNzc1ByZWZpeCA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0Q3NzQ2xhc3NlcyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdjc3NDbGFzc2VzJyBtdXN0IGJlIGFuIG9iamVjdC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWQuY3NzUHJlZml4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBwYXJzZWQuY3NzQ2xhc3NlcyA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZW50cnkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHBhcnNlZC5jc3NDbGFzc2VzW2tleV0gPSBwYXJzZWQuY3NzUHJlZml4ICsgZW50cnlba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VkLmNzc0NsYXNzZXMgPSBlbnRyeTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUZXN0IGFsbCBkZXZlbG9wZXIgc2V0dGluZ3MgYW5kIHBhcnNlIHRvIGFzc3VtcHRpb24tc2FmZSB2YWx1ZXMuXG4gICAgZnVuY3Rpb24gdGVzdE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAvLyBUbyBwcm92ZSBhIGZpeCBmb3IgIzUzNywgZnJlZXplIG9wdGlvbnMgaGVyZS5cbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpcyBtb2RpZmllZCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gICAgICAgIC8vIE9iamVjdC5mcmVlemUob3B0aW9ucyk7XG4gICAgICAgIHZhciBwYXJzZWQgPSB7XG4gICAgICAgICAgICBtYXJnaW46IG51bGwsXG4gICAgICAgICAgICBsaW1pdDogbnVsbCxcbiAgICAgICAgICAgIHBhZGRpbmc6IG51bGwsXG4gICAgICAgICAgICBhbmltYXRlOiB0cnVlLFxuICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IDMwMCxcbiAgICAgICAgICAgIGFyaWFGb3JtYXQ6IGRlZmF1bHRGb3JtYXR0ZXIsXG4gICAgICAgICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXR0ZXIsXG4gICAgICAgIH07XG4gICAgICAgIC8vIFRlc3RzIGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJlc2VudGVkIGhlcmUuXG4gICAgICAgIHZhciB0ZXN0cyA9IHtcbiAgICAgICAgICAgIHN0ZXA6IHsgcjogZmFsc2UsIHQ6IHRlc3RTdGVwIH0sXG4gICAgICAgICAgICBrZXlib2FyZFBhZ2VNdWx0aXBsaWVyOiB7IHI6IGZhbHNlLCB0OiB0ZXN0S2V5Ym9hcmRQYWdlTXVsdGlwbGllciB9LFxuICAgICAgICAgICAga2V5Ym9hcmRNdWx0aXBsaWVyOiB7IHI6IGZhbHNlLCB0OiB0ZXN0S2V5Ym9hcmRNdWx0aXBsaWVyIH0sXG4gICAgICAgICAgICBrZXlib2FyZERlZmF1bHRTdGVwOiB7IHI6IGZhbHNlLCB0OiB0ZXN0S2V5Ym9hcmREZWZhdWx0U3RlcCB9LFxuICAgICAgICAgICAgc3RhcnQ6IHsgcjogdHJ1ZSwgdDogdGVzdFN0YXJ0IH0sXG4gICAgICAgICAgICBjb25uZWN0OiB7IHI6IHRydWUsIHQ6IHRlc3RDb25uZWN0IH0sXG4gICAgICAgICAgICBkaXJlY3Rpb246IHsgcjogdHJ1ZSwgdDogdGVzdERpcmVjdGlvbiB9LFxuICAgICAgICAgICAgc25hcDogeyByOiBmYWxzZSwgdDogdGVzdFNuYXAgfSxcbiAgICAgICAgICAgIGFuaW1hdGU6IHsgcjogZmFsc2UsIHQ6IHRlc3RBbmltYXRlIH0sXG4gICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogeyByOiBmYWxzZSwgdDogdGVzdEFuaW1hdGlvbkR1cmF0aW9uIH0sXG4gICAgICAgICAgICByYW5nZTogeyByOiB0cnVlLCB0OiB0ZXN0UmFuZ2UgfSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7IHI6IGZhbHNlLCB0OiB0ZXN0T3JpZW50YXRpb24gfSxcbiAgICAgICAgICAgIG1hcmdpbjogeyByOiBmYWxzZSwgdDogdGVzdE1hcmdpbiB9LFxuICAgICAgICAgICAgbGltaXQ6IHsgcjogZmFsc2UsIHQ6IHRlc3RMaW1pdCB9LFxuICAgICAgICAgICAgcGFkZGluZzogeyByOiBmYWxzZSwgdDogdGVzdFBhZGRpbmcgfSxcbiAgICAgICAgICAgIGJlaGF2aW91cjogeyByOiB0cnVlLCB0OiB0ZXN0QmVoYXZpb3VyIH0sXG4gICAgICAgICAgICBhcmlhRm9ybWF0OiB7IHI6IGZhbHNlLCB0OiB0ZXN0QXJpYUZvcm1hdCB9LFxuICAgICAgICAgICAgZm9ybWF0OiB7IHI6IGZhbHNlLCB0OiB0ZXN0Rm9ybWF0IH0sXG4gICAgICAgICAgICB0b29sdGlwczogeyByOiBmYWxzZSwgdDogdGVzdFRvb2x0aXBzIH0sXG4gICAgICAgICAgICBrZXlib2FyZFN1cHBvcnQ6IHsgcjogdHJ1ZSwgdDogdGVzdEtleWJvYXJkU3VwcG9ydCB9LFxuICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50OiB7IHI6IGZhbHNlLCB0OiB0ZXN0RG9jdW1lbnRFbGVtZW50IH0sXG4gICAgICAgICAgICBjc3NQcmVmaXg6IHsgcjogdHJ1ZSwgdDogdGVzdENzc1ByZWZpeCB9LFxuICAgICAgICAgICAgY3NzQ2xhc3NlczogeyByOiB0cnVlLCB0OiB0ZXN0Q3NzQ2xhc3NlcyB9LFxuICAgICAgICAgICAgaGFuZGxlQXR0cmlidXRlczogeyByOiBmYWxzZSwgdDogdGVzdEhhbmRsZUF0dHJpYnV0ZXMgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgY29ubmVjdDogZmFsc2UsXG4gICAgICAgICAgICBkaXJlY3Rpb246IFwibHRyXCIsXG4gICAgICAgICAgICBiZWhhdmlvdXI6IFwidGFwXCIsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICAgICAgICBrZXlib2FyZFN1cHBvcnQ6IHRydWUsXG4gICAgICAgICAgICBjc3NQcmVmaXg6IFwibm9VaS1cIixcbiAgICAgICAgICAgIGNzc0NsYXNzZXM6IGNzc0NsYXNzZXMsXG4gICAgICAgICAgICBrZXlib2FyZFBhZ2VNdWx0aXBsaWVyOiA1LFxuICAgICAgICAgICAga2V5Ym9hcmRNdWx0aXBsaWVyOiAxLFxuICAgICAgICAgICAga2V5Ym9hcmREZWZhdWx0U3RlcDogMTAsXG4gICAgICAgIH07XG4gICAgICAgIC8vIEFyaWFGb3JtYXQgZGVmYXVsdHMgdG8gcmVndWxhciBmb3JtYXQsIGlmIGFueS5cbiAgICAgICAgaWYgKG9wdGlvbnMuZm9ybWF0ICYmICFvcHRpb25zLmFyaWFGb3JtYXQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYXJpYUZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biBhbGwgb3B0aW9ucyB0aHJvdWdoIGEgdGVzdGluZyBtZWNoYW5pc20gdG8gZW5zdXJlIGNvcnJlY3RcbiAgICAgICAgLy8gaW5wdXQuIEl0IHNob3VsZCBiZSBub3RlZCB0aGF0IG9wdGlvbnMgbWlnaHQgZ2V0IG1vZGlmaWVkIHRvXG4gICAgICAgIC8vIGJlIGhhbmRsZWQgcHJvcGVybHkuIEUuZy4gd3JhcHBpbmcgaW50ZWdlcnMgaW4gYXJyYXlzLlxuICAgICAgICBPYmplY3Qua2V5cyh0ZXN0cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIG9wdGlvbiBpc24ndCBzZXQsIGJ1dCBpdCBpcyByZXF1aXJlZCwgdGhyb3cgYW4gZXJyb3IuXG4gICAgICAgICAgICBpZiAoIWlzU2V0KG9wdGlvbnNbbmFtZV0pICYmIGRlZmF1bHRzW25hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGVzdHNbbmFtZV0ucikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnXCIgKyBuYW1lICsgXCInIGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVzdHNbbmFtZV0udChwYXJzZWQsICFpc1NldChvcHRpb25zW25hbWVdKSA/IGRlZmF1bHRzW25hbWVdIDogb3B0aW9uc1tuYW1lXSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBGb3J3YXJkIHBpcHMgb3B0aW9uc1xuICAgICAgICBwYXJzZWQucGlwcyA9IG9wdGlvbnMucGlwcztcbiAgICAgICAgLy8gQWxsIHJlY2VudCBicm93c2VycyBhY2NlcHQgdW5wcmVmaXhlZCB0cmFuc2Zvcm0uXG4gICAgICAgIC8vIFdlIG5lZWQgLW1zLSBmb3IgSUU5IGFuZCAtd2Via2l0LSBmb3Igb2xkZXIgQW5kcm9pZDtcbiAgICAgICAgLy8gQXNzdW1lIHVzZSBvZiAtd2Via2l0LSBpZiB1bnByZWZpeGVkIGFuZCAtbXMtIGFyZSBub3Qgc3VwcG9ydGVkLlxuICAgICAgICAvLyBodHRwczovL2Nhbml1c2UuY29tLyNmZWF0PXRyYW5zZm9ybXMyZFxuICAgICAgICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHZhciBtc1ByZWZpeCA9IGQuc3R5bGUubXNUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIG5vUHJlZml4ID0gZC5zdHlsZS50cmFuc2Zvcm0gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgcGFyc2VkLnRyYW5zZm9ybVJ1bGUgPSBub1ByZWZpeCA/IFwidHJhbnNmb3JtXCIgOiBtc1ByZWZpeCA/IFwibXNUcmFuc2Zvcm1cIiA6IFwid2Via2l0VHJhbnNmb3JtXCI7XG4gICAgICAgIC8vIFBpcHMgZG9uJ3QgbW92ZSwgc28gd2UgY2FuIHBsYWNlIHRoZW0gdXNpbmcgbGVmdC90b3AuXG4gICAgICAgIHZhciBzdHlsZXMgPSBbXG4gICAgICAgICAgICBbXCJsZWZ0XCIsIFwidG9wXCJdLFxuICAgICAgICAgICAgW1wicmlnaHRcIiwgXCJib3R0b21cIl0sXG4gICAgICAgIF07XG4gICAgICAgIHBhcnNlZC5zdHlsZSA9IHN0eWxlc1twYXJzZWQuZGlyXVtwYXJzZWQub3J0XTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICB9XG4gICAgLy9lbmRyZWdpb25cbiAgICBmdW5jdGlvbiBzY29wZSh0YXJnZXQsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucykge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IGdldEFjdGlvbnMoKTtcbiAgICAgICAgdmFyIHN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lID0gZ2V0U3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUoKTtcbiAgICAgICAgdmFyIHN1cHBvcnRzUGFzc2l2ZSA9IHN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lICYmIGdldFN1cHBvcnRzUGFzc2l2ZSgpO1xuICAgICAgICAvLyBBbGwgdmFyaWFibGVzIGxvY2FsIHRvICdzY29wZScgYXJlIHByZWZpeGVkIHdpdGggJ3Njb3BlXydcbiAgICAgICAgLy8gU2xpZGVyIERPTSBOb2Rlc1xuICAgICAgICB2YXIgc2NvcGVfVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB2YXIgc2NvcGVfQmFzZTtcbiAgICAgICAgdmFyIHNjb3BlX0hhbmRsZXM7XG4gICAgICAgIHZhciBzY29wZV9Db25uZWN0cztcbiAgICAgICAgdmFyIHNjb3BlX1BpcHM7XG4gICAgICAgIHZhciBzY29wZV9Ub29sdGlwcztcbiAgICAgICAgLy8gU2xpZGVyIHN0YXRlIHZhbHVlc1xuICAgICAgICB2YXIgc2NvcGVfU3BlY3RydW0gPSBvcHRpb25zLnNwZWN0cnVtO1xuICAgICAgICB2YXIgc2NvcGVfVmFsdWVzID0gW107XG4gICAgICAgIHZhciBzY29wZV9Mb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgdmFyIHNjb3BlX0hhbmRsZU51bWJlcnMgPSBbXTtcbiAgICAgICAgdmFyIHNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCA9IDA7XG4gICAgICAgIHZhciBzY29wZV9FdmVudHMgPSB7fTtcbiAgICAgICAgLy8gRG9jdW1lbnQgTm9kZXNcbiAgICAgICAgdmFyIHNjb3BlX0RvY3VtZW50ID0gdGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIHZhciBzY29wZV9Eb2N1bWVudEVsZW1lbnQgPSBvcHRpb25zLmRvY3VtZW50RWxlbWVudCB8fCBzY29wZV9Eb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHZhciBzY29wZV9Cb2R5ID0gc2NvcGVfRG9jdW1lbnQuYm9keTtcbiAgICAgICAgLy8gRm9yIGhvcml6b250YWwgc2xpZGVycyBpbiBzdGFuZGFyZCBsdHIgZG9jdW1lbnRzLFxuICAgICAgICAvLyBtYWtlIC5ub1VpLW9yaWdpbiBvdmVyZmxvdyB0byB0aGUgbGVmdCBzbyB0aGUgZG9jdW1lbnQgZG9lc24ndCBzY3JvbGwuXG4gICAgICAgIHZhciBzY29wZV9EaXJPZmZzZXQgPSBzY29wZV9Eb2N1bWVudC5kaXIgPT09IFwicnRsXCIgfHwgb3B0aW9ucy5vcnQgPT09IDEgPyAwIDogMTAwO1xuICAgICAgICAvLyBDcmVhdGVzIGEgbm9kZSwgYWRkcyBpdCB0byB0YXJnZXQsIHJldHVybnMgdGhlIG5ldyBub2RlLlxuICAgICAgICBmdW5jdGlvbiBhZGROb2RlVG8oYWRkVGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBkaXYgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGRpdiwgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFRhcmdldC5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgICAgICAgcmV0dXJuIGRpdjtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBlbmQgYSBvcmlnaW4gdG8gdGhlIGJhc2VcbiAgICAgICAgZnVuY3Rpb24gYWRkT3JpZ2luKGJhc2UsIGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIG9yaWdpbiA9IGFkZE5vZGVUbyhiYXNlLCBvcHRpb25zLmNzc0NsYXNzZXMub3JpZ2luKTtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBhZGROb2RlVG8ob3JpZ2luLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlKTtcbiAgICAgICAgICAgIGFkZE5vZGVUbyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50b3VjaEFyZWEpO1xuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcImRhdGEtaGFuZGxlXCIsIFN0cmluZyhoYW5kbGVOdW1iZXIpKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmtleWJvYXJkU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvdGFiaW5kZXhcbiAgICAgICAgICAgICAgICAvLyAwID0gZm9jdXNhYmxlIGFuZCByZWFjaGFibGVcbiAgICAgICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgICAgICAgICAgICAgIGhhbmRsZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50S2V5ZG93bihldmVudCwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhbmRsZUF0dHJpYnV0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVzXzEgPSBvcHRpb25zLmhhbmRsZUF0dHJpYnV0ZXNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzXzEpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgYXR0cmlidXRlc18xW2F0dHJpYnV0ZV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJzbGlkZXJcIik7XG4gICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwiYXJpYS1vcmllbnRhdGlvblwiLCBvcHRpb25zLm9ydCA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwiKTtcbiAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVMb3dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYW5kbGVOdW1iZXIgPT09IG9wdGlvbnMuaGFuZGxlcyAtIDEpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVVcHBlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcmlnaW4uaGFuZGxlID0gaGFuZGxlO1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbnNlcnQgbm9kZXMgZm9yIGNvbm5lY3QgZWxlbWVudHNcbiAgICAgICAgZnVuY3Rpb24gYWRkQ29ubmVjdChiYXNlLCBhZGQpIHtcbiAgICAgICAgICAgIGlmICghYWRkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFkZE5vZGVUbyhiYXNlLCBvcHRpb25zLmNzc0NsYXNzZXMuY29ubmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGhhbmRsZXMgdG8gdGhlIHNsaWRlciBiYXNlLlxuICAgICAgICBmdW5jdGlvbiBhZGRFbGVtZW50cyhjb25uZWN0T3B0aW9ucywgYmFzZSkge1xuICAgICAgICAgICAgdmFyIGNvbm5lY3RCYXNlID0gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5jb25uZWN0cyk7XG4gICAgICAgICAgICBzY29wZV9IYW5kbGVzID0gW107XG4gICAgICAgICAgICBzY29wZV9Db25uZWN0cyA9IFtdO1xuICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMucHVzaChhZGRDb25uZWN0KGNvbm5lY3RCYXNlLCBjb25uZWN0T3B0aW9uc1swXSkpO1xuICAgICAgICAgICAgLy8gWzo6OjpPPT09PU89PT09Tz09PT1dXG4gICAgICAgICAgICAvLyBjb25uZWN0T3B0aW9ucyA9IFswLCAxLCAxLCAxXVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmhhbmRsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIEtlZXAgYSBsaXN0IG9mIGFsbCBhZGRlZCBoYW5kbGVzLlxuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMucHVzaChhZGRPcmlnaW4oYmFzZSwgaSkpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnNbaV0gPSBpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzLnB1c2goYWRkQ29ubmVjdChjb25uZWN0QmFzZSwgY29ubmVjdE9wdGlvbnNbaSArIDFdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBhIHNpbmdsZSBzbGlkZXIuXG4gICAgICAgIGZ1bmN0aW9uIGFkZFNsaWRlcihhZGRUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIEFwcGx5IGNsYXNzZXMgYW5kIGRhdGEgdG8gdGhlIHRhcmdldC5cbiAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcmdldCk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kaXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5sdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMucnRsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLm9ydCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmhvcml6b250YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudmVydGljYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHREaXJlY3Rpb24gPSBnZXRDb21wdXRlZFN0eWxlKGFkZFRhcmdldCkuZGlyZWN0aW9uO1xuICAgICAgICAgICAgaWYgKHRleHREaXJlY3Rpb24gPT09IFwicnRsXCIpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50ZXh0RGlyZWN0aW9uUnRsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRleHREaXJlY3Rpb25MdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFkZE5vZGVUbyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5iYXNlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRUb29sdGlwKGhhbmRsZSwgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMudG9vbHRpcHMgfHwgIW9wdGlvbnMudG9vbHRpcHNbaGFuZGxlTnVtYmVyXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhZGROb2RlVG8oaGFuZGxlLmZpcnN0Q2hpbGQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50b29sdGlwKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBpc1NsaWRlckRpc2FibGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1RhcmdldC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEaXNhYmxlIHRoZSBzbGlkZXIgZHJhZ2dpbmcgaWYgYW55IGhhbmRsZSBpcyBkaXNhYmxlZFxuICAgICAgICBmdW5jdGlvbiBpc0hhbmRsZURpc2FibGVkKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVPcmlnaW4uaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZGlzYWJsZShoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgIT09IG51bGwgJiYgaGFuZGxlTnVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdLmhhbmRsZS5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3BlX1RhcmdldC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuaGFuZGxlLnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGVuYWJsZShoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgIT09IG51bGwgJiYgaGFuZGxlTnVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdLmhhbmRsZS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCBcIjBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY29wZV9UYXJnZXQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuaGFuZGxlLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIFwiMFwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZW1vdmVUb29sdGlwcygpIHtcbiAgICAgICAgICAgIGlmIChzY29wZV9Ub29sdGlwcykge1xuICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KFwidXBkYXRlXCIgKyBJTlRFUk5BTF9FVkVOVF9OUy50b29sdGlwcyk7XG4gICAgICAgICAgICAgICAgc2NvcGVfVG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbiAodG9vbHRpcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vbHRpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudCh0b29sdGlwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNjb3BlX1Rvb2x0aXBzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgdG9vbHRpcHMgb3B0aW9uIGlzIGEgc2hvcnRoYW5kIGZvciB1c2luZyB0aGUgJ3VwZGF0ZScgZXZlbnQuXG4gICAgICAgIGZ1bmN0aW9uIHRvb2x0aXBzKCkge1xuICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcHMoKTtcbiAgICAgICAgICAgIC8vIFRvb2x0aXBzIGFyZSBhZGRlZCB3aXRoIG9wdGlvbnMudG9vbHRpcHMgaW4gb3JpZ2luYWwgb3JkZXIuXG4gICAgICAgICAgICBzY29wZV9Ub29sdGlwcyA9IHNjb3BlX0hhbmRsZXMubWFwKGFkZFRvb2x0aXApO1xuICAgICAgICAgICAgYmluZEV2ZW50KFwidXBkYXRlXCIgKyBJTlRFUk5BTF9FVkVOVF9OUy50b29sdGlwcywgZnVuY3Rpb24gKHZhbHVlcywgaGFuZGxlTnVtYmVyLCB1bmVuY29kZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlX1Rvb2x0aXBzIHx8ICFvcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlX1Rvb2x0aXBzW2hhbmRsZU51bWJlcl0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdmFsdWVzW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9vbHRpcHNbaGFuZGxlTnVtYmVyXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IG9wdGlvbnMudG9vbHRpcHNbaGFuZGxlTnVtYmVyXS50byh1bmVuY29kZWRbaGFuZGxlTnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjb3BlX1Rvb2x0aXBzW2hhbmRsZU51bWJlcl0uaW5uZXJIVE1MID0gZm9ybWF0dGVkVmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhcmlhKCkge1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnQoXCJ1cGRhdGVcIiArIElOVEVSTkFMX0VWRU5UX05TLmFyaWEpO1xuICAgICAgICAgICAgYmluZEV2ZW50KFwidXBkYXRlXCIgKyBJTlRFUk5BTF9FVkVOVF9OUy5hcmlhLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGVOdW1iZXIsIHVuZW5jb2RlZCwgdGFwLCBwb3NpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQXJpYSBWYWx1ZXMgZm9yIGFsbCBoYW5kbGVzLCBhcyBhIGNoYW5nZSBpbiBvbmUgY2hhbmdlcyBtaW4gYW5kIG1heCB2YWx1ZXMgZm9yIHRoZSBuZXh0LlxuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZSA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWluID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGluZGV4LCAwLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heCA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBpbmRleCwgMTAwLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdyA9IHBvc2l0aW9uc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdHRlZCB2YWx1ZSBmb3IgZGlzcGxheVxuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IFN0cmluZyhvcHRpb25zLmFyaWFGb3JtYXQudG8odW5lbmNvZGVkW2luZGV4XSkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBNYXAgdG8gc2xpZGVyIHJhbmdlIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBtaW4gPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobWluKS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBtYXggPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobWF4KS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBub3cgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobm93KS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW1pblwiLCBtaW4pO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW1heFwiLCBtYXgpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW5vd1wiLCBub3cpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZXRleHRcIiwgdGV4dCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRHcm91cChwaXBzKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHJhbmdlLlxuICAgICAgICAgICAgaWYgKHBpcHMubW9kZSA9PT0gZXhwb3J0cy5QaXBzTW9kZS5SYW5nZSB8fCBwaXBzLm1vZGUgPT09IGV4cG9ydHMuUGlwc01vZGUuU3RlcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfU3BlY3RydW0ueFZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaXBzLm1vZGUgPT09IGV4cG9ydHMuUGlwc01vZGUuQ291bnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGlwcy52YWx1ZXMgPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICd2YWx1ZXMnICg+PSAyKSByZXF1aXJlZCBmb3IgbW9kZSAnY291bnQnLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRGl2aWRlIDAgLSAxMDAgaW4gJ2NvdW50JyBwYXJ0cy5cbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBwaXBzLnZhbHVlcyAtIDE7XG4gICAgICAgICAgICAgICAgdmFyIHNwcmVhZCA9IDEwMCAvIGludGVydmFsO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0IHRoZXNlIHBhcnRzIGFuZCBoYXZlIHRoZW0gaGFuZGxlZCBhcyAncG9zaXRpb25zJy5cbiAgICAgICAgICAgICAgICB3aGlsZSAoaW50ZXJ2YWwtLSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW50ZXJ2YWxdID0gaW50ZXJ2YWwgKiBzcHJlYWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKDEwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcFRvUmFuZ2UodmFsdWVzLCBwaXBzLnN0ZXBwZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBpcHMubW9kZSA9PT0gZXhwb3J0cy5QaXBzTW9kZS5Qb3NpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAvLyBNYXAgYWxsIHBlcmNlbnRhZ2VzIHRvIG9uLXJhbmdlIHZhbHVlcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwVG9SYW5nZShwaXBzLnZhbHVlcywgcGlwcy5zdGVwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaXBzLm1vZGUgPT09IGV4cG9ydHMuUGlwc01vZGUuVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIG11c3QgYmUgc3RlcHBlZCwgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgcGVyY2VudGFnZSBmaXJzdC5cbiAgICAgICAgICAgICAgICBpZiAocGlwcy5zdGVwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwaXBzLnZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRvIHBlcmNlbnRhZ2UsIGFwcGx5IHN0ZXAsIHJldHVybiB0byB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcoc2NvcGVfU3BlY3RydW0uZ2V0U3RlcChzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKHZhbHVlKSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBjYW4gc2ltcGx5IHVzZSB0aGUgdmFsdWVzLlxuICAgICAgICAgICAgICAgIHJldHVybiBwaXBzLnZhbHVlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbXTsgLy8gcGlwcy5tb2RlID0gbmV2ZXJcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYXBUb1JhbmdlKHZhbHVlcywgc3RlcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhzdGVwcGVkID8gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVNwcmVhZChwaXBzKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBzYWZlSW5jcmVtZW50KHZhbHVlLCBpbmNyZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBmbG9hdGluZyBwb2ludCB2YXJpYW5jZSBieSBkcm9wcGluZyB0aGUgc21hbGxlc3QgZGVjaW1hbCBwbGFjZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcigodmFsdWUgKyBpbmNyZW1lbnQpLnRvRml4ZWQoNykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGdyb3VwID0gZ2V0R3JvdXAocGlwcyk7XG4gICAgICAgICAgICB2YXIgaW5kZXhlcyA9IHt9O1xuICAgICAgICAgICAgdmFyIGZpcnN0SW5SYW5nZSA9IHNjb3BlX1NwZWN0cnVtLnhWYWxbMF07XG4gICAgICAgICAgICB2YXIgbGFzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsW3Njb3BlX1NwZWN0cnVtLnhWYWwubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgaWdub3JlRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpZ25vcmVMYXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcHJldlBjdCA9IDA7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBncm91cCwgc29ydCBpdCBhbmQgZmlsdGVyIGF3YXkgYWxsIGR1cGxpY2F0ZXMuXG4gICAgICAgICAgICBncm91cCA9IHVuaXF1ZShncm91cC5zbGljZSgpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHJhbmdlIHN0YXJ0cyB3aXRoIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgICAgICAgICAgaWYgKGdyb3VwWzBdICE9PSBmaXJzdEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBncm91cC51bnNoaWZ0KGZpcnN0SW5SYW5nZSk7XG4gICAgICAgICAgICAgICAgaWdub3JlRmlyc3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTGlrZXdpc2UgZm9yIHRoZSBsYXN0IG9uZS5cbiAgICAgICAgICAgIGlmIChncm91cFtncm91cC5sZW5ndGggLSAxXSAhPT0gbGFzdEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKGxhc3RJblJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZ25vcmVMYXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyb3VwLmZvckVhY2goZnVuY3Rpb24gKGN1cnJlbnQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgYW5kIHRoZSBsb3dlciArIHVwcGVyIHBvc2l0aW9ucy5cbiAgICAgICAgICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgcTtcbiAgICAgICAgICAgICAgICB2YXIgbG93ID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICB2YXIgaGlnaCA9IGdyb3VwW2luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgdmFyIG5ld1BjdDtcbiAgICAgICAgICAgICAgICB2YXIgcGN0RGlmZmVyZW5jZTtcbiAgICAgICAgICAgICAgICB2YXIgcGN0UG9zO1xuICAgICAgICAgICAgICAgIHZhciB0eXBlO1xuICAgICAgICAgICAgICAgIHZhciBzdGVwcztcbiAgICAgICAgICAgICAgICB2YXIgcmVhbFN0ZXBzO1xuICAgICAgICAgICAgICAgIHZhciBzdGVwU2l6ZTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdGVwcyA9IHBpcHMubW9kZSA9PT0gZXhwb3J0cy5QaXBzTW9kZS5TdGVwcztcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHVzaW5nICdzdGVwcycgbW9kZSwgdXNlIHRoZSBwcm92aWRlZCBzdGVwcy5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlJ2xsIHN0ZXAgb24gdG8gdGhlIG5leHQgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgaWYgKGlzU3RlcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IHNjb3BlX1NwZWN0cnVtLnhOdW1TdGVwc1tpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gYSAnZnVsbCcgc3RlcC5cbiAgICAgICAgICAgICAgICBpZiAoIXN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IGhpZ2ggLSBsb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGhpZ2ggaXMgdW5kZWZpbmVkIHdlIGFyZSBhdCB0aGUgbGFzdCBzdWJyYW5nZS4gTWFrZSBzdXJlIGl0IGl0ZXJhdGVzIG9uY2UgKCMxMDg4KVxuICAgICAgICAgICAgICAgIGlmIChoaWdoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGlnaCA9IGxvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHN0ZXAgaXNuJ3QgMCwgd2hpY2ggd291bGQgY2F1c2UgYW4gaW5maW5pdGUgbG9vcCAoIzY1NClcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5tYXgoc3RlcCwgMC4wMDAwMDAxKTtcbiAgICAgICAgICAgICAgICAvLyBGaW5kIGFsbCBzdGVwcyBpbiB0aGUgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gbG93OyBpIDw9IGhpZ2g7IGkgPSBzYWZlSW5jcmVtZW50KGksIHN0ZXApKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgc3RlcCxcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBzaXplIGZvciB0aGUgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgICAgIG5ld1BjdCA9IHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcoaSk7XG4gICAgICAgICAgICAgICAgICAgIHBjdERpZmZlcmVuY2UgPSBuZXdQY3QgLSBwcmV2UGN0O1xuICAgICAgICAgICAgICAgICAgICBzdGVwcyA9IHBjdERpZmZlcmVuY2UgLyAocGlwcy5kZW5zaXR5IHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICByZWFsU3RlcHMgPSBNYXRoLnJvdW5kKHN0ZXBzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByYXRpbyByZXByZXNlbnRzIHRoZSBhbW91bnQgb2YgcGVyY2VudGFnZS1zcGFjZSBhIHBvaW50IGluZGljYXRlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGEgZGVuc2l0eSAxIHRoZSBwb2ludHMvcGVyY2VudGFnZSA9IDEuIEZvciBkZW5zaXR5IDIsIHRoYXQgcGVyY2VudGFnZSBuZWVkcyB0byBiZSByZS1kaXZpZGVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBSb3VuZCB0aGUgcGVyY2VudGFnZSBvZmZzZXQgdG8gYW4gZXZlbiBudW1iZXIsIHRoZW4gZGl2aWRlIGJ5IHR3b1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBzcHJlYWQgdGhlIG9mZnNldCBvbiBib3RoIHNpZGVzIG9mIHRoZSByYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgc3RlcFNpemUgPSBwY3REaWZmZXJlbmNlIC8gcmVhbFN0ZXBzO1xuICAgICAgICAgICAgICAgICAgICAvLyBEaXZpZGUgYWxsIHBvaW50cyBldmVubHksIGFkZGluZyB0aGUgY29ycmVjdCBudW1iZXIgdG8gdGhpcyBzdWJyYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gUnVuIHVwIHRvIDw9IHNvIHRoYXQgMTAwJSBnZXRzIGEgcG9pbnQsIGV2ZW50IGlmIGlnbm9yZUxhc3QgaXMgc2V0LlxuICAgICAgICAgICAgICAgICAgICBmb3IgKHEgPSAxOyBxIDw9IHJlYWxTdGVwczsgcSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcmF0aW8gYmV0d2VlbiB0aGUgcm91bmRlZCB2YWx1ZSBhbmQgdGhlIGFjdHVhbCBzaXplIG1pZ2h0IGJlIH4xJSBvZmYuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3JyZWN0IHRoZSBwZXJjZW50YWdlIG9mZnNldCBieSB0aGUgbnVtYmVyIG9mIHBvaW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGVyIHN1YnJhbmdlLiBkZW5zaXR5ID0gMSB3aWxsIHJlc3VsdCBpbiAxMDAgcG9pbnRzIG9uIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnVsbCByYW5nZSwgMiBmb3IgNTAsIDQgZm9yIDI1LCBldGMuXG4gICAgICAgICAgICAgICAgICAgICAgICBwY3RQb3MgPSBwcmV2UGN0ICsgcSAqIHN0ZXBTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlc1twY3RQb3MudG9GaXhlZCg1KV0gPSBbc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKHBjdFBvcyksIDBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgcG9pbnQgdHlwZS5cbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IGdyb3VwLmluZGV4T2YoaSkgPiAtMSA/IGV4cG9ydHMuUGlwc1R5cGUuTGFyZ2VWYWx1ZSA6IGlzU3RlcHMgPyBleHBvcnRzLlBpcHNUeXBlLlNtYWxsVmFsdWUgOiBleHBvcnRzLlBpcHNUeXBlLk5vVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZm9yY2UgdGhlICdpZ25vcmVGaXJzdCcgb3B0aW9uIGJ5IG92ZXJ3cml0aW5nIHRoZSB0eXBlIGZvciAwLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4ICYmIGlnbm9yZUZpcnN0ICYmIGkgIT09IGhpZ2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGkgPT09IGhpZ2ggJiYgaWdub3JlTGFzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhlICd0eXBlJyBvZiB0aGlzIHBvaW50LiAwID0gcGxhaW4sIDEgPSByZWFsIHZhbHVlLCAyID0gc3RlcCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ZXNbbmV3UGN0LnRvRml4ZWQoNSldID0gW2ksIHR5cGVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcGVyY2VudGFnZSBjb3VudC5cbiAgICAgICAgICAgICAgICAgICAgcHJldlBjdCA9IG5ld1BjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpbmRleGVzO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZE1hcmtpbmcoc3ByZWFkLCBmaWx0ZXJGdW5jLCBmb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHNjb3BlX0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB2YXIgdmFsdWVTaXplQ2xhc3NlcyA9IChfYSA9IHt9LFxuICAgICAgICAgICAgICAgIF9hW2V4cG9ydHMuUGlwc1R5cGUuTm9uZV0gPSBcIlwiLFxuICAgICAgICAgICAgICAgIF9hW2V4cG9ydHMuUGlwc1R5cGUuTm9WYWx1ZV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVOb3JtYWwsXG4gICAgICAgICAgICAgICAgX2FbZXhwb3J0cy5QaXBzVHlwZS5MYXJnZVZhbHVlXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZUxhcmdlLFxuICAgICAgICAgICAgICAgIF9hW2V4cG9ydHMuUGlwc1R5cGUuU21hbGxWYWx1ZV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVTdWIsXG4gICAgICAgICAgICAgICAgX2EpO1xuICAgICAgICAgICAgdmFyIG1hcmtlclNpemVDbGFzc2VzID0gKF9iID0ge30sXG4gICAgICAgICAgICAgICAgX2JbZXhwb3J0cy5QaXBzVHlwZS5Ob25lXSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgX2JbZXhwb3J0cy5QaXBzVHlwZS5Ob1ZhbHVlXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJOb3JtYWwsXG4gICAgICAgICAgICAgICAgX2JbZXhwb3J0cy5QaXBzVHlwZS5MYXJnZVZhbHVlXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJMYXJnZSxcbiAgICAgICAgICAgICAgICBfYltleHBvcnRzLlBpcHNUeXBlLlNtYWxsVmFsdWVdID0gb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlclN1YixcbiAgICAgICAgICAgICAgICBfYik7XG4gICAgICAgICAgICB2YXIgdmFsdWVPcmllbnRhdGlvbkNsYXNzZXMgPSBbb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlSG9yaXpvbnRhbCwgb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlVmVydGljYWxdO1xuICAgICAgICAgICAgdmFyIG1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcyA9IFtvcHRpb25zLmNzc0NsYXNzZXMubWFya2VySG9yaXpvbnRhbCwgb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlclZlcnRpY2FsXTtcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzKTtcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIG9wdGlvbnMub3J0ID09PSAwID8gb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHNIb3Jpem9udGFsIDogb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHNWZXJ0aWNhbCk7XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRDbGFzc2VzKHR5cGUsIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gc291cmNlID09PSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWVudGF0aW9uQ2xhc3NlcyA9IGEgPyB2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyA6IG1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcztcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZUNsYXNzZXMgPSBhID8gdmFsdWVTaXplQ2xhc3NlcyA6IG1hcmtlclNpemVDbGFzc2VzO1xuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2UgKyBcIiBcIiArIG9yaWVudGF0aW9uQ2xhc3Nlc1tvcHRpb25zLm9ydF0gKyBcIiBcIiArIHNpemVDbGFzc2VzW3R5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gYWRkU3ByZWFkKG9mZnNldCwgdmFsdWUsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBBcHBseSB0aGUgZmlsdGVyIGZ1bmN0aW9uLCBpZiBpdCBpcyBzZXQuXG4gICAgICAgICAgICAgICAgdHlwZSA9IGZpbHRlckZ1bmMgPyBmaWx0ZXJGdW5jKHZhbHVlLCB0eXBlKSA6IHR5cGU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IGV4cG9ydHMuUGlwc1R5cGUuTm9uZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFkZCBhIG1hcmtlciBmb3IgZXZlcnkgcG9pbnRcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGFkZE5vZGVUbyhlbGVtZW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBnZXRDbGFzc2VzKHR5cGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXIpO1xuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSBvZmZzZXQgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICAvLyBWYWx1ZXMgYXJlIG9ubHkgYXBwZW5kZWQgZm9yIHBvaW50cyBtYXJrZWQgJzEnIG9yICcyJy5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA+IGV4cG9ydHMuUGlwc1R5cGUuTm9WYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gYWRkTm9kZVRvKGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBnZXRDbGFzc2VzKHR5cGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS12YWx1ZVwiLCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IG9mZnNldCArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IFN0cmluZyhmb3JtYXR0ZXIudG8odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBcHBlbmQgYWxsIHBvaW50cy5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNwcmVhZCkuZm9yRWFjaChmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgYWRkU3ByZWFkKG9mZnNldCwgc3ByZWFkW29mZnNldF1bMF0sIHNwcmVhZFtvZmZzZXRdWzFdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUGlwcygpIHtcbiAgICAgICAgICAgIGlmIChzY29wZV9QaXBzKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudChzY29wZV9QaXBzKTtcbiAgICAgICAgICAgICAgICBzY29wZV9QaXBzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwaXBzKHBpcHMpIHtcbiAgICAgICAgICAgIC8vIEZpeCAjNjY5XG4gICAgICAgICAgICByZW1vdmVQaXBzKCk7XG4gICAgICAgICAgICB2YXIgc3ByZWFkID0gZ2VuZXJhdGVTcHJlYWQocGlwcyk7XG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gcGlwcy5maWx0ZXI7XG4gICAgICAgICAgICB2YXIgZm9ybWF0ID0gcGlwcy5mb3JtYXQgfHwge1xuICAgICAgICAgICAgICAgIHRvOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhNYXRoLnJvdW5kKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY29wZV9QaXBzID0gc2NvcGVfVGFyZ2V0LmFwcGVuZENoaWxkKGFkZE1hcmtpbmcoc3ByZWFkLCBmaWx0ZXIsIGZvcm1hdCkpO1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1BpcHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvcnRoYW5kIGZvciBiYXNlIGRpbWVuc2lvbnMuXG4gICAgICAgIGZ1bmN0aW9uIGJhc2VTaXplKCkge1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBzY29wZV9CYXNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIGFsdCA9IChcIm9mZnNldFwiICsgW1wiV2lkdGhcIiwgXCJIZWlnaHRcIl1bb3B0aW9ucy5vcnRdKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm9ydCA9PT0gMCA/IHJlY3Qud2lkdGggfHwgc2NvcGVfQmFzZVthbHRdIDogcmVjdC5oZWlnaHQgfHwgc2NvcGVfQmFzZVthbHRdO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZXIgZm9yIGF0dGFjaGluZyBldmVudHMgdHJvdWdoIGEgcHJveHkuXG4gICAgICAgIGZ1bmN0aW9uIGF0dGFjaEV2ZW50KGV2ZW50cywgZWxlbWVudCwgY2FsbGJhY2ssIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gJ2ZpbHRlcicgZXZlbnRzIHRvIHRoZSBzbGlkZXIuXG4gICAgICAgICAgICAvLyBlbGVtZW50IGlzIGEgbm9kZSwgbm90IGEgbm9kZUxpc3RcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGZpeEV2ZW50KGV2ZW50LCBkYXRhLnBhZ2VPZmZzZXQsIGRhdGEudGFyZ2V0IHx8IGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIC8vIGZpeEV2ZW50IHJldHVybnMgZmFsc2UgaWYgdGhpcyBldmVudCBoYXMgYSBkaWZmZXJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gd2hlbiBoYW5kbGluZyAobXVsdGktKSB0b3VjaCBldmVudHM7XG4gICAgICAgICAgICAgICAgaWYgKCFlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG9Ob3RSZWplY3QgaXMgcGFzc2VkIGJ5IGFsbCBlbmQgZXZlbnRzIHRvIG1ha2Ugc3VyZSByZWxlYXNlZCB0b3VjaGVzXG4gICAgICAgICAgICAgICAgLy8gYXJlIG5vdCByZWplY3RlZCwgbGVhdmluZyB0aGUgc2xpZGVyIFwic3R1Y2tcIiB0byB0aGUgY3Vyc29yO1xuICAgICAgICAgICAgICAgIGlmIChpc1NsaWRlckRpc2FibGVkKCkgJiYgIWRhdGEuZG9Ob3RSZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdG9wIGlmIGFuIGFjdGl2ZSAndGFwJyB0cmFuc2l0aW9uIGlzIHRha2luZyBwbGFjZS5cbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwKSAmJiAhZGF0YS5kb05vdFJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzID09PSBhY3Rpb25zLnN0YXJ0ICYmIGUuYnV0dG9ucyAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9ucyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgcmlnaHQgb3IgbWlkZGxlIGNsaWNrcyBvbiBzdGFydCAjNDU0XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaG92ZXIgJiYgZS5idXR0b25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gJ3N1cHBvcnRzUGFzc2l2ZScgaXMgb25seSB0cnVlIGlmIGEgYnJvd3NlciBhbHNvIHN1cHBvcnRzIHRvdWNoLWFjdGlvbjogbm9uZSBpbiBDU1MuXG4gICAgICAgICAgICAgICAgLy8gaU9TIHNhZmFyaSBkb2VzIG5vdCwgc28gaXQgZG9lc24ndCBnZXQgdG8gYmVuZWZpdCBmcm9tIHBhc3NpdmUgc2Nyb2xsaW5nLiBpT1MgZG9lcyBzdXBwb3J0XG4gICAgICAgICAgICAgICAgLy8gdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb24sIGJ1dCB0aGF0IGFsbG93cyBwYW5uaW5nLCB3aGljaCBicmVha3NcbiAgICAgICAgICAgICAgICAvLyBzbGlkZXJzIGFmdGVyIHpvb21pbmcvb24gbm9uLXJlc3BvbnNpdmUgcGFnZXMuXG4gICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTMzMTEyXG4gICAgICAgICAgICAgICAgaWYgKCFzdXBwb3J0c1Bhc3NpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlLmNhbGNQb2ludCA9IGUucG9pbnRzW29wdGlvbnMub3J0XTtcbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBldmVudCBoYW5kbGVyIHdpdGggdGhlIGV2ZW50IFsgYW5kIGFkZGl0aW9uYWwgZGF0YSBdLlxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbWV0aG9kcyA9IFtdO1xuICAgICAgICAgICAgLy8gQmluZCBhIGNsb3N1cmUgb24gdGhlIHRhcmdldCBmb3IgZXZlcnkgZXZlbnQgdHlwZS5cbiAgICAgICAgICAgIGV2ZW50cy5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbWV0aG9kLCBzdXBwb3J0c1Bhc3NpdmUgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnB1c2goW2V2ZW50TmFtZSwgbWV0aG9kXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2RzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByb3ZpZGUgYSBjbGVhbiBldmVudCB3aXRoIHN0YW5kYXJkaXplZCBvZmZzZXQgdmFsdWVzLlxuICAgICAgICBmdW5jdGlvbiBmaXhFdmVudChlLCBwYWdlT2Zmc2V0LCBldmVudFRhcmdldCkge1xuICAgICAgICAgICAgLy8gRmlsdGVyIHRoZSBldmVudCB0byByZWdpc3RlciB0aGUgdHlwZSwgd2hpY2ggY2FuIGJlXG4gICAgICAgICAgICAvLyB0b3VjaCwgbW91c2Ugb3IgcG9pbnRlci4gT2Zmc2V0IGNoYW5nZXMgbmVlZCB0byBiZVxuICAgICAgICAgICAgLy8gbWFkZSBvbiBhbiBldmVudCBzcGVjaWZpYyBiYXNpcy5cbiAgICAgICAgICAgIHZhciB0b3VjaCA9IGUudHlwZS5pbmRleE9mKFwidG91Y2hcIikgPT09IDA7XG4gICAgICAgICAgICB2YXIgbW91c2UgPSBlLnR5cGUuaW5kZXhPZihcIm1vdXNlXCIpID09PSAwO1xuICAgICAgICAgICAgdmFyIHBvaW50ZXIgPSBlLnR5cGUuaW5kZXhPZihcInBvaW50ZXJcIikgPT09IDA7XG4gICAgICAgICAgICB2YXIgeCA9IDA7XG4gICAgICAgICAgICB2YXIgeSA9IDA7XG4gICAgICAgICAgICAvLyBJRTEwIGltcGxlbWVudGVkIHBvaW50ZXIgZXZlbnRzIHdpdGggYSBwcmVmaXg7XG4gICAgICAgICAgICBpZiAoZS50eXBlLmluZGV4T2YoXCJNU1BvaW50ZXJcIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICBwb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEVycm9uZW91cyBldmVudHMgc2VlbSB0byBiZSBwYXNzZWQgaW4gb2NjYXNpb25hbGx5IG9uIGlPUy9pUGFkT1MgYWZ0ZXIgdXNlciBmaW5pc2hlcyBpbnRlcmFjdGluZyB3aXRoXG4gICAgICAgICAgICAvLyB0aGUgc2xpZGVyLiBUaGV5IGFwcGVhciB0byBiZSBvZiB0eXBlIE1vdXNlRXZlbnQsIHlldCB0aGV5IGRvbid0IGhhdmUgdXN1YWwgcHJvcGVydGllcyBzZXQuIElnbm9yZVxuICAgICAgICAgICAgLy8gZXZlbnRzIHRoYXQgaGF2ZSBubyB0b3VjaGVzIG9yIGJ1dHRvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZW0uICgjMTA1NywgIzEwNzksICMxMDk1KVxuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJtb3VzZWRvd25cIiAmJiAhZS5idXR0b25zICYmICFlLnRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgb25seSB0aGluZyBvbmUgaGFuZGxlIHNob3VsZCBiZSBjb25jZXJuZWQgYWJvdXQgaXMgdGhlIHRvdWNoZXMgdGhhdCBvcmlnaW5hdGVkIG9uIHRvcCBvZiBpdC5cbiAgICAgICAgICAgIGlmICh0b3VjaCkge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybnMgdHJ1ZSBpZiBhIHRvdWNoIG9yaWdpbmF0ZWQgb24gdGhlIHRhcmdldC5cbiAgICAgICAgICAgICAgICB2YXIgaXNUb3VjaE9uVGFyZ2V0ID0gZnVuY3Rpb24gKGNoZWNrVG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGNoZWNrVG91Y2gudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHRhcmdldCA9PT0gZXZlbnRUYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmNvbnRhaW5zKHRhcmdldCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChlLmNvbXBvc2VkICYmIGUuY29tcG9zZWRQYXRoKCkuc2hpZnQoKSA9PT0gZXZlbnRUYXJnZXQpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIHRvdWNoc3RhcnQgZXZlbnRzLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGVyZSBpcyBzdGlsbCBubyBtb3JlIHRoYW4gb25lXG4gICAgICAgICAgICAgICAgLy8gdG91Y2ggb24gdGhlIHRhcmdldCBzbyB3ZSBsb29rIGFtb25nc3QgYWxsIHRvdWNoZXMuXG4gICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFRvdWNoZXMgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS50b3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3Qgc3VwcG9ydCBtb3JlIHRoYW4gb25lIHRvdWNoIHBlciBoYW5kbGUuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRUb3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB4ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHRhcmdldFRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGUgb3RoZXIgY2FzZXMsIGZpbmQgb24gY2hhbmdlZFRvdWNoZXMgaXMgZW5vdWdoLlxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VG91Y2ggPSBBcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKGUuY2hhbmdlZFRvdWNoZXMsIGlzVG91Y2hPblRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbmNlbCBpZiB0aGUgdGFyZ2V0IHRvdWNoIGhhcyBub3QgbW92ZWQuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0VG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB4ID0gdGFyZ2V0VG91Y2gucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB0YXJnZXRUb3VjaC5wYWdlWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWdlT2Zmc2V0ID0gcGFnZU9mZnNldCB8fCBnZXRQYWdlT2Zmc2V0KHNjb3BlX0RvY3VtZW50KTtcbiAgICAgICAgICAgIGlmIChtb3VzZSB8fCBwb2ludGVyKSB7XG4gICAgICAgICAgICAgICAgeCA9IGUuY2xpZW50WCArIHBhZ2VPZmZzZXQueDtcbiAgICAgICAgICAgICAgICB5ID0gZS5jbGllbnRZICsgcGFnZU9mZnNldC55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5wYWdlT2Zmc2V0ID0gcGFnZU9mZnNldDtcbiAgICAgICAgICAgIGUucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgZS5jdXJzb3IgPSBtb3VzZSB8fCBwb2ludGVyOyAvLyBGaXggIzQzNVxuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJhbnNsYXRlIGEgY29vcmRpbmF0ZSBpbiB0aGUgZG9jdW1lbnQgdG8gYSBwZXJjZW50YWdlIG9uIHRoZSBzbGlkZXJcbiAgICAgICAgZnVuY3Rpb24gY2FsY1BvaW50VG9QZXJjZW50YWdlKGNhbGNQb2ludCkge1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gY2FsY1BvaW50IC0gb2Zmc2V0KHNjb3BlX0Jhc2UsIG9wdGlvbnMub3J0KTtcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IChsb2NhdGlvbiAqIDEwMCkgLyBiYXNlU2l6ZSgpO1xuICAgICAgICAgICAgLy8gQ2xhbXAgcHJvcG9zYWwgYmV0d2VlbiAwJSBhbmQgMTAwJVxuICAgICAgICAgICAgLy8gT3V0LW9mLWJvdW5kIGNvb3JkaW5hdGVzIG1heSBvY2N1ciB3aGVuIC5ub1VpLWJhc2UgcHNldWRvLWVsZW1lbnRzXG4gICAgICAgICAgICAvLyBhcmUgdXNlZCAoZS5nLiBjb250YWluZWQgaGFuZGxlcyBmZWF0dXJlKVxuICAgICAgICAgICAgcHJvcG9zYWwgPSBsaW1pdChwcm9wb3NhbCk7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kaXIgPyAxMDAgLSBwcm9wb3NhbCA6IHByb3Bvc2FsO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpbmQgaGFuZGxlIGNsb3Nlc3QgdG8gYSBjZXJ0YWluIHBlcmNlbnRhZ2Ugb24gdGhlIHNsaWRlclxuICAgICAgICBmdW5jdGlvbiBnZXRDbG9zZXN0SGFuZGxlKGNsaWNrZWRQb3NpdGlvbikge1xuICAgICAgICAgICAgdmFyIHNtYWxsZXN0RGlmZmVyZW5jZSA9IDEwMDtcbiAgICAgICAgICAgIHZhciBoYW5kbGVOdW1iZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIERpc2FibGVkIGhhbmRsZXMgYXJlIGlnbm9yZWRcbiAgICAgICAgICAgICAgICBpZiAoaXNIYW5kbGVEaXNhYmxlZChpbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlUG9zaXRpb24gPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUgPSBNYXRoLmFicyhoYW5kbGVQb3NpdGlvbiAtIGNsaWNrZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxuICAgICAgICAgICAgICAgIHZhciBjbGlja0F0RWRnZSA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA9PT0gMTAwICYmIHNtYWxsZXN0RGlmZmVyZW5jZSA9PT0gMTAwO1xuICAgICAgICAgICAgICAgIC8vIERpZmZlcmVuY2Ugd2l0aCB0aGlzIGhhbmRsZSBpcyBzbWFsbGVyIHRoYW4gdGhlIHByZXZpb3VzbHkgY2hlY2tlZCBoYW5kbGVcbiAgICAgICAgICAgICAgICB2YXIgaXNDbG9zZXIgPSBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUgPCBzbWFsbGVzdERpZmZlcmVuY2U7XG4gICAgICAgICAgICAgICAgdmFyIGlzQ2xvc2VyQWZ0ZXIgPSBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUgPD0gc21hbGxlc3REaWZmZXJlbmNlICYmIGNsaWNrZWRQb3NpdGlvbiA+IGhhbmRsZVBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChpc0Nsb3NlciB8fCBpc0Nsb3NlckFmdGVyIHx8IGNsaWNrQXRFZGdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlciA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICBzbWFsbGVzdERpZmZlcmVuY2UgPSBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlTnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpcmUgJ2VuZCcgd2hlbiBhIG1vdXNlIG9yIHBlbiBsZWF2ZXMgdGhlIGRvY3VtZW50LlxuICAgICAgICBmdW5jdGlvbiBkb2N1bWVudExlYXZlKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJtb3VzZW91dFwiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkhUTUxcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBldmVudEVuZChldmVudCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIG1vdmVtZW50IG9uIGRvY3VtZW50IGZvciBoYW5kbGUgYW5kIHJhbmdlIGRyYWcuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50TW92ZShldmVudCwgZGF0YSkge1xuICAgICAgICAgICAgLy8gRml4ICM0OThcbiAgICAgICAgICAgIC8vIENoZWNrIHZhbHVlIG9mIC5idXR0b25zIGluICdzdGFydCcgdG8gd29yayBhcm91bmQgYSBidWcgaW4gSUUxMCBtb2JpbGUgKGRhdGEuYnV0dG9uc1Byb3BlcnR5KS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvOTI3MDA1L21vYmlsZS1pZTEwLXdpbmRvd3MtcGhvbmUtYnV0dG9ucy1wcm9wZXJ0eS1vZi1wb2ludGVybW92ZS1ldmVudC1hbHdheXMtemVyb1xuICAgICAgICAgICAgLy8gSUU5IGhhcyAuYnV0dG9ucyBhbmQgLndoaWNoIHplcm8gb24gbW91c2Vtb3ZlLlxuICAgICAgICAgICAgLy8gRmlyZWZveCBicmVha3MgdGhlIHNwZWMgTUROIGRlZmluZXMuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgOVwiKSA9PT0gLTEgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCAmJiBkYXRhLmJ1dHRvbnNQcm9wZXJ0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudEVuZChldmVudCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBhcmUgbW92aW5nIHVwIG9yIGRvd25cbiAgICAgICAgICAgIHZhciBtb3ZlbWVudCA9IChvcHRpb25zLmRpciA/IC0xIDogMSkgKiAoZXZlbnQuY2FsY1BvaW50IC0gZGF0YS5zdGFydENhbGNQb2ludCk7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBtb3ZlbWVudCBpbnRvIGEgcGVyY2VudGFnZSBvZiB0aGUgc2xpZGVyIHdpZHRoL2hlaWdodFxuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gKG1vdmVtZW50ICogMTAwKSAvIGRhdGEuYmFzZVNpemU7XG4gICAgICAgICAgICBtb3ZlSGFuZGxlcyhtb3ZlbWVudCA+IDAsIHByb3Bvc2FsLCBkYXRhLmxvY2F0aW9ucywgZGF0YS5oYW5kbGVOdW1iZXJzLCBkYXRhLmNvbm5lY3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVuYmluZCBtb3ZlIGV2ZW50cyBvbiBkb2N1bWVudCwgY2FsbCBjYWxsYmFja3MuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50RW5kKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBUaGUgaGFuZGxlIGlzIG5vIGxvbmdlciBhY3RpdmUsIHNvIHJlbW92ZSB0aGUgY2xhc3MuXG4gICAgICAgICAgICBpZiAoZGF0YS5oYW5kbGUpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhkYXRhLmhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50IC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVbmJpbmQgdGhlIG1vdmUgYW5kIGVuZCBldmVudHMsIHdoaWNoIGFyZSBhZGRlZCBvbiAnc3RhcnQnLlxuICAgICAgICAgICAgZGF0YS5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIHNjb3BlX0RvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGNbMF0sIGNbMV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRyYWdnaW5nIGNsYXNzLlxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuICAgICAgICAgICAgICAgIHNldFppbmRleCgpO1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBjdXJzb3Igc3R5bGVzIGFuZCB0ZXh0LXNlbGVjdGlvbiBldmVudHMgYm91bmQgdG8gdGhlIGJvZHkuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmN1cnNvcikge1xuICAgICAgICAgICAgICAgICAgICBzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIHByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5ldmVudHMuc21vb3RoU3RlcHMpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdLCB0cnVlLCB0cnVlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRhdGEuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiZW5kXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCaW5kIG1vdmUgZXZlbnRzIG9uIGRvY3VtZW50LlxuICAgICAgICBmdW5jdGlvbiBldmVudFN0YXJ0KGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXZlbnQgaWYgYW55IGhhbmRsZSBpcyBkaXNhYmxlZFxuICAgICAgICAgICAgaWYgKGRhdGEuaGFuZGxlTnVtYmVycy5zb21lKGlzSGFuZGxlRGlzYWJsZWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhbmRsZTtcbiAgICAgICAgICAgIGlmIChkYXRhLmhhbmRsZU51bWJlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbZGF0YS5oYW5kbGVOdW1iZXJzWzBdXTtcbiAgICAgICAgICAgICAgICBoYW5kbGUgPSBoYW5kbGVPcmlnaW4uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgLy8gTWFyayB0aGUgaGFuZGxlIGFzICdhY3RpdmUnIHNvIGl0IGNhbiBiZSBzdHlsZWQuXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuYWN0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEEgZHJhZyBzaG91bGQgbmV2ZXIgcHJvcGFnYXRlIHVwIHRvIHRoZSAndGFwJyBldmVudC5cbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgLy8gUmVjb3JkIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgICAgICAgICAvLyBBdHRhY2ggdGhlIG1vdmUgYW5kIGVuZCBldmVudHMuXG4gICAgICAgICAgICB2YXIgbW92ZUV2ZW50ID0gYXR0YWNoRXZlbnQoYWN0aW9ucy5tb3ZlLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGV2ZW50TW92ZSwge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBldmVudCB0YXJnZXQgaGFzIGNoYW5nZWQgc28gd2UgbmVlZCB0byBwcm9wYWdhdGUgdGhlIG9yaWdpbmFsIG9uZSBzbyB0aGF0IHdlIGtlZXBcbiAgICAgICAgICAgICAgICAvLyByZWx5aW5nIG9uIGl0IHRvIGV4dHJhY3QgdGFyZ2V0IHRvdWNoZXMuXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBoYW5kbGUsXG4gICAgICAgICAgICAgICAgY29ubmVjdDogZGF0YS5jb25uZWN0LFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q2FsY1BvaW50OiBldmVudC5jYWxjUG9pbnQsXG4gICAgICAgICAgICAgICAgYmFzZVNpemU6IGJhc2VTaXplKCksXG4gICAgICAgICAgICAgICAgcGFnZU9mZnNldDogZXZlbnQucGFnZU9mZnNldCxcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnMsXG4gICAgICAgICAgICAgICAgYnV0dG9uc1Byb3BlcnR5OiBldmVudC5idXR0b25zLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uczogc2NvcGVfTG9jYXRpb25zLnNsaWNlKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBlbmRFdmVudCA9IGF0dGFjaEV2ZW50KGFjdGlvbnMuZW5kLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGV2ZW50RW5kLCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBoYW5kbGUsXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsXG4gICAgICAgICAgICAgICAgZG9Ob3RSZWplY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgb3V0RXZlbnQgPSBhdHRhY2hFdmVudChcIm1vdXNlb3V0XCIsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZG9jdW1lbnRMZWF2ZSwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGhhbmRsZTogaGFuZGxlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIGRvTm90UmVqZWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgcHVzaGVkIHRoZSBsaXN0ZW5lcnMgaW4gdGhlIGxpc3RlbmVyIGxpc3QgcmF0aGVyIHRoYW4gY3JlYXRpbmdcbiAgICAgICAgICAgIC8vIGEgbmV3IG9uZSBhcyBpdCBoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlcnMuXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIG1vdmVFdmVudC5jb25jYXQoZW5kRXZlbnQsIG91dEV2ZW50KSk7XG4gICAgICAgICAgICAvLyBUZXh0IHNlbGVjdGlvbiBpc24ndCBhbiBpc3N1ZSBvbiB0b3VjaCBkZXZpY2VzLFxuICAgICAgICAgICAgLy8gc28gYWRkaW5nIGN1cnNvciBzdHlsZXMgY2FuIGJlIHNraXBwZWQuXG4gICAgICAgICAgICBpZiAoZXZlbnQuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCB0aGUgJ0knIGN1cnNvciBhbmQgZXh0ZW5kIHRoZSByYW5nZS1kcmFnIGN1cnNvci5cbiAgICAgICAgICAgICAgICBzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9IGdldENvbXB1dGVkU3R5bGUoZXZlbnQudGFyZ2V0KS5jdXJzb3I7XG4gICAgICAgICAgICAgICAgLy8gTWFyayB0aGUgdGFyZ2V0IHdpdGggYSBkcmFnZ2luZyBzdGF0ZS5cbiAgICAgICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoZW4gZHJhZ2dpbmcgdGhlIGhhbmRsZXMuXG4gICAgICAgICAgICAgICAgLy8gSW4gbm9VaVNsaWRlciA8PSA5LjIuMCwgdGhpcyB3YXMgaGFuZGxlZCBieSBjYWxsaW5nIHByZXZlbnREZWZhdWx0IG9uIG1vdXNlL3RvdWNoIHN0YXJ0L21vdmUsXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggaXMgc2Nyb2xsIGJsb2NraW5nLiBUaGUgc2VsZWN0c3RhcnQgZXZlbnQgaXMgc3VwcG9ydGVkIGJ5IEZpcmVGb3ggc3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDUyLFxuICAgICAgICAgICAgICAgIC8vIG1lYW5pbmcgdGhlIG9ubHkgaG9sZG91dCBpcyBpT1MgU2FmYXJpLiBUaGlzIGRvZXNuJ3QgbWF0dGVyOiB0ZXh0IHNlbGVjdGlvbiBpc24ndCB0cmlnZ2VyZWQgdGhlcmUuXG4gICAgICAgICAgICAgICAgLy8gVGhlICdjdXJzb3InIGZsYWcgaXMgZmFsc2UuXG4gICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1zZWxlY3RzdGFydFxuICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic3RhcnRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1vdmUgY2xvc2VzdCBoYW5kbGUgdG8gdGFwcGVkIGxvY2F0aW9uLlxuICAgICAgICBmdW5jdGlvbiBldmVudFRhcChldmVudCkge1xuICAgICAgICAgICAgLy8gVGhlIHRhcCBldmVudCBzaG91bGRuJ3QgcHJvcGFnYXRlIHVwXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IGNhbGNQb2ludFRvUGVyY2VudGFnZShldmVudC5jYWxjUG9pbnQpO1xuICAgICAgICAgICAgdmFyIGhhbmRsZU51bWJlciA9IGdldENsb3Nlc3RIYW5kbGUocHJvcG9zYWwpO1xuICAgICAgICAgICAgLy8gVGFja2xlIHRoZSBjYXNlIHRoYXQgYWxsIGhhbmRsZXMgYXJlICdkaXNhYmxlZCcuXG4gICAgICAgICAgICBpZiAoaGFuZGxlTnVtYmVyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZsYWcgdGhlIHNsaWRlciBhcyBpdCBpcyBub3cgaW4gYSB0cmFuc2l0aW9uYWwgc3RhdGUuXG4gICAgICAgICAgICAvLyBUcmFuc2l0aW9uIHRha2VzIGEgY29uZmlndXJhYmxlIGFtb3VudCBvZiBtcyAoZGVmYXVsdCAzMDApLiBSZS1lbmFibGUgdGhlIHNsaWRlciBhZnRlciB0aGF0LlxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmV2ZW50cy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NGb3Ioc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwLCBvcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHByb3Bvc2FsLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHNldFppbmRleCgpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2xpZGVcIiwgaGFuZGxlTnVtYmVyLCB0cnVlKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmV2ZW50cy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBldmVudFN0YXJ0KGV2ZW50LCB7IGhhbmRsZU51bWJlcnM6IFtoYW5kbGVOdW1iZXJdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZpcmVzIGEgJ2hvdmVyJyBldmVudCBmb3IgYSBob3ZlcmVkIG1vdXNlL3BlbiBwb3NpdGlvbi5cbiAgICAgICAgZnVuY3Rpb24gZXZlbnRIb3ZlcihldmVudCkge1xuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XG4gICAgICAgICAgICB2YXIgdG8gPSBzY29wZV9TcGVjdHJ1bS5nZXRTdGVwKHByb3Bvc2FsKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiaG92ZXJcIiA9PT0gdGFyZ2V0RXZlbnQuc3BsaXQoXCIuXCIpWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoc2NvcGVfU2VsZiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGVzIGtleWRvd24gb24gZm9jdXNlZCBoYW5kbGVzXG4gICAgICAgIC8vIERvbid0IG1vdmUgdGhlIGRvY3VtZW50IHdoZW4gcHJlc3NpbmcgYXJyb3cga2V5cyBvbiBmb2N1c2VkIGhhbmRsZXNcbiAgICAgICAgZnVuY3Rpb24gZXZlbnRLZXlkb3duKGV2ZW50LCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChpc1NsaWRlckRpc2FibGVkKCkgfHwgaXNIYW5kbGVEaXNhYmxlZChoYW5kbGVOdW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhvcml6b250YWxLZXlzID0gW1wiTGVmdFwiLCBcIlJpZ2h0XCJdO1xuICAgICAgICAgICAgdmFyIHZlcnRpY2FsS2V5cyA9IFtcIkRvd25cIiwgXCJVcFwiXTtcbiAgICAgICAgICAgIHZhciBsYXJnZVN0ZXBLZXlzID0gW1wiUGFnZURvd25cIiwgXCJQYWdlVXBcIl07XG4gICAgICAgICAgICB2YXIgZWRnZUtleXMgPSBbXCJIb21lXCIsIFwiRW5kXCJdO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyICYmICFvcHRpb25zLm9ydCkge1xuICAgICAgICAgICAgICAgIC8vIE9uIGFuIHJpZ2h0LXRvLWxlZnQgc2xpZGVyLCB0aGUgbGVmdCBhbmQgcmlnaHQga2V5cyBhY3QgaW52ZXJ0ZWRcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsS2V5cy5yZXZlcnNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLm9ydCAmJiAhb3B0aW9ucy5kaXIpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhIHRvcC10by1ib3R0b20gc2xpZGVyLCB0aGUgdXAgYW5kIGRvd24ga2V5cyBhY3QgaW52ZXJ0ZWRcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIGxhcmdlU3RlcEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RyaXAgXCJBcnJvd1wiIGZvciBJRSBjb21wYXRpYmlsaXR5LiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudC9rZXlcbiAgICAgICAgICAgIHZhciBrZXkgPSBldmVudC5rZXkucmVwbGFjZShcIkFycm93XCIsIFwiXCIpO1xuICAgICAgICAgICAgdmFyIGlzTGFyZ2VEb3duID0ga2V5ID09PSBsYXJnZVN0ZXBLZXlzWzBdO1xuICAgICAgICAgICAgdmFyIGlzTGFyZ2VVcCA9IGtleSA9PT0gbGFyZ2VTdGVwS2V5c1sxXTtcbiAgICAgICAgICAgIHZhciBpc0Rvd24gPSBrZXkgPT09IHZlcnRpY2FsS2V5c1swXSB8fCBrZXkgPT09IGhvcml6b250YWxLZXlzWzBdIHx8IGlzTGFyZ2VEb3duO1xuICAgICAgICAgICAgdmFyIGlzVXAgPSBrZXkgPT09IHZlcnRpY2FsS2V5c1sxXSB8fCBrZXkgPT09IGhvcml6b250YWxLZXlzWzFdIHx8IGlzTGFyZ2VVcDtcbiAgICAgICAgICAgIHZhciBpc01pbiA9IGtleSA9PT0gZWRnZUtleXNbMF07XG4gICAgICAgICAgICB2YXIgaXNNYXggPSBrZXkgPT09IGVkZ2VLZXlzWzFdO1xuICAgICAgICAgICAgaWYgKCFpc0Rvd24gJiYgIWlzVXAgJiYgIWlzTWluICYmICFpc01heCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB0bztcbiAgICAgICAgICAgIGlmIChpc1VwIHx8IGlzRG93bikge1xuICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpc0Rvd24gPyAwIDogMTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcHMgPSBnZXROZXh0U3RlcHNGb3JIYW5kbGUoaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IHN0ZXBzW2RpcmVjdGlvbl07XG4gICAgICAgICAgICAgICAgLy8gQXQgdGhlIGVkZ2Ugb2YgYSBzbGlkZXIsIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE5vIHN0ZXAgc2V0LCB1c2UgdGhlIGRlZmF1bHQgb2YgMTAlIG9mIHRoZSBzdWItcmFuZ2VcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IHNjb3BlX1NwZWN0cnVtLmdldERlZmF1bHRTdGVwKHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdLCBpc0Rvd24sIG9wdGlvbnMua2V5Ym9hcmREZWZhdWx0U3RlcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0xhcmdlVXAgfHwgaXNMYXJnZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCAqPSBvcHRpb25zLmtleWJvYXJkUGFnZU11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGVwICo9IG9wdGlvbnMua2V5Ym9hcmRNdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdGVwIG92ZXIgemVyby1sZW5ndGggcmFuZ2VzICgjOTQ4KTtcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5tYXgoc3RlcCwgMC4wMDAwMDAxKTtcbiAgICAgICAgICAgICAgICAvLyBEZWNyZW1lbnQgZm9yIGRvd24gc3RlcHNcbiAgICAgICAgICAgICAgICBzdGVwID0gKGlzRG93biA/IC0xIDogMSkgKiBzdGVwO1xuICAgICAgICAgICAgICAgIHRvID0gc2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl0gKyBzdGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNNYXgpIHtcbiAgICAgICAgICAgICAgICAvLyBFbmQga2V5XG4gICAgICAgICAgICAgICAgdG8gPSBvcHRpb25zLnNwZWN0cnVtLnhWYWxbb3B0aW9ucy5zcGVjdHJ1bS54VmFsLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSG9tZSBrZXlcbiAgICAgICAgICAgICAgICB0byA9IG9wdGlvbnMuc3BlY3RydW0ueFZhbFswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInNsaWRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcImNoYW5nZVwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0YWNoIGV2ZW50cyB0byBzZXZlcmFsIHNsaWRlciBwYXJ0cy5cbiAgICAgICAgZnVuY3Rpb24gYmluZFNsaWRlckV2ZW50cyhiZWhhdmlvdXIpIHtcbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgc3RhbmRhcmQgZHJhZyBldmVudCB0byB0aGUgaGFuZGxlcy5cbiAgICAgICAgICAgIGlmICghYmVoYXZpb3VyLmZpeGVkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIGV2ZW50cyBhcmUgb25seSBib3VuZCB0byB0aGUgdmlzdWFsIGhhbmRsZVxuICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50LCBub3QgdGhlICdyZWFsJyBvcmlnaW4gZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5zdGFydCwgaGFuZGxlLmNoaWxkcmVuWzBdLCBldmVudFN0YXJ0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBbaW5kZXhdLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgdGFwIGV2ZW50IHRvIHRoZSBzbGlkZXIgYmFzZS5cbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIudGFwKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5zdGFydCwgc2NvcGVfQmFzZSwgZXZlbnRUYXAsIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpcmUgaG92ZXIgZXZlbnRzXG4gICAgICAgICAgICBpZiAoYmVoYXZpb3VyLmhvdmVyKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5tb3ZlLCBzY29wZV9CYXNlLCBldmVudEhvdmVyLCB7XG4gICAgICAgICAgICAgICAgICAgIGhvdmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFrZSB0aGUgcmFuZ2UgZHJhZ2dhYmxlLlxuICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5kcmFnKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMuZm9yRWFjaChmdW5jdGlvbiAoY29ubmVjdCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3QgPT09IGZhbHNlIHx8IGluZGV4ID09PSAwIHx8IGluZGV4ID09PSBzY29wZV9Db25uZWN0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZUJlZm9yZSA9IHNjb3BlX0hhbmRsZXNbaW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZUFmdGVyID0gc2NvcGVfSGFuZGxlc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudEhvbGRlcnMgPSBbY29ubmVjdF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVzVG9EcmFnID0gW2hhbmRsZUJlZm9yZSwgaGFuZGxlQWZ0ZXJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlTnVtYmVyc1RvRHJhZyA9IFtpbmRleCAtIDEsIGluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoY29ubmVjdCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWdnYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHJhbmdlIGlzIGZpeGVkLCB0aGUgZW50aXJlIHJhbmdlIGNhblxuICAgICAgICAgICAgICAgICAgICAvLyBiZSBkcmFnZ2VkIGJ5IHRoZSBoYW5kbGVzLiBUaGUgaGFuZGxlIGluIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAvLyBvcmlnaW4gd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXJ0IGV2ZW50IHVwd2FyZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGl0IG5lZWRzIHRvIGJlIGJvdW5kIG1hbnVhbGx5IG9uIHRoZSBvdGhlci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5maXhlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRIb2xkZXJzLnB1c2goaGFuZGxlQmVmb3JlLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5wdXNoKGhhbmRsZUFmdGVyLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYmVoYXZpb3VyLmRyYWdBbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXNUb0RyYWcgPSBzY29wZV9IYW5kbGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyc1RvRHJhZyA9IHNjb3BlX0hhbmRsZU51bWJlcnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXZlbnRIb2xkZXJzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50SG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLnN0YXJ0LCBldmVudEhvbGRlciwgZXZlbnRTdGFydCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IGhhbmRsZXNUb0RyYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyczogaGFuZGxlTnVtYmVyc1RvRHJhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0OiBjb25uZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEF0dGFjaCBhbiBldmVudCB0byB0aGlzIHNsaWRlciwgcG9zc2libHkgaW5jbHVkaW5nIGEgbmFtZXNwYWNlXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRFdmVudChuYW1lc3BhY2VkRXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XSA9IHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZXZlbnQgYm91bmQgaXMgJ3VwZGF0ZSwnIGZpcmUgaXQgaW1tZWRpYXRlbHkgZm9yIGFsbCBoYW5kbGVzLlxuICAgICAgICAgICAgaWYgKG5hbWVzcGFjZWRFdmVudC5zcGxpdChcIi5cIilbMF0gPT09IFwidXBkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaXNJbnRlcm5hbE5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lc3BhY2UgPT09IElOVEVSTkFMX0VWRU5UX05TLmFyaWEgfHwgbmFtZXNwYWNlID09PSBJTlRFUk5BTF9FVkVOVF9OUy50b29sdGlwcztcbiAgICAgICAgfVxuICAgICAgICAvLyBVbmRvIGF0dGFjaG1lbnQgb2YgZXZlbnRcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlRXZlbnQobmFtZXNwYWNlZEV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBuYW1lc3BhY2VkRXZlbnQgJiYgbmFtZXNwYWNlZEV2ZW50LnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSBldmVudCA/IG5hbWVzcGFjZWRFdmVudC5zdWJzdHJpbmcoZXZlbnQubGVuZ3RoKSA6IG5hbWVzcGFjZWRFdmVudDtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoYmluZCkge1xuICAgICAgICAgICAgICAgIHZhciB0RXZlbnQgPSBiaW5kLnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgICAgICB2YXIgdE5hbWVzcGFjZSA9IGJpbmQuc3Vic3RyaW5nKHRFdmVudC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmICgoIWV2ZW50IHx8IGV2ZW50ID09PSB0RXZlbnQpICYmICghbmFtZXNwYWNlIHx8IG5hbWVzcGFjZSA9PT0gdE5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBkZWxldGUgcHJvdGVjdGVkIGludGVybmFsIGV2ZW50IGlmIGludGVudGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNJbnRlcm5hbE5hbWVzcGFjZSh0TmFtZXNwYWNlKSB8fCBuYW1lc3BhY2UgPT09IHROYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY29wZV9FdmVudHNbYmluZF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeHRlcm5hbCBldmVudCBoYW5kbGluZ1xuICAgICAgICBmdW5jdGlvbiBmaXJlRXZlbnQoZXZlbnROYW1lLCBoYW5kbGVOdW1iZXIsIHRhcCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc2NvcGVfRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXRFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSB0YXJnZXRFdmVudC5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIHNsaWRlciBwdWJsaWMgQVBJIGFzIHRoZSBzY29wZSAoJ3RoaXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfU2VsZiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdmFsdWVzIGFzIGFycmF5LCBzbyBhcmdfMVthcmdfMl0gaXMgYWx3YXlzIHZhbGlkLlxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byksIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGluZGV4LCAwIG9yIDFcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVbi1mb3JtYXR0ZWQgc2xpZGVyIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfVmFsdWVzLnNsaWNlKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZlbnQgaXMgZmlyZWQgYnkgdGFwLCB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXAgfHwgZmFsc2UsIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBvZmZzZXQgb2YgdGhlIGhhbmRsZSwgaW4gcmVsYXRpb24gdG8gdGhlIHNsaWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfTG9jYXRpb25zLnNsaWNlKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBzbGlkZXIgcHVibGljIEFQSSB0byBhbiBhY2Nlc3NpYmxlIHBhcmFtZXRlciB3aGVuIHRoaXMgaXMgdW5hdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1NlbGYpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTcGxpdCBvdXQgdGhlIGhhbmRsZSBwb3NpdGlvbmluZyBsb2dpYyBzbyB0aGUgTW92ZSBldmVudCBjYW4gdXNlIGl0LCB0b29cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tIYW5kbGVQb3NpdGlvbihyZWZlcmVuY2UsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGdldFZhbHVlLCBzbW9vdGhTdGVwcykge1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlO1xuICAgICAgICAgICAgLy8gRm9yIHNsaWRlcnMgd2l0aCBtdWx0aXBsZSBoYW5kbGVzLCBsaW1pdCBtb3ZlbWVudCB0byB0aGUgb3RoZXIgaGFuZGxlLlxuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIG1hcmdpbiBvcHRpb24gYnkgYWRkaW5nIGl0IHRvIHRoZSBoYW5kbGUgcG9zaXRpb25zLlxuICAgICAgICAgICAgaWYgKHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSAmJiAhb3B0aW9ucy5ldmVudHMudW5jb25zdHJhaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UocmVmZXJlbmNlW2hhbmRsZU51bWJlciAtIDFdLCBvcHRpb25zLm1hcmdpbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWF4KHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSwgb3B0aW9ucy5tYXJnaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlIGxpbWl0IG9wdGlvbiBoYXMgdGhlIG9wcG9zaXRlIGVmZmVjdCwgbGltaXRpbmcgaGFuZGxlcyB0byBhXG4gICAgICAgICAgICAvLyBtYXhpbXVtIGRpc3RhbmNlIGZyb20gYW5vdGhlci4gTGltaXQgbXVzdCBiZSA+IDAsIGFzIG90aGVyd2lzZVxuICAgICAgICAgICAgLy8gaGFuZGxlcyB3b3VsZCBiZSB1bm1vdmFibGUuXG4gICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICYmIG9wdGlvbnMubGltaXQpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9va0JhY2t3YXJkICYmIGhhbmRsZU51bWJlciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgLSAxXSwgb3B0aW9ucy5saW1pdCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSwgb3B0aW9ucy5saW1pdCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgcGFkZGluZyBvcHRpb24ga2VlcHMgdGhlIGhhbmRsZXMgYSBjZXJ0YWluIGRpc3RhbmNlIGZyb20gdGhlXG4gICAgICAgICAgICAvLyBlZGdlcyBvZiB0aGUgc2xpZGVyLiBQYWRkaW5nIG11c3QgYmUgPiAwLlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFkZGluZykge1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKDAsIG9wdGlvbnMucGFkZGluZ1swXSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWF4KHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgPT09IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UoMTAwLCBvcHRpb25zLnBhZGRpbmdbMV0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzbW9vdGhTdGVwcykge1xuICAgICAgICAgICAgICAgIHRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh0byk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMaW1pdCBwZXJjZW50YWdlIHRvIHRoZSAwIC0gMTAwIHJhbmdlXG4gICAgICAgICAgICB0byA9IGxpbWl0KHRvKTtcbiAgICAgICAgICAgIC8vIFJldHVybiBmYWxzZSBpZiBoYW5kbGUgY2FuJ3QgbW92ZVxuICAgICAgICAgICAgaWYgKHRvID09PSByZWZlcmVuY2VbaGFuZGxlTnVtYmVyXSAmJiAhZ2V0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXNlcyBzbGlkZXIgb3JpZW50YXRpb24gdG8gY3JlYXRlIENTUyBydWxlcy4gYSA9IGJhc2UgdmFsdWU7XG4gICAgICAgIGZ1bmN0aW9uIGluUnVsZU9yZGVyKHYsIGEpIHtcbiAgICAgICAgICAgIHZhciBvID0gb3B0aW9ucy5vcnQ7XG4gICAgICAgICAgICByZXR1cm4gKG8gPyBhIDogdikgKyBcIiwgXCIgKyAobyA/IHYgOiBhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNb3ZlcyBoYW5kbGUocykgYnkgYSBwZXJjZW50YWdlXG4gICAgICAgIC8vIChib29sLCAlIHRvIG1vdmUsIFslIHdoZXJlIGhhbmRsZSBzdGFydGVkLCAuLi5dLCBbaW5kZXggaW4gc2NvcGVfSGFuZGxlcywgLi4uXSlcbiAgICAgICAgZnVuY3Rpb24gbW92ZUhhbmRsZXModXB3YXJkLCBwcm9wb3NhbCwgbG9jYXRpb25zLCBoYW5kbGVOdW1iZXJzLCBjb25uZWN0KSB7XG4gICAgICAgICAgICB2YXIgcHJvcG9zYWxzID0gbG9jYXRpb25zLnNsaWNlKCk7XG4gICAgICAgICAgICAvLyBTdG9yZSBmaXJzdCBoYW5kbGUgbm93LCBzbyB3ZSBzdGlsbCBoYXZlIGl0IGluIGNhc2UgaGFuZGxlTnVtYmVycyBpcyByZXZlcnNlZFxuICAgICAgICAgICAgdmFyIGZpcnN0SGFuZGxlID0gaGFuZGxlTnVtYmVyc1swXTtcbiAgICAgICAgICAgIHZhciBzbW9vdGhTdGVwcyA9IG9wdGlvbnMuZXZlbnRzLnNtb290aFN0ZXBzO1xuICAgICAgICAgICAgdmFyIGIgPSBbIXVwd2FyZCwgdXB3YXJkXTtcbiAgICAgICAgICAgIHZhciBmID0gW3Vwd2FyZCwgIXVwd2FyZF07XG4gICAgICAgICAgICAvLyBDb3B5IGhhbmRsZU51bWJlcnMgc28gd2UgZG9uJ3QgY2hhbmdlIHRoZSBkYXRhc2V0XG4gICAgICAgICAgICBoYW5kbGVOdW1iZXJzID0gaGFuZGxlTnVtYmVycy5zbGljZSgpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIHdoaWNoIGhhbmRsZSBpcyAnbGVhZGluZycuXG4gICAgICAgICAgICAvLyBJZiB0aGF0IG9uZSBjYW4ndCBtb3ZlIHRoZSBzZWNvbmQgY2FuJ3QgZWl0aGVyLlxuICAgICAgICAgICAgaWYgKHVwd2FyZCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RlcCAxOiBnZXQgdGhlIG1heGltdW0gcGVyY2VudGFnZSB0aGF0IGFueSBvZiB0aGUgaGFuZGxlcyBjYW4gbW92ZVxuICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlcnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyLCBvKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0byA9IGNoZWNrSGFuZGxlUG9zaXRpb24ocHJvcG9zYWxzLCBoYW5kbGVOdW1iZXIsIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdICsgcHJvcG9zYWwsIGJbb10sIGZbb10sIGZhbHNlLCBzbW9vdGhTdGVwcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0b3AgaWYgb25lIG9mIHRoZSBoYW5kbGVzIGNhbid0IG1vdmUuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0byA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FsID0gdG8gLSBwcm9wb3NhbHNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdID0gdG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHVzaW5nIG9uZSBoYW5kbGUsIGNoZWNrIGJhY2t3YXJkIEFORCBmb3J3YXJkXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBiID0gZiA9IFt0cnVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gU3RlcCAyOiBUcnkgdG8gc2V0IHRoZSBoYW5kbGVzIHdpdGggdGhlIGZvdW5kIHBlcmNlbnRhZ2VcbiAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyLCBvKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPVxuICAgICAgICAgICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBsb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSArIHByb3Bvc2FsLCBiW29dLCBmW29dLCBmYWxzZSwgc21vb3RoU3RlcHMpIHx8IHN0YXRlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBTdGVwIDM6IElmIGEgaGFuZGxlIG1vdmVkLCBmaXJlIGV2ZW50c1xuICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInNsaWRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGFyZ2V0IGlzIGEgY29ubmVjdCwgdGhlbiBmaXJlIGRyYWcgZXZlbnRcbiAgICAgICAgICAgICAgICBpZiAoY29ubmVjdCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiZHJhZ1wiLCBmaXJzdEhhbmRsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRha2VzIGEgYmFzZSB2YWx1ZSBhbmQgYW4gb2Zmc2V0LiBUaGlzIG9mZnNldCBpcyB1c2VkIGZvciB0aGUgY29ubmVjdCBiYXIgc2l6ZS5cbiAgICAgICAgLy8gSW4gdGhlIGluaXRpYWwgZGVzaWduIGZvciB0aGlzIGZlYXR1cmUsIHRoZSBvcmlnaW4gZWxlbWVudCB3YXMgMSUgd2lkZS5cbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgYSByb3VuZGluZyBidWcgaW4gQ2hyb21lIG1ha2VzIGl0IGltcG9zc2libGUgdG8gaW1wbGVtZW50IHRoaXMgZmVhdHVyZVxuICAgICAgICAvLyBpbiB0aGlzIG1hbm5lcjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Nzk4MjIzXG4gICAgICAgIGZ1bmN0aW9uIHRyYW5zZm9ybURpcmVjdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kaXIgPyAxMDAgLSBhIC0gYiA6IGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlcyBzY29wZV9Mb2NhdGlvbnMgYW5kIHNjb3BlX1ZhbHVlcywgdXBkYXRlcyB2aXN1YWwgc3RhdGVcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0bykge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2F0aW9ucy5cbiAgICAgICAgICAgIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID0gdG87XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSB2YWx1ZSB0byB0aGUgc2xpZGVyIHN0ZXBwaW5nL3JhbmdlLlxuICAgICAgICAgICAgc2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl0gPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcodG8pO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKHRvLCAwKSAtIHNjb3BlX0Rpck9mZnNldDtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVSdWxlID0gXCJ0cmFuc2xhdGUoXCIgKyBpblJ1bGVPcmRlcih0cmFuc2xhdGlvbiArIFwiJVwiLCBcIjBcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXS5zdHlsZVtvcHRpb25zLnRyYW5zZm9ybVJ1bGVdID0gdHJhbnNsYXRlUnVsZTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlcyBiZWZvcmUgdGhlIHNsaWRlciBtaWRkbGUgYXJlIHN0YWNrZWQgbGF0ZXIgPSBoaWdoZXIsXG4gICAgICAgIC8vIEhhbmRsZXMgYWZ0ZXIgdGhlIG1pZGRsZSBsYXRlciBpcyBsb3dlclxuICAgICAgICAvLyBbWzddIFs4XSAuLi4uLi4uLi4uIHwgLi4uLi4uLi4uLiBbNV0gWzRdXG4gICAgICAgIGZ1bmN0aW9uIHNldFppbmRleCgpIHtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpciA9IHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID4gNTAgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgdmFyIHpJbmRleCA9IDMgKyAoc2NvcGVfSGFuZGxlcy5sZW5ndGggKyBkaXIgKiBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXS5zdHlsZS56SW5kZXggPSBTdHJpbmcoekluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRlc3Qgc3VnZ2VzdGVkIHZhbHVlcyBhbmQgYXBwbHkgbWFyZ2luLCBzdGVwLlxuICAgICAgICAvLyBpZiBleGFjdElucHV0IGlzIHRydWUsIGRvbid0IHJ1biBjaGVja0hhbmRsZVBvc2l0aW9uLCB0aGVuIHRoZSBoYW5kbGUgY2FuIGJlIHBsYWNlZCBpbiBiZXR3ZWVuIHN0ZXBzICgjNDM2KVxuICAgICAgICBmdW5jdGlvbiBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCB0bywgbG9va0JhY2t3YXJkLCBsb29rRm9yd2FyZCwgZXhhY3RJbnB1dCwgc21vb3RoU3RlcHMpIHtcbiAgICAgICAgICAgIGlmICghZXhhY3RJbnB1dCkge1xuICAgICAgICAgICAgICAgIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGZhbHNlLCBzbW9vdGhTdGVwcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG8gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0byk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGVzIHN0eWxlIGF0dHJpYnV0ZSBmb3IgY29ubmVjdCBub2Rlc1xuICAgICAgICBmdW5jdGlvbiB1cGRhdGVDb25uZWN0KGluZGV4KSB7XG4gICAgICAgICAgICAvLyBTa2lwIGNvbm5lY3RzIHNldCB0byBmYWxzZVxuICAgICAgICAgICAgaWYgKCFzY29wZV9Db25uZWN0c1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbCA9IDA7XG4gICAgICAgICAgICB2YXIgaCA9IDEwMDtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGwgPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXggLSAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gc2NvcGVfQ29ubmVjdHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGggPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgdXNlIHR3byBydWxlczpcbiAgICAgICAgICAgIC8vICd0cmFuc2xhdGUnIHRvIGNoYW5nZSB0aGUgbGVmdC90b3Agb2Zmc2V0O1xuICAgICAgICAgICAgLy8gJ3NjYWxlJyB0byBjaGFuZ2UgdGhlIHdpZHRoIG9mIHRoZSBlbGVtZW50O1xuICAgICAgICAgICAgLy8gQXMgdGhlIGVsZW1lbnQgaGFzIGEgd2lkdGggb2YgMTAwJSwgYSB0cmFuc2xhdGlvbiBvZiAxMDAlIGlzIGVxdWFsIHRvIDEwMCUgb2YgdGhlIHBhcmVudCAoLm5vVWktYmFzZSlcbiAgICAgICAgICAgIHZhciBjb25uZWN0V2lkdGggPSBoIC0gbDtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVSdWxlID0gXCJ0cmFuc2xhdGUoXCIgKyBpblJ1bGVPcmRlcih0cmFuc2Zvcm1EaXJlY3Rpb24obCwgY29ubmVjdFdpZHRoKSArIFwiJVwiLCBcIjBcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHZhciBzY2FsZVJ1bGUgPSBcInNjYWxlKFwiICsgaW5SdWxlT3JkZXIoY29ubmVjdFdpZHRoIC8gMTAwLCBcIjFcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzW2luZGV4XS5zdHlsZVtvcHRpb25zLnRyYW5zZm9ybVJ1bGVdID1cbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVSdWxlICsgXCIgXCIgKyBzY2FsZVJ1bGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFyc2VzIHZhbHVlIHBhc3NlZCB0byAuc2V0IG1ldGhvZC4gUmV0dXJucyBjdXJyZW50IHZhbHVlIGlmIG5vdCBwYXJzZS1hYmxlLlxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlVG9WYWx1ZSh0bywgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAvLyBTZXR0aW5nIHdpdGggbnVsbCBpbmRpY2F0ZXMgYW4gJ2lnbm9yZScuXG4gICAgICAgICAgICAvLyBJbnB1dHRpbmcgJ2ZhbHNlJyBpcyBpbnZhbGlkLlxuICAgICAgICAgICAgaWYgKHRvID09PSBudWxsIHx8IHRvID09PSBmYWxzZSB8fCB0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgYSBmb3JtYXR0ZWQgbnVtYmVyIHdhcyBwYXNzZWQsIGF0dGVtcHQgdG8gZGVjb2RlIGl0LlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHRvID0gU3RyaW5nKHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvID0gb3B0aW9ucy5mb3JtYXQuZnJvbSh0byk7XG4gICAgICAgICAgICBpZiAodG8gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdG8gPSBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHBhcnNpbmcgdGhlIG51bWJlciBmYWlsZWQsIHVzZSB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICAgICAgICAgIGlmICh0byA9PT0gZmFsc2UgfHwgaXNOYU4odG8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgc2xpZGVyIHZhbHVlLlxuICAgICAgICBmdW5jdGlvbiB2YWx1ZVNldChpbnB1dCwgZmlyZVNldEV2ZW50LCBleGFjdElucHV0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gYXNBcnJheShpbnB1dCk7XG4gICAgICAgICAgICB2YXIgaXNJbml0ID0gc2NvcGVfTG9jYXRpb25zWzBdID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBFdmVudCBmaXJlcyBieSBkZWZhdWx0XG4gICAgICAgICAgICBmaXJlU2V0RXZlbnQgPSBmaXJlU2V0RXZlbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBmaXJlU2V0RXZlbnQ7XG4gICAgICAgICAgICAvLyBBbmltYXRpb24gaXMgb3B0aW9uYWwuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGluaXRpYWwgdmFsdWVzIHdlcmUgc2V0IGJlZm9yZSB1c2luZyBhbmltYXRlZCBwbGFjZW1lbnQuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRlICYmICFpc0luaXQpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzc0ZvcihzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXAsIG9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmlyc3QgcGFzcywgd2l0aG91dCBsb29rQWhlYWQgYnV0IHdpdGggbG9va0JhY2t3YXJkLiBWYWx1ZXMgYXJlIHNldCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHJlc29sdmVUb1ZhbHVlKHZhbHVlc1toYW5kbGVOdW1iZXJdLCBoYW5kbGVOdW1iZXIpLCB0cnVlLCBmYWxzZSwgZXhhY3RJbnB1dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBpID0gc2NvcGVfSGFuZGxlTnVtYmVycy5sZW5ndGggPT09IDEgPyAwIDogMTtcbiAgICAgICAgICAgIC8vIFNwcmVhZCBoYW5kbGVzIGV2ZW5seSBhY3Jvc3MgdGhlIHNsaWRlciBpZiB0aGUgcmFuZ2UgaGFzIG5vIHNpemUgKG1pbj1tYXgpXG4gICAgICAgICAgICBpZiAoaXNJbml0ICYmIHNjb3BlX1NwZWN0cnVtLmhhc05vU2l6ZSgpKSB7XG4gICAgICAgICAgICAgICAgZXhhY3RJbnB1dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2NvcGVfTG9jYXRpb25zWzBdID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlTnVtYmVycy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZV8xID0gMTAwIC8gKHNjb3BlX0hhbmRsZU51bWJlcnMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSA9IGhhbmRsZU51bWJlciAqIHNwYWNlXzE7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlY29uZGFyeSBwYXNzZXMuIE5vdyB0aGF0IGFsbCBiYXNlIHZhbHVlcyBhcmUgc2V0LCBhcHBseSBjb25zdHJhaW50cy5cbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgYWxsIGhhbmRsZXMgdG8gZW5zdXJlIGNvbnN0cmFpbnRzIGFyZSBhcHBsaWVkIGZvciB0aGUgZW50aXJlIHNsaWRlciAoSXNzdWUgIzEwMDkpXG4gICAgICAgICAgICBmb3IgKDsgaSA8IHNjb3BlX0hhbmRsZU51bWJlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSwgdHJ1ZSwgdHJ1ZSwgZXhhY3RJbnB1dCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRaaW5kZXgoKTtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgLy8gRmlyZSB0aGUgZXZlbnQgb25seSBmb3IgaGFuZGxlcyB0aGF0IHJlY2VpdmVkIGEgbmV3IHZhbHVlLCBhcyBwZXIgIzU3OVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaGFuZGxlTnVtYmVyXSAhPT0gbnVsbCAmJiBmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgc2xpZGVyIHRvIGluaXRpYWwgdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlUmVzZXQoZmlyZVNldEV2ZW50KSB7XG4gICAgICAgICAgICB2YWx1ZVNldChvcHRpb25zLnN0YXJ0LCBmaXJlU2V0RXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB2YWx1ZSBmb3IgYSBzaW5nbGUgaGFuZGxlXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlU2V0SGFuZGxlKGhhbmRsZU51bWJlciwgdmFsdWUsIGZpcmVTZXRFdmVudCwgZXhhY3RJbnB1dCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIG51bWVyaWMgaW5wdXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlciA9IE51bWJlcihoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgaWYgKCEoaGFuZGxlTnVtYmVyID49IDAgJiYgaGFuZGxlTnVtYmVyIDwgc2NvcGVfSGFuZGxlTnVtYmVycy5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogaW52YWxpZCBoYW5kbGUgbnVtYmVyLCBnb3Q6IFwiICsgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExvb2sgYm90aCBiYWNrd2FyZCBhbmQgZm9yd2FyZCwgc2luY2Ugd2UgZG9uJ3Qgd2FudCB0aGlzIGhhbmRsZSB0byBcInB1c2hcIiBvdGhlciBoYW5kbGVzICgjOTYwKTtcbiAgICAgICAgICAgIC8vIFRoZSBleGFjdElucHV0IGFyZ3VtZW50IGNhbiBiZSB1c2VkIHRvIGlnbm9yZSBzbGlkZXIgc3RlcHBpbmcgKCM0MzYpXG4gICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCByZXNvbHZlVG9WYWx1ZSh2YWx1ZSwgaGFuZGxlTnVtYmVyKSwgdHJ1ZSwgdHJ1ZSwgZXhhY3RJbnB1dCk7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIHNsaWRlciB2YWx1ZS5cbiAgICAgICAgZnVuY3Rpb24gdmFsdWVHZXQodW5lbmNvZGVkKSB7XG4gICAgICAgICAgICBpZiAodW5lbmNvZGVkID09PSB2b2lkIDApIHsgdW5lbmNvZGVkID0gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmICh1bmVuY29kZWQpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gYSBjb3B5IG9mIHRoZSByYXcgdmFsdWVzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1ZhbHVlcy5sZW5ndGggPT09IDEgPyBzY29wZV9WYWx1ZXNbMF0gOiBzY29wZV9WYWx1ZXMuc2xpY2UoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gc2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byk7XG4gICAgICAgICAgICAvLyBJZiBvbmx5IG9uZSBoYW5kbGUgaXMgdXNlZCwgcmV0dXJuIGEgc2luZ2xlIHZhbHVlLlxuICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmVzIGNsYXNzZXMgZnJvbSB0aGUgcm9vdCBhbmQgZW1wdGllcyBpdC5cbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBwcm90ZWN0ZWQgaW50ZXJuYWwgbGlzdGVuZXJzXG4gICAgICAgICAgICByZW1vdmVFdmVudChJTlRFUk5BTF9FVkVOVF9OUy5hcmlhKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KElOVEVSTkFMX0VWRU5UX05TLnRvb2x0aXBzKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMuY3NzQ2xhc3NlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXNba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdoaWxlIChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIHNjb3BlX1RhcmdldC5yZW1vdmVDaGlsZChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgc2NvcGVfVGFyZ2V0Lm5vVWlTbGlkZXI7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0TmV4dFN0ZXBzRm9ySGFuZGxlKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICB2YXIgbmVhcmJ5U3RlcHMgPSBzY29wZV9TcGVjdHJ1bS5nZXROZWFyYnlTdGVwcyhsb2NhdGlvbik7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGVwO1xuICAgICAgICAgICAgdmFyIGRlY3JlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBJZiBzbmFwcGVkLCBkaXJlY3RseSB1c2UgZGVmaW5lZCBzdGVwIHZhbHVlXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLSBuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLnN0YXJ0VmFsdWUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgLSB2YWx1ZSB8fCBudWxsLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUgbmV4dCB2YWx1ZSBpbiB0aGlzIHN0ZXAgbW92ZXMgaW50byB0aGUgbmV4dCBzdGVwLFxuICAgICAgICAgICAgLy8gdGhlIGluY3JlbWVudCBpcyB0aGUgc3RhcnQgb2YgdGhlIG5leHQgc3RlcCAtIHRoZSBjdXJyZW50IHZhbHVlXG4gICAgICAgICAgICBpZiAoaW5jcmVtZW50ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSArIGluY3JlbWVudCA+IG5lYXJieVN0ZXBzLnN0ZXBBZnRlci5zdGFydFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IG5lYXJieVN0ZXBzLnN0ZXBBZnRlci5zdGFydFZhbHVlIC0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGJleW9uZCB0aGUgc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0YXJ0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5zdGVwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgYSBoYW5kbGUgaXMgYXQgdGhlIHN0YXJ0IG9mIGEgc3RlcCwgaXQgYWx3YXlzIHN0ZXBzIGJhY2sgaW50byB0aGUgcHJldmlvdXMgc3RlcCBmaXJzdFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gdmFsdWUgLSBuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLmhpZ2hlc3RTdGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm93LCBpZiBhdCB0aGUgc2xpZGVyIGVkZ2VzLCB0aGVyZSBpcyBubyBpbi9kZWNyZW1lbnRcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbiA9PT0gMTAwKSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxvY2F0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFzIHBlciAjMzkxLCB0aGUgY29tcGFyaXNvbiBmb3IgdGhlIGRlY3JlbWVudCBzdGVwIGNhbiBoYXZlIHNvbWUgcm91bmRpbmcgaXNzdWVzLlxuICAgICAgICAgICAgdmFyIHN0ZXBEZWNpbWFscyA9IHNjb3BlX1NwZWN0cnVtLmNvdW50U3RlcERlY2ltYWxzKCk7XG4gICAgICAgICAgICAvLyBSb3VuZCBwZXIgIzM5MVxuICAgICAgICAgICAgaWYgKGluY3JlbWVudCAhPT0gbnVsbCAmJiBpbmNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gTnVtYmVyKGluY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlY3JlbWVudCAhPT0gbnVsbCAmJiBkZWNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gTnVtYmVyKGRlY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtkZWNyZW1lbnQsIGluY3JlbWVudF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgc2l6ZSBmb3IgdGhlIHNsaWRlci5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TmV4dFN0ZXBzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0hhbmRsZU51bWJlcnMubWFwKGdldE5leHRTdGVwc0ZvckhhbmRsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRhYmxlOiBtYXJnaW4sIGxpbWl0LCBwYWRkaW5nLCBzdGVwLCByYW5nZSwgYW5pbWF0ZSwgc25hcFxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKG9wdGlvbnNUb1VwZGF0ZSwgZmlyZVNldEV2ZW50KSB7XG4gICAgICAgICAgICAvLyBTcGVjdHJ1bSBpcyBjcmVhdGVkIHVzaW5nIHRoZSByYW5nZSwgc25hcCwgZGlyZWN0aW9uIGFuZCBzdGVwIG9wdGlvbnMuXG4gICAgICAgICAgICAvLyAnc25hcCcgYW5kICdzdGVwJyBjYW4gYmUgdXBkYXRlZC5cbiAgICAgICAgICAgIC8vIElmICdzbmFwJyBhbmQgJ3N0ZXAnIGFyZSBub3QgcGFzc2VkLCB0aGV5IHNob3VsZCByZW1haW4gdW5jaGFuZ2VkLlxuICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZUdldCgpO1xuICAgICAgICAgICAgdmFyIHVwZGF0ZUFibGUgPSBbXG4gICAgICAgICAgICAgICAgXCJtYXJnaW5cIixcbiAgICAgICAgICAgICAgICBcImxpbWl0XCIsXG4gICAgICAgICAgICAgICAgXCJwYWRkaW5nXCIsXG4gICAgICAgICAgICAgICAgXCJyYW5nZVwiLFxuICAgICAgICAgICAgICAgIFwiYW5pbWF0ZVwiLFxuICAgICAgICAgICAgICAgIFwic25hcFwiLFxuICAgICAgICAgICAgICAgIFwic3RlcFwiLFxuICAgICAgICAgICAgICAgIFwiZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgXCJwaXBzXCIsXG4gICAgICAgICAgICAgICAgXCJ0b29sdGlwc1wiLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIC8vIE9ubHkgY2hhbmdlIG9wdGlvbnMgdGhhdCB3ZSdyZSBhY3R1YWxseSBwYXNzZWQgdG8gdXBkYXRlLlxuICAgICAgICAgICAgdXBkYXRlQWJsZS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHVuZGVmaW5lZC4gbnVsbCByZW1vdmVzIHRoZSB2YWx1ZS5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxPcHRpb25zW25hbWVdID0gb3B0aW9uc1RvVXBkYXRlW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5ld09wdGlvbnMgPSB0ZXN0T3B0aW9ucyhvcmlnaW5hbE9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gTG9hZCBuZXcgb3B0aW9ucyBpbnRvIHRoZSBzbGlkZXIgc3RhdGVcbiAgICAgICAgICAgIHVwZGF0ZUFibGUuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zVG9VcGRhdGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW25hbWVdID0gbmV3T3B0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNjb3BlX1NwZWN0cnVtID0gbmV3T3B0aW9ucy5zcGVjdHJ1bTtcbiAgICAgICAgICAgIC8vIExpbWl0LCBtYXJnaW4gYW5kIHBhZGRpbmcgZGVwZW5kIG9uIHRoZSBzcGVjdHJ1bSBidXQgYXJlIHN0b3JlZCBvdXRzaWRlIG9mIGl0LiAoIzY3NylcbiAgICAgICAgICAgIG9wdGlvbnMubWFyZ2luID0gbmV3T3B0aW9ucy5tYXJnaW47XG4gICAgICAgICAgICBvcHRpb25zLmxpbWl0ID0gbmV3T3B0aW9ucy5saW1pdDtcbiAgICAgICAgICAgIG9wdGlvbnMucGFkZGluZyA9IG5ld09wdGlvbnMucGFkZGluZztcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwaXBzLCByZW1vdmVzIGV4aXN0aW5nLlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGlwcykge1xuICAgICAgICAgICAgICAgIHBpcHMob3B0aW9ucy5waXBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVBpcHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwcywgcmVtb3ZlcyBleGlzdGluZy5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXBzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIHRoZSBjdXJyZW50IHBvc2l0aW9uaW5nIHNvIHZhbHVlU2V0IGZvcmNlcyBhbiB1cGRhdGUuXG4gICAgICAgICAgICBzY29wZV9Mb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIHZhbHVlU2V0KGlzU2V0KG9wdGlvbnNUb1VwZGF0ZS5zdGFydCkgPyBvcHRpb25zVG9VcGRhdGUuc3RhcnQgOiB2LCBmaXJlU2V0RXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaXRpYWxpemF0aW9uIHN0ZXBzXG4gICAgICAgIGZ1bmN0aW9uIHNldHVwU2xpZGVyKCkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBiYXNlIGVsZW1lbnQsIGluaXRpYWxpemUgSFRNTCBhbmQgc2V0IGNsYXNzZXMuXG4gICAgICAgICAgICAvLyBBZGQgaGFuZGxlcyBhbmQgY29ubmVjdCBlbGVtZW50cy5cbiAgICAgICAgICAgIHNjb3BlX0Jhc2UgPSBhZGRTbGlkZXIoc2NvcGVfVGFyZ2V0KTtcbiAgICAgICAgICAgIGFkZEVsZW1lbnRzKG9wdGlvbnMuY29ubmVjdCwgc2NvcGVfQmFzZSk7XG4gICAgICAgICAgICAvLyBBdHRhY2ggdXNlciBldmVudHMuXG4gICAgICAgICAgICBiaW5kU2xpZGVyRXZlbnRzKG9wdGlvbnMuZXZlbnRzKTtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgcHVibGljIHZhbHVlIG1ldGhvZCB0byBzZXQgdGhlIHN0YXJ0IHZhbHVlcy5cbiAgICAgICAgICAgIHZhbHVlU2V0KG9wdGlvbnMuc3RhcnQpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGlwcykge1xuICAgICAgICAgICAgICAgIHBpcHMob3B0aW9ucy5waXBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyaWEoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXR1cFNsaWRlcigpO1xuICAgICAgICB2YXIgc2NvcGVfU2VsZiA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gICAgICAgICAgICBzdGVwczogZ2V0TmV4dFN0ZXBzLFxuICAgICAgICAgICAgb246IGJpbmRFdmVudCxcbiAgICAgICAgICAgIG9mZjogcmVtb3ZlRXZlbnQsXG4gICAgICAgICAgICBnZXQ6IHZhbHVlR2V0LFxuICAgICAgICAgICAgc2V0OiB2YWx1ZVNldCxcbiAgICAgICAgICAgIHNldEhhbmRsZTogdmFsdWVTZXRIYW5kbGUsXG4gICAgICAgICAgICByZXNldDogdmFsdWVSZXNldCxcbiAgICAgICAgICAgIGRpc2FibGU6IGRpc2FibGUsXG4gICAgICAgICAgICBlbmFibGU6IGVuYWJsZSxcbiAgICAgICAgICAgIC8vIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZywgZG9uJ3QgdXNlIHRoaXMgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICAgICAgICAgIF9fbW92ZUhhbmRsZXM6IGZ1bmN0aW9uICh1cHdhcmQsIHByb3Bvc2FsLCBoYW5kbGVOdW1iZXJzKSB7XG4gICAgICAgICAgICAgICAgbW92ZUhhbmRsZXModXB3YXJkLCBwcm9wb3NhbCwgc2NvcGVfTG9jYXRpb25zLCBoYW5kbGVOdW1iZXJzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zOiBvcmlnaW5hbE9wdGlvbnMsXG4gICAgICAgICAgICB1cGRhdGVPcHRpb25zOiB1cGRhdGVPcHRpb25zLFxuICAgICAgICAgICAgdGFyZ2V0OiBzY29wZV9UYXJnZXQsXG4gICAgICAgICAgICByZW1vdmVQaXBzOiByZW1vdmVQaXBzLFxuICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcHM6IHJlbW92ZVRvb2x0aXBzLFxuICAgICAgICAgICAgZ2V0UG9zaXRpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0xvY2F0aW9ucy5zbGljZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFRvb2x0aXBzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1Rvb2x0aXBzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE9yaWdpbnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfSGFuZGxlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwaXBzOiBwaXBzLCAvLyBJc3N1ZSAjNTk0XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzY29wZV9TZWxmO1xuICAgIH1cbiAgICAvLyBSdW4gdGhlIHN0YW5kYXJkIGluaXRpYWxpemVyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSh0YXJnZXQsIG9yaWdpbmFsT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5vZGVOYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBjcmVhdGUgcmVxdWlyZXMgYSBzaW5nbGUgZWxlbWVudCwgZ290OiBcIiArIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgdGhlIHNsaWRlciB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC5cbiAgICAgICAgaWYgKHRhcmdldC5ub1VpU2xpZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBTbGlkZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRlc3QgdGhlIG9wdGlvbnMgYW5kIGNyZWF0ZSB0aGUgc2xpZGVyIGVudmlyb25tZW50O1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRlc3RPcHRpb25zKG9yaWdpbmFsT3B0aW9ucyk7XG4gICAgICAgIHZhciBhcGkgPSBzY29wZSh0YXJnZXQsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucyk7XG4gICAgICAgIHRhcmdldC5ub1VpU2xpZGVyID0gYXBpO1xuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH1cbiAgICB2YXIgbm91aXNsaWRlciA9IHtcbiAgICAgICAgLy8gRXhwb3NlZCBmb3IgdW5pdCB0ZXN0aW5nLCBkb24ndCB1c2UgdGhpcyBpbiB5b3VyIGFwcGxpY2F0aW9uLlxuICAgICAgICBfX3NwZWN0cnVtOiBTcGVjdHJ1bSxcbiAgICAgICAgLy8gQSByZWZlcmVuY2UgdG8gdGhlIGRlZmF1bHQgY2xhc3NlcywgYWxsb3dzIGdsb2JhbCBjaGFuZ2VzLlxuICAgICAgICAvLyBVc2UgdGhlIGNzc0NsYXNzZXMgb3B0aW9uIGZvciBjaGFuZ2VzIHRvIG9uZSBzbGlkZXIuXG4gICAgICAgIGNzc0NsYXNzZXM6IGNzc0NsYXNzZXMsXG4gICAgICAgIGNyZWF0ZTogaW5pdGlhbGl6ZSxcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5jcmVhdGUgPSBpbml0aWFsaXplO1xuICAgIGV4cG9ydHMuY3NzQ2xhc3NlcyA9IGNzc0NsYXNzZXM7XG4gICAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBub3Vpc2xpZGVyO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpO1xuIiwiaW1wb3J0IHJvb3QgZnJvbSAnLi9fcm9vdC5qcyc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5leHBvcnQgZGVmYXVsdCBTeW1ib2w7XG4iLCJpbXBvcnQgU3ltYm9sIGZyb20gJy4vX1N5bWJvbC5qcyc7XG5pbXBvcnQgZ2V0UmF3VGFnIGZyb20gJy4vX2dldFJhd1RhZy5qcyc7XG5pbXBvcnQgb2JqZWN0VG9TdHJpbmcgZnJvbSAnLi9fb2JqZWN0VG9TdHJpbmcuanMnO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZUdldFRhZztcbiIsImltcG9ydCB0cmltbWVkRW5kSW5kZXggZnJvbSAnLi9fdHJpbW1lZEVuZEluZGV4LmpzJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50cmltYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRyaW0oc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdcbiAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgIDogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlVHJpbTtcbiIsIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbmV4cG9ydCBkZWZhdWx0IGZyZWVHbG9iYWw7XG4iLCJpbXBvcnQgU3ltYm9sIGZyb20gJy4vX1N5bWJvbC5qcyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0UmF3VGFnO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG9iamVjdFRvU3RyaW5nO1xuIiwiaW1wb3J0IGZyZWVHbG9iYWwgZnJvbSAnLi9fZnJlZUdsb2JhbC5qcyc7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuZXhwb3J0IGRlZmF1bHQgcm9vdDtcbiIsIi8qKiBVc2VkIHRvIG1hdGNoIGEgc2luZ2xlIHdoaXRlc3BhY2UgY2hhcmFjdGVyLiAqL1xudmFyIHJlV2hpdGVzcGFjZSA9IC9cXHMvO1xuXG4vKipcbiAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2VcbiAqIGNoYXJhY3RlciBvZiBgc3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gKi9cbmZ1bmN0aW9uIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpIHtcbiAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICB3aGlsZSAoaW5kZXgtLSAmJiByZVdoaXRlc3BhY2UudGVzdChzdHJpbmcuY2hhckF0KGluZGV4KSkpIHt9XG4gIHJldHVybiBpbmRleDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdHJpbW1lZEVuZEluZGV4O1xuIiwiaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuaW1wb3J0IG5vdyBmcm9tICcuL25vdy5qcyc7XG5pbXBvcnQgdG9OdW1iZXIgZnJvbSAnLi90b051bWJlci5qcyc7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gKiBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICogICAndHJhaWxpbmcnOiBmYWxzZVxuICogfSkpO1xuICpcbiAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxhc3RBcmdzLFxuICAgICAgbGFzdFRoaXMsXG4gICAgICBtYXhXYWl0LFxuICAgICAgcmVzdWx0LFxuICAgICAgdGltZXJJZCxcbiAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmdcbiAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgIDogdGltZVdhaXRpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9XG4gICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cbiAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkZWJvdW5jZTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc09iamVjdDtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc09iamVjdExpa2U7XG4iLCJpbXBvcnQgYmFzZUdldFRhZyBmcm9tICcuL19iYXNlR2V0VGFnLmpzJztcbmltcG9ydCBpc09iamVjdExpa2UgZnJvbSAnLi9pc09iamVjdExpa2UuanMnO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzU3ltYm9sO1xuIiwiaW1wb3J0IHJvb3QgZnJvbSAnLi9fcm9vdC5qcyc7XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG5vdztcbiIsImltcG9ydCBkZWJvdW5jZSBmcm9tICcuL2RlYm91bmNlLmpzJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0LmpzJztcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gKlxuICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG4gIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdGhyb3R0bGU7XG4iLCJpbXBvcnQgYmFzZVRyaW0gZnJvbSAnLi9fYmFzZVRyaW0uanMnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuaW1wb3J0IGlzU3ltYm9sIGZyb20gJy4vaXNTeW1ib2wuanMnO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9OdW1iZXI7XG4iLCIvKipcbiAqIHNpbXBsZWJhci1jb3JlIC0gdjEuMi40XG4gKiBTY3JvbGxiYXJzLCBzaW1wbGVyLlxuICogaHR0cHM6Ly9ncnNtdG8uZ2l0aHViLmlvL3NpbXBsZWJhci9cbiAqXG4gKiBNYWRlIGJ5IEFkcmllbiBEZW5hdCBmcm9tIGEgZm9yayBieSBKb25hdGhhbiBOaWNvbFxuICogVW5kZXIgTUlUIExpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyB0aHJvdHRsZSwgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gtZXMnO1xuaW1wb3J0IGNhblVzZURPTSBmcm9tICdjYW4tdXNlLWRvbSc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxudmFyIGNhY2hlZFNjcm9sbGJhcldpZHRoID0gbnVsbDtcbnZhciBjYWNoZWREZXZpY2VQaXhlbFJhdGlvID0gbnVsbDtcbmlmIChjYW5Vc2VET00pIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2FjaGVkRGV2aWNlUGl4ZWxSYXRpbyAhPT0gd2luZG93LmRldmljZVBpeGVsUmF0aW8pIHtcbiAgICAgICAgICAgIGNhY2hlZERldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgICAgIGNhY2hlZFNjcm9sbGJhcldpZHRoID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gc2Nyb2xsYmFyV2lkdGgoKSB7XG4gICAgaWYgKGNhY2hlZFNjcm9sbGJhcldpZHRoID09PSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjYWNoZWRTY3JvbGxiYXJXaWR0aCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2Nyb2xsYmFyV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB2YXIgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKCdzaW1wbGViYXItaGlkZS1zY3JvbGxiYXInKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChib3gpO1xuICAgICAgICB2YXIgd2lkdGggPSBib3guZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ7XG4gICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoYm94KTtcbiAgICAgICAgY2FjaGVkU2Nyb2xsYmFyV2lkdGggPSB3aWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZFNjcm9sbGJhcldpZHRoO1xufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50V2luZG93JDEoZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudCB8fFxuICAgICAgICAhZWxlbWVudC5vd25lckRvY3VtZW50IHx8XG4gICAgICAgICFlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldztcbn1cbmZ1bmN0aW9uIGdldEVsZW1lbnREb2N1bWVudCQxKGVsZW1lbnQpIHtcbiAgICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQub3duZXJEb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG59XG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmV0cmlldmUgb3B0aW9ucyBmcm9tIGVsZW1lbnQgYXR0cmlidXRlc1xudmFyIGdldE9wdGlvbnMkMSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgaW5pdGlhbE9iaiA9IHt9O1xuICAgIHZhciBvcHRpb25zID0gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG9iaiwgZnVuY3Rpb24gKGFjYywgYXR0cmlidXRlKSB7XG4gICAgICAgIHZhciBvcHRpb24gPSBhdHRyaWJ1dGUubmFtZS5tYXRjaCgvZGF0YS1zaW1wbGViYXItKC4rKS8pO1xuICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gb3B0aW9uWzFdLnJlcGxhY2UoL1xcVysoLikvZywgZnVuY3Rpb24gKF8sIGNocikgeyByZXR1cm4gY2hyLnRvVXBwZXJDYXNlKCk7IH0pO1xuICAgICAgICAgICAgc3dpdGNoIChhdHRyaWJ1dGUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0cnVlJzpcbiAgICAgICAgICAgICAgICAgICAgYWNjW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmYWxzZSc6XG4gICAgICAgICAgICAgICAgICAgIGFjY1trZXldID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGFjY1trZXldID0gYXR0cmlidXRlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgaW5pdGlhbE9iaik7XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59O1xuZnVuY3Rpb24gYWRkQ2xhc3NlcyQxKGVsLCBjbGFzc2VzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghZWwpXG4gICAgICAgIHJldHVybjtcbiAgICAoX2EgPSBlbC5jbGFzc0xpc3QpLmFkZC5hcHBseShfYSwgY2xhc3Nlcy5zcGxpdCgnICcpKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMkMShlbCwgY2xhc3Nlcykge1xuICAgIGlmICghZWwpXG4gICAgICAgIHJldHVybjtcbiAgICBjbGFzc2VzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNsYXNzTmFtZXNUb1F1ZXJ5JDEoY2xhc3NOYW1lcykge1xuICAgIHJldHVybiBcIi5cIi5jb25jYXQoY2xhc3NOYW1lcy5zcGxpdCgnICcpLmpvaW4oJy4nKSk7XG59XG5cbnZhciBoZWxwZXJzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBnZXRFbGVtZW50V2luZG93OiBnZXRFbGVtZW50V2luZG93JDEsXG4gICAgZ2V0RWxlbWVudERvY3VtZW50OiBnZXRFbGVtZW50RG9jdW1lbnQkMSxcbiAgICBnZXRPcHRpb25zOiBnZXRPcHRpb25zJDEsXG4gICAgYWRkQ2xhc3NlczogYWRkQ2xhc3NlcyQxLFxuICAgIHJlbW92ZUNsYXNzZXM6IHJlbW92ZUNsYXNzZXMkMSxcbiAgICBjbGFzc05hbWVzVG9RdWVyeTogY2xhc3NOYW1lc1RvUXVlcnkkMVxufSk7XG5cbnZhciBnZXRFbGVtZW50V2luZG93ID0gZ2V0RWxlbWVudFdpbmRvdyQxLCBnZXRFbGVtZW50RG9jdW1lbnQgPSBnZXRFbGVtZW50RG9jdW1lbnQkMSwgZ2V0T3B0aW9ucyA9IGdldE9wdGlvbnMkMSwgYWRkQ2xhc3NlcyA9IGFkZENsYXNzZXMkMSwgcmVtb3ZlQ2xhc3NlcyA9IHJlbW92ZUNsYXNzZXMkMSwgY2xhc3NOYW1lc1RvUXVlcnkgPSBjbGFzc05hbWVzVG9RdWVyeSQxO1xudmFyIFNpbXBsZUJhckNvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlQmFyQ29yZShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucmVtb3ZlUHJldmVudENsaWNrSWQgPSBudWxsO1xuICAgICAgICB0aGlzLm1pblNjcm9sbGJhcldpZHRoID0gMjA7XG4gICAgICAgIHRoaXMuc3RvcFNjcm9sbERlbGF5ID0gMTc1O1xuICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNNb3VzZUVudGVyaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2Nyb2xsWFRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY3JvbGxZVGlja2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLndyYXBwZXJFbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGVudFdyYXBwZXJFbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGVudEVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5vZmZzZXRFbCA9IG51bGw7XG4gICAgICAgIHRoaXMubWFza0VsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlckVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJXcmFwcGVyRWwgPSBudWxsO1xuICAgICAgICB0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5ydGxIZWxwZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmVsU3R5bGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc1J0bCA9IG51bGw7XG4gICAgICAgIHRoaXMubW91c2VYID0gMDtcbiAgICAgICAgdGhpcy5tb3VzZVkgPSAwO1xuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB0aGlzLm9uV2luZG93UmVzaXplID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB0aGlzLm9uU3RvcFNjcm9sbGluZyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9uIHNjcm9sbCBldmVudCBoYW5kbGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbFdpbmRvdyA9IGdldEVsZW1lbnRXaW5kb3coX3RoaXMuZWwpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5zY3JvbGxYVGlja2luZykge1xuICAgICAgICAgICAgICAgIGVsV2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy5zY3JvbGxYKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zY3JvbGxYVGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIV90aGlzLnNjcm9sbFlUaWNraW5nKSB7XG4gICAgICAgICAgICAgICAgZWxXaW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLnNjcm9sbFkpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNjcm9sbFlUaWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNTY3JvbGxpbmcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc1Njcm9sbGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NlcyhfdGhpcy5lbCwgX3RoaXMuY2xhc3NOYW1lcy5zY3JvbGxpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2hvd1Njcm9sbGJhcigneCcpO1xuICAgICAgICAgICAgX3RoaXMuc2hvd1Njcm9sbGJhcigneScpO1xuICAgICAgICAgICAgX3RoaXMub25TdG9wU2Nyb2xsaW5nKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2Nyb2xsWCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZykge1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc2l0aW9uU2Nyb2xsYmFyKCd4Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zY3JvbGxYVGlja2luZyA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNjcm9sbFkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3NpdGlvblNjcm9sbGJhcigneScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2Nyb2xsWVRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fb25TdG9wU2Nyb2xsaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3NlcyhfdGhpcy5lbCwgX3RoaXMuY2xhc3NOYW1lcy5zY3JvbGxpbmcpO1xuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuYXV0b0hpZGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlU2Nyb2xsYmFyKCd4Jyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZVNjcm9sbGJhcigneScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmlzTW91c2VFbnRlcmluZykge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzZXMoX3RoaXMuZWwsIF90aGlzLmNsYXNzTmFtZXMubW91c2VFbnRlcmVkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93U2Nyb2xsYmFyKCd4Jyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvd1Njcm9sbGJhcigneScpO1xuICAgICAgICAgICAgICAgIF90aGlzLmlzTW91c2VFbnRlcmluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5vbk1vdXNlRW50ZXJlZCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vbk1vdXNlRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMoX3RoaXMuZWwsIF90aGlzLmNsYXNzTmFtZXMubW91c2VFbnRlcmVkKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmF1dG9IaWRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZVNjcm9sbGJhcigneCcpO1xuICAgICAgICAgICAgICAgIF90aGlzLmhpZGVTY3JvbGxiYXIoJ3knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmlzTW91c2VFbnRlcmluZyA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5tb3VzZVggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICBfdGhpcy5tb3VzZVkgPSBlLmNsaWVudFk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmcgfHwgX3RoaXMuYXhpcy54LmZvcmNlVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uTW91c2VNb3ZlRm9yQXhpcygneCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmF4aXMueS5pc092ZXJmbG93aW5nIHx8IF90aGlzLmF4aXMueS5mb3JjZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbk1vdXNlTW92ZUZvckF4aXMoJ3knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5vbk1vdXNlTW92ZS5jYW5jZWwoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZyB8fCBfdGhpcy5heGlzLnguZm9yY2VWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25Nb3VzZUxlYXZlRm9yQXhpcygneCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmF4aXMueS5pc092ZXJmbG93aW5nIHx8IF90aGlzLmF4aXMueS5mb3JjZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbk1vdXNlTGVhdmVGb3JBeGlzKCd5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5tb3VzZVggPSAtMTtcbiAgICAgICAgICAgIF90aGlzLm1vdXNlWSA9IC0xO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vbldpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFJlY2FsY3VsYXRlIHNjcm9sbGJhcldpZHRoIGluIGNhc2UgaXQncyBhIHpvb21cbiAgICAgICAgICAgIF90aGlzLnNjcm9sbGJhcldpZHRoID0gX3RoaXMuZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICAgICAgICAgIF90aGlzLmhpZGVOYXRpdmVTY3JvbGxiYXIoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJFdmVudCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmF4aXMueC50cmFjay5lbCB8fFxuICAgICAgICAgICAgICAgICFfdGhpcy5heGlzLnkudHJhY2suZWwgfHxcbiAgICAgICAgICAgICAgICAhX3RoaXMuYXhpcy54LnNjcm9sbGJhci5lbCB8fFxuICAgICAgICAgICAgICAgICFfdGhpcy5heGlzLnkuc2Nyb2xsYmFyLmVsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBpc1dpdGhpblRyYWNrWEJvdW5kcywgaXNXaXRoaW5UcmFja1lCb3VuZHM7XG4gICAgICAgICAgICBfdGhpcy5heGlzLngudHJhY2sucmVjdCA9IF90aGlzLmF4aXMueC50cmFjay5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIF90aGlzLmF4aXMueS50cmFjay5yZWN0ID0gX3RoaXMuYXhpcy55LnRyYWNrLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmF4aXMueC5pc092ZXJmbG93aW5nIHx8IF90aGlzLmF4aXMueC5mb3JjZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBpc1dpdGhpblRyYWNrWEJvdW5kcyA9IF90aGlzLmlzV2l0aGluQm91bmRzKF90aGlzLmF4aXMueC50cmFjay5yZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5heGlzLnkuaXNPdmVyZmxvd2luZyB8fCBfdGhpcy5heGlzLnkuZm9yY2VWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgaXNXaXRoaW5UcmFja1lCb3VuZHMgPSBfdGhpcy5pc1dpdGhpbkJvdW5kcyhfdGhpcy5heGlzLnkudHJhY2sucmVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBhbnkgcG9pbnRlciBldmVudCBpcyBjYWxsZWQgb24gdGhlIHNjcm9sbGJhclxuICAgICAgICAgICAgaWYgKGlzV2l0aGluVHJhY2tYQm91bmRzIHx8IGlzV2l0aGluVHJhY2tZQm91bmRzKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBldmVudCBsZWFraW5nXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09PSAncG9pbnRlcmRvd24nICYmIGUucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2l0aGluVHJhY2tYQm91bmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5heGlzLnguc2Nyb2xsYmFyLnJlY3QgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmF4aXMueC5zY3JvbGxiYXIuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNXaXRoaW5Cb3VuZHMoX3RoaXMuYXhpcy54LnNjcm9sbGJhci5yZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRHJhZ1N0YXJ0KGUsICd4Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vblRyYWNrQ2xpY2soZSwgJ3gnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNXaXRoaW5UcmFja1lCb3VuZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmF4aXMueS5zY3JvbGxiYXIucmVjdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXhpcy55LnNjcm9sbGJhci5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1dpdGhpbkJvdW5kcyhfdGhpcy5heGlzLnkuc2Nyb2xsYmFyLnJlY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25EcmFnU3RhcnQoZSwgJ3knKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uVHJhY2tDbGljayhlLCAneScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRHJhZyBzY3JvbGxiYXIgaGFuZGxlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYWcgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbDtcbiAgICAgICAgICAgIGlmICghX3RoaXMuZHJhZ2dlZEF4aXMgfHwgIV90aGlzLmNvbnRlbnRXcmFwcGVyRWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIGV2ZW50T2Zmc2V0O1xuICAgICAgICAgICAgdmFyIHRyYWNrID0gX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10udHJhY2s7XG4gICAgICAgICAgICB2YXIgdHJhY2tTaXplID0gKF9iID0gKF9hID0gdHJhY2sucmVjdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW190aGlzLmF4aXNbX3RoaXMuZHJhZ2dlZEF4aXNdLnNpemVBdHRyXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMDtcbiAgICAgICAgICAgIHZhciBzY3JvbGxiYXIgPSBfdGhpcy5heGlzW190aGlzLmRyYWdnZWRBeGlzXS5zY3JvbGxiYXI7XG4gICAgICAgICAgICB2YXIgY29udGVudFNpemUgPSAoX2QgPSAoX2MgPSBfdGhpcy5jb250ZW50V3JhcHBlckVsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10uc2Nyb2xsU2l6ZUF0dHJdKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAwO1xuICAgICAgICAgICAgdmFyIGhvc3RTaXplID0gcGFyc2VJbnQoKF9mID0gKF9lID0gX3RoaXMuZWxTdHlsZXMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZVtfdGhpcy5heGlzW190aGlzLmRyYWdnZWRBeGlzXS5zaXplQXR0cl0pICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6ICcwcHgnLCAxMCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmRyYWdnZWRBeGlzID09PSAneScpIHtcbiAgICAgICAgICAgICAgICBldmVudE9mZnNldCA9IGUucGFnZVk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBldmVudE9mZnNldCA9IGUucGFnZVg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgaG93IGZhciB0aGUgdXNlcidzIG1vdXNlIGlzIGZyb20gdGhlIHRvcC9sZWZ0IG9mIHRoZSBzY3JvbGxiYXIgKG1pbnVzIHRoZSBkcmFnT2Zmc2V0KS5cbiAgICAgICAgICAgIHZhciBkcmFnUG9zID0gZXZlbnRPZmZzZXQgLVxuICAgICAgICAgICAgICAgICgoX2ggPSAoX2cgPSB0cmFjay5yZWN0KSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dbX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10ub2Zmc2V0QXR0cl0pICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IDApIC1cbiAgICAgICAgICAgICAgICBfdGhpcy5heGlzW190aGlzLmRyYWdnZWRBeGlzXS5kcmFnT2Zmc2V0O1xuICAgICAgICAgICAgZHJhZ1BvcyA9IF90aGlzLmRyYWdnZWRBeGlzID09PSAneCcgJiYgX3RoaXMuaXNSdGxcbiAgICAgICAgICAgICAgICA/ICgoX2sgPSAoX2ogPSB0cmFjay5yZWN0KSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2pbX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10uc2l6ZUF0dHJdKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiAwKSAtXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhci5zaXplIC1cbiAgICAgICAgICAgICAgICAgICAgZHJhZ1Bvc1xuICAgICAgICAgICAgICAgIDogZHJhZ1BvcztcbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIG1vdXNlIHBvc2l0aW9uIGludG8gYSBwZXJjZW50YWdlIG9mIHRoZSBzY3JvbGxiYXIgaGVpZ2h0L3dpZHRoLlxuICAgICAgICAgICAgdmFyIGRyYWdQZXJjID0gZHJhZ1BvcyAvICh0cmFja1NpemUgLSBzY3JvbGxiYXIuc2l6ZSk7XG4gICAgICAgICAgICAvLyBTY3JvbGwgdGhlIGNvbnRlbnQgYnkgdGhlIHNhbWUgcGVyY2VudGFnZS5cbiAgICAgICAgICAgIHZhciBzY3JvbGxQb3MgPSBkcmFnUGVyYyAqIChjb250ZW50U2l6ZSAtIGhvc3RTaXplKTtcbiAgICAgICAgICAgIC8vIEZpeCBicm93c2VycyBpbmNvbnNpc3RlbmN5IG9uIFJUTFxuICAgICAgICAgICAgaWYgKF90aGlzLmRyYWdnZWRBeGlzID09PSAneCcgJiYgX3RoaXMuaXNSdGwpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxQb3MgPSAoKF9sID0gU2ltcGxlQmFyQ29yZS5nZXRSdGxIZWxwZXJzKCkpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5pc1Njcm9sbGluZ1RvTmVnYXRpdmUpXG4gICAgICAgICAgICAgICAgICAgID8gLXNjcm9sbFBvc1xuICAgICAgICAgICAgICAgICAgICA6IHNjcm9sbFBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmNvbnRlbnRXcmFwcGVyRWxbX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10uc2Nyb2xsT2Zmc2V0QXR0cl0gPVxuICAgICAgICAgICAgICAgIHNjcm9sbFBvcztcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuZCBzY3JvbGwgaGFuZGxlIGRyYWdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FbmREcmFnID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBlbERvY3VtZW50ID0gZ2V0RWxlbWVudERvY3VtZW50KF90aGlzLmVsKTtcbiAgICAgICAgICAgIHZhciBlbFdpbmRvdyA9IGdldEVsZW1lbnRXaW5kb3coX3RoaXMuZWwpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMoX3RoaXMuZWwsIF90aGlzLmNsYXNzTmFtZXMuZHJhZ2dpbmcpO1xuICAgICAgICAgICAgZWxEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5kcmFnLCB0cnVlKTtcbiAgICAgICAgICAgIGVsRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLm9uRW5kRHJhZywgdHJ1ZSk7XG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVQcmV2ZW50Q2xpY2tJZCA9IGVsV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGVzZSBhc3luY2hyb25vdXNseSBzbyB3ZSBzdGlsbCBzdXBwcmVzcyBjbGljayBldmVudHNcbiAgICAgICAgICAgICAgICAvLyBnZW5lcmF0ZWQgc2ltdWx0YW5lb3VzbHkgd2l0aCBtb3VzZXVwLlxuICAgICAgICAgICAgICAgIGVsRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpcy5wcmV2ZW50Q2xpY2ssIHRydWUpO1xuICAgICAgICAgICAgICAgIGVsRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBfdGhpcy5wcmV2ZW50Q2xpY2ssIHRydWUpO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZVByZXZlbnRDbGlja0lkID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlciB0byBpZ25vcmUgY2xpY2sgZXZlbnRzIGR1cmluZyBkcmFnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZlbnRDbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVsID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIFNpbXBsZUJhckNvcmUuZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jbGFzc05hbWVzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIFNpbXBsZUJhckNvcmUuZGVmYXVsdE9wdGlvbnMuY2xhc3NOYW1lcyksIG9wdGlvbnMuY2xhc3NOYW1lcyk7XG4gICAgICAgIHRoaXMuYXhpcyA9IHtcbiAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICBzY3JvbGxPZmZzZXRBdHRyOiAnc2Nyb2xsTGVmdCcsXG4gICAgICAgICAgICAgICAgc2l6ZUF0dHI6ICd3aWR0aCcsXG4gICAgICAgICAgICAgICAgc2Nyb2xsU2l6ZUF0dHI6ICdzY3JvbGxXaWR0aCcsXG4gICAgICAgICAgICAgICAgb2Zmc2V0U2l6ZUF0dHI6ICdvZmZzZXRXaWR0aCcsXG4gICAgICAgICAgICAgICAgb2Zmc2V0QXR0cjogJ2xlZnQnLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93QXR0cjogJ292ZXJmbG93WCcsXG4gICAgICAgICAgICAgICAgZHJhZ09mZnNldDogMCxcbiAgICAgICAgICAgICAgICBpc092ZXJmbG93aW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZvcmNlVmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHJhY2s6IHsgc2l6ZTogbnVsbCwgZWw6IG51bGwsIHJlY3Q6IG51bGwsIGlzVmlzaWJsZTogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXI6IHsgc2l6ZTogbnVsbCwgZWw6IG51bGwsIHJlY3Q6IG51bGwsIGlzVmlzaWJsZTogZmFsc2UgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICBzY3JvbGxPZmZzZXRBdHRyOiAnc2Nyb2xsVG9wJyxcbiAgICAgICAgICAgICAgICBzaXplQXR0cjogJ2hlaWdodCcsXG4gICAgICAgICAgICAgICAgc2Nyb2xsU2l6ZUF0dHI6ICdzY3JvbGxIZWlnaHQnLFxuICAgICAgICAgICAgICAgIG9mZnNldFNpemVBdHRyOiAnb2Zmc2V0SGVpZ2h0JyxcbiAgICAgICAgICAgICAgICBvZmZzZXRBdHRyOiAndG9wJyxcbiAgICAgICAgICAgICAgICBvdmVyZmxvd0F0dHI6ICdvdmVyZmxvd1knLFxuICAgICAgICAgICAgICAgIGRyYWdPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgaXNPdmVyZmxvd2luZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmb3JjZVZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRyYWNrOiB7IHNpemU6IG51bGwsIGVsOiBudWxsLCByZWN0OiBudWxsLCBpc1Zpc2libGU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmFyOiB7IHNpemU6IG51bGwsIGVsOiBudWxsLCByZWN0OiBudWxsLCBpc1Zpc2libGU6IGZhbHNlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmVsICE9PSAnb2JqZWN0JyB8fCAhdGhpcy5lbC5ub2RlTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgcGFzc2VkIHRvIFNpbXBsZUJhciBtdXN0IGJlIGFuIEhUTUwgZWxlbWVudCBpbnN0ZWFkIG9mIFwiLmNvbmNhdCh0aGlzLmVsKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbk1vdXNlTW92ZSA9IHRocm90dGxlKHRoaXMuX29uTW91c2VNb3ZlLCA2NCk7XG4gICAgICAgIHRoaXMub25XaW5kb3dSZXNpemUgPSBkZWJvdW5jZSh0aGlzLl9vbldpbmRvd1Jlc2l6ZSwgNjQsIHsgbGVhZGluZzogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5vblN0b3BTY3JvbGxpbmcgPSBkZWJvdW5jZSh0aGlzLl9vblN0b3BTY3JvbGxpbmcsIHRoaXMuc3RvcFNjcm9sbERlbGF5KTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRW50ZXJlZCA9IGRlYm91bmNlKHRoaXMuX29uTW91c2VFbnRlcmVkLCB0aGlzLnN0b3BTY3JvbGxEZWxheSk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgdG8gZml4IGJyb3dzZXJzIGluY29uc2lzdGVuY3kgb24gUlRMOlxuICAgICAqICAtIEZpcmVmb3ggaW52ZXJ0cyB0aGUgc2Nyb2xsYmFyIGluaXRpYWwgcG9zaXRpb25cbiAgICAgKiAgLSBJRTExIGludmVydHMgYm90aCBzY3JvbGxiYXIgcG9zaXRpb24gYW5kIHNjcm9sbGluZyBvZmZzZXRcbiAgICAgKiBEaXJlY3RseSBpbnNwaXJlZCBieSBAS2luZ1NvcmEncyBPdmVybGF5U2Nyb2xsYmFycyBodHRwczovL2dpdGh1Yi5jb20vS2luZ1NvcmEvT3ZlcmxheVNjcm9sbGJhcnMvYmxvYi9tYXN0ZXIvanMvT3ZlcmxheVNjcm9sbGJhcnMuanMjTDE2MzRcbiAgICAgKi9cbiAgICBTaW1wbGVCYXJDb3JlLmdldFJ0bEhlbHBlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChTaW1wbGVCYXJDb3JlLnJ0bEhlbHBlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBTaW1wbGVCYXJDb3JlLnJ0bEhlbHBlcnM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGR1bW15RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGR1bW15RGl2LmlubmVySFRNTCA9XG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNpbXBsZWJhci1kdW1teS1zY3JvbGxiYXItc2l6ZVwiPjxkaXY+PC9kaXY+PC9kaXY+JztcbiAgICAgICAgdmFyIHNjcm9sbGJhckR1bW15RWwgPSBkdW1teURpdi5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgdmFyIGR1bW15Q2hpbGQgPSBzY3JvbGxiYXJEdW1teUVsID09PSBudWxsIHx8IHNjcm9sbGJhckR1bW15RWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNjcm9sbGJhckR1bW15RWwuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgIGlmICghZHVtbXlDaGlsZClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbGJhckR1bW15RWwpO1xuICAgICAgICBzY3JvbGxiYXJEdW1teUVsLnNjcm9sbExlZnQgPSAwO1xuICAgICAgICB2YXIgZHVtbXlDb250YWluZXJPZmZzZXQgPSBTaW1wbGVCYXJDb3JlLmdldE9mZnNldChzY3JvbGxiYXJEdW1teUVsKTtcbiAgICAgICAgdmFyIGR1bW15Q2hpbGRPZmZzZXQgPSBTaW1wbGVCYXJDb3JlLmdldE9mZnNldChkdW1teUNoaWxkKTtcbiAgICAgICAgc2Nyb2xsYmFyRHVtbXlFbC5zY3JvbGxMZWZ0ID0gLTk5OTtcbiAgICAgICAgdmFyIGR1bW15Q2hpbGRPZmZzZXRBZnRlclNjcm9sbCA9IFNpbXBsZUJhckNvcmUuZ2V0T2Zmc2V0KGR1bW15Q2hpbGQpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbGJhckR1bW15RWwpO1xuICAgICAgICBTaW1wbGVCYXJDb3JlLnJ0bEhlbHBlcnMgPSB7XG4gICAgICAgICAgICAvLyBkZXRlcm1pbmVzIGlmIHRoZSBzY3JvbGxpbmcgaXMgcmVzcG9uZGluZyB3aXRoIG5lZ2F0aXZlIHZhbHVlc1xuICAgICAgICAgICAgaXNTY3JvbGxPcmlnaW5BdFplcm86IGR1bW15Q29udGFpbmVyT2Zmc2V0LmxlZnQgIT09IGR1bW15Q2hpbGRPZmZzZXQubGVmdCxcbiAgICAgICAgICAgIC8vIGRldGVybWluZXMgaWYgdGhlIG9yaWdpbiBzY3JvbGxiYXIgcG9zaXRpb24gaXMgaW52ZXJ0ZWQgb3Igbm90IChwb3NpdGlvbmVkIG9uIGxlZnQgb3IgcmlnaHQpXG4gICAgICAgICAgICBpc1Njcm9sbGluZ1RvTmVnYXRpdmU6IGR1bW15Q2hpbGRPZmZzZXQubGVmdCAhPT0gZHVtbXlDaGlsZE9mZnNldEFmdGVyU2Nyb2xsLmxlZnRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFNpbXBsZUJhckNvcmUucnRsSGVscGVycztcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmdldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUcnkvY2F0Y2ggZm9yIEZGIDU2IHRocm93aW5nIG9uIHVuZGVmaW5lZCBjb21wdXRlZFN0eWxlc1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gRGV0ZWN0IGJyb3dzZXJzIHN1cHBvcnRpbmcgQ1NTIHNjcm9sbGJhciBzdHlsaW5nIGFuZCBkbyBub3QgY2FsY3VsYXRlXG4gICAgICAgICAgICBpZiAoKHRoaXMuY29udGVudFdyYXBwZXJFbCAmJlxuICAgICAgICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUodGhpcy5jb250ZW50V3JhcHBlckVsLCAnOjotd2Via2l0LXNjcm9sbGJhcicpXG4gICAgICAgICAgICAgICAgICAgIC5kaXNwbGF5ID09PSAnbm9uZScpIHx8XG4gICAgICAgICAgICAgICAgJ3Njcm9sbGJhcldpZHRoJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgfHxcbiAgICAgICAgICAgICAgICAnLW1zLW92ZXJmbG93LXN0eWxlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGgoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlQmFyQ29yZS5nZXRPZmZzZXQgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGVsRG9jdW1lbnQgPSBnZXRFbGVtZW50RG9jdW1lbnQoZWwpO1xuICAgICAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KGVsKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgK1xuICAgICAgICAgICAgICAgIChlbFdpbmRvdy5wYWdlWU9mZnNldCB8fCBlbERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLFxuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICtcbiAgICAgICAgICAgICAgICAoZWxXaW5kb3cucGFnZVhPZmZzZXQgfHwgZWxEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdClcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFdlIHN0b3AgaGVyZSBvbiBzZXJ2ZXItc2lkZVxuICAgICAgICBpZiAoY2FuVXNlRE9NKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRET00oKTtcbiAgICAgICAgICAgIHRoaXMucnRsSGVscGVycyA9IFNpbXBsZUJhckNvcmUuZ2V0UnRsSGVscGVycygpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IHRoaXMuZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGVCYXJDb3JlLnByb3RvdHlwZS5pbml0RE9NID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAvLyBhc3N1bWUgdGhhdCBlbGVtZW50IGhhcyBoaXMgRE9NIGFscmVhZHkgaW5pdGlhdGVkXG4gICAgICAgIHRoaXMud3JhcHBlckVsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKGNsYXNzTmFtZXNUb1F1ZXJ5KHRoaXMuY2xhc3NOYW1lcy53cmFwcGVyKSk7XG4gICAgICAgIHRoaXMuY29udGVudFdyYXBwZXJFbCA9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2Nyb2xsYWJsZU5vZGUgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLmNvbnRlbnRXcmFwcGVyKSk7XG4gICAgICAgIHRoaXMuY29udGVudEVsID1cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jb250ZW50Tm9kZSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcihjbGFzc05hbWVzVG9RdWVyeSh0aGlzLmNsYXNzTmFtZXMuY29udGVudEVsKSk7XG4gICAgICAgIHRoaXMub2Zmc2V0RWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLm9mZnNldCkpO1xuICAgICAgICB0aGlzLm1hc2tFbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcihjbGFzc05hbWVzVG9RdWVyeSh0aGlzLmNsYXNzTmFtZXMubWFzaykpO1xuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyRWwgPSB0aGlzLmZpbmRDaGlsZCh0aGlzLndyYXBwZXJFbCwgY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLnBsYWNlaG9sZGVyKSk7XG4gICAgICAgIHRoaXMuaGVpZ2h0QXV0b09ic2VydmVyV3JhcHBlckVsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKGNsYXNzTmFtZXNUb1F1ZXJ5KHRoaXMuY2xhc3NOYW1lcy5oZWlnaHRBdXRvT2JzZXJ2ZXJXcmFwcGVyRWwpKTtcbiAgICAgICAgdGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJFbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcihjbGFzc05hbWVzVG9RdWVyeSh0aGlzLmNsYXNzTmFtZXMuaGVpZ2h0QXV0b09ic2VydmVyRWwpKTtcbiAgICAgICAgdGhpcy5heGlzLngudHJhY2suZWwgPSB0aGlzLmZpbmRDaGlsZCh0aGlzLmVsLCBcIlwiLmNvbmNhdChjbGFzc05hbWVzVG9RdWVyeSh0aGlzLmNsYXNzTmFtZXMudHJhY2spKS5jb25jYXQoY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLmhvcml6b250YWwpKSk7XG4gICAgICAgIHRoaXMuYXhpcy55LnRyYWNrLmVsID0gdGhpcy5maW5kQ2hpbGQodGhpcy5lbCwgXCJcIi5jb25jYXQoY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLnRyYWNrKSkuY29uY2F0KGNsYXNzTmFtZXNUb1F1ZXJ5KHRoaXMuY2xhc3NOYW1lcy52ZXJ0aWNhbCkpKTtcbiAgICAgICAgdGhpcy5heGlzLnguc2Nyb2xsYmFyLmVsID1cbiAgICAgICAgICAgICgoX2EgPSB0aGlzLmF4aXMueC50cmFjay5lbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3IoY2xhc3NOYW1lc1RvUXVlcnkodGhpcy5jbGFzc05hbWVzLnNjcm9sbGJhcikpKSB8fCBudWxsO1xuICAgICAgICB0aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwgPVxuICAgICAgICAgICAgKChfYiA9IHRoaXMuYXhpcy55LnRyYWNrLmVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucXVlcnlTZWxlY3RvcihjbGFzc05hbWVzVG9RdWVyeSh0aGlzLmNsYXNzTmFtZXMuc2Nyb2xsYmFyKSkpIHx8IG51bGw7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmF1dG9IaWRlKSB7XG4gICAgICAgICAgICBhZGRDbGFzc2VzKHRoaXMuYXhpcy54LnNjcm9sbGJhci5lbCwgdGhpcy5jbGFzc05hbWVzLnZpc2libGUpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwsIHRoaXMuY2xhc3NOYW1lcy52aXNpYmxlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUuaW5pdExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KHRoaXMuZWwpO1xuICAgICAgICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlKTtcbiAgICAgICAgKF9hID0gdGhpcy5jb250ZW50V3JhcHBlckVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIC8vIEJyb3dzZXIgem9vbSB0cmlnZ2VycyBhIHdpbmRvdyByZXNpemVcbiAgICAgICAgZWxXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZSk7XG4gICAgICAgIGlmICghdGhpcy5jb250ZW50RWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh3aW5kb3cuUmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIC8vIEhhY2sgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL1Jlc2l6ZU9ic2VydmVyL2lzc3Vlcy8zOFxuICAgICAgICAgICAgdmFyIHJlc2l6ZU9ic2VydmVyU3RhcnRlZF8xID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcmVzaXplT2JzZXJ2ZXIgPSBlbFdpbmRvdy5SZXNpemVPYnNlcnZlciB8fCBSZXNpemVPYnNlcnZlcjtcbiAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgcmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghcmVzaXplT2JzZXJ2ZXJTdGFydGVkXzEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBlbFdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWNhbGN1bGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5lbCk7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5jb250ZW50RWwpO1xuICAgICAgICAgICAgZWxXaW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXNpemVPYnNlcnZlclN0YXJ0ZWRfMSA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIGlzIHJlcXVpcmVkIHRvIGRldGVjdCBob3Jpem9udGFsIHNjcm9sbC4gVmVydGljYWwgc2Nyb2xsIG9ubHkgbmVlZHMgdGhlIHJlc2l6ZU9ic2VydmVyLlxuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgZWxXaW5kb3cuTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBlbFdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlY2FsY3VsYXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuY29udGVudEVsLCB7XG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLnJlY2FsY3VsYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGVpZ2h0QXV0b09ic2VydmVyRWwgfHxcbiAgICAgICAgICAgICF0aGlzLmNvbnRlbnRFbCB8fFxuICAgICAgICAgICAgIXRoaXMuY29udGVudFdyYXBwZXJFbCB8fFxuICAgICAgICAgICAgIXRoaXMud3JhcHBlckVsIHx8XG4gICAgICAgICAgICAhdGhpcy5wbGFjZWhvbGRlckVsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KHRoaXMuZWwpO1xuICAgICAgICB0aGlzLmVsU3R5bGVzID0gZWxXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsKTtcbiAgICAgICAgdGhpcy5pc1J0bCA9IHRoaXMuZWxTdHlsZXMuZGlyZWN0aW9uID09PSAncnRsJztcbiAgICAgICAgdmFyIGNvbnRlbnRFbE9mZnNldFdpZHRoID0gdGhpcy5jb250ZW50RWwub2Zmc2V0V2lkdGg7XG4gICAgICAgIHZhciBpc0hlaWdodEF1dG8gPSB0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsLm9mZnNldEhlaWdodCA8PSAxO1xuICAgICAgICB2YXIgaXNXaWR0aEF1dG8gPSB0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsLm9mZnNldFdpZHRoIDw9IDEgfHwgY29udGVudEVsT2Zmc2V0V2lkdGggPiAwO1xuICAgICAgICB2YXIgY29udGVudFdyYXBwZXJFbE9mZnNldFdpZHRoID0gdGhpcy5jb250ZW50V3JhcHBlckVsLm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgZWxPdmVyZmxvd1ggPSB0aGlzLmVsU3R5bGVzLm92ZXJmbG93WDtcbiAgICAgICAgdmFyIGVsT3ZlcmZsb3dZID0gdGhpcy5lbFN0eWxlcy5vdmVyZmxvd1k7XG4gICAgICAgIHRoaXMuY29udGVudEVsLnN0eWxlLnBhZGRpbmcgPSBcIlwiLmNvbmNhdCh0aGlzLmVsU3R5bGVzLnBhZGRpbmdUb3AsIFwiIFwiKS5jb25jYXQodGhpcy5lbFN0eWxlcy5wYWRkaW5nUmlnaHQsIFwiIFwiKS5jb25jYXQodGhpcy5lbFN0eWxlcy5wYWRkaW5nQm90dG9tLCBcIiBcIikuY29uY2F0KHRoaXMuZWxTdHlsZXMucGFkZGluZ0xlZnQpO1xuICAgICAgICB0aGlzLndyYXBwZXJFbC5zdHlsZS5tYXJnaW4gPSBcIi1cIi5jb25jYXQodGhpcy5lbFN0eWxlcy5wYWRkaW5nVG9wLCBcIiAtXCIpLmNvbmNhdCh0aGlzLmVsU3R5bGVzLnBhZGRpbmdSaWdodCwgXCIgLVwiKS5jb25jYXQodGhpcy5lbFN0eWxlcy5wYWRkaW5nQm90dG9tLCBcIiAtXCIpLmNvbmNhdCh0aGlzLmVsU3R5bGVzLnBhZGRpbmdMZWZ0KTtcbiAgICAgICAgdmFyIGNvbnRlbnRFbFNjcm9sbEhlaWdodCA9IHRoaXMuY29udGVudEVsLnNjcm9sbEhlaWdodDtcbiAgICAgICAgdmFyIGNvbnRlbnRFbFNjcm9sbFdpZHRoID0gdGhpcy5jb250ZW50RWwuc2Nyb2xsV2lkdGg7XG4gICAgICAgIHRoaXMuY29udGVudFdyYXBwZXJFbC5zdHlsZS5oZWlnaHQgPSBpc0hlaWdodEF1dG8gPyAnYXV0bycgOiAnMTAwJSc7XG4gICAgICAgIC8vIERldGVybWluZSBwbGFjZWhvbGRlciBzaXplXG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXJFbC5zdHlsZS53aWR0aCA9IGlzV2lkdGhBdXRvXG4gICAgICAgICAgICA/IFwiXCIuY29uY2F0KGNvbnRlbnRFbE9mZnNldFdpZHRoIHx8IGNvbnRlbnRFbFNjcm9sbFdpZHRoLCBcInB4XCIpXG4gICAgICAgICAgICA6ICdhdXRvJztcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlckVsLnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KGNvbnRlbnRFbFNjcm9sbEhlaWdodCwgXCJweFwiKTtcbiAgICAgICAgdmFyIGNvbnRlbnRXcmFwcGVyRWxPZmZzZXRIZWlnaHQgPSB0aGlzLmNvbnRlbnRXcmFwcGVyRWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB0aGlzLmF4aXMueC5pc092ZXJmbG93aW5nID1cbiAgICAgICAgICAgIGNvbnRlbnRFbE9mZnNldFdpZHRoICE9PSAwICYmIGNvbnRlbnRFbFNjcm9sbFdpZHRoID4gY29udGVudEVsT2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmcgPVxuICAgICAgICAgICAgY29udGVudEVsU2Nyb2xsSGVpZ2h0ID4gY29udGVudFdyYXBwZXJFbE9mZnNldEhlaWdodDtcbiAgICAgICAgLy8gU2V0IGlzT3ZlcmZsb3dpbmcgdG8gZmFsc2UgaWYgdXNlciBleHBsaWNpdGVseSBzZXQgaGlkZGVuIG92ZXJmbG93XG4gICAgICAgIHRoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmcgPVxuICAgICAgICAgICAgZWxPdmVyZmxvd1ggPT09ICdoaWRkZW4nID8gZmFsc2UgOiB0aGlzLmF4aXMueC5pc092ZXJmbG93aW5nO1xuICAgICAgICB0aGlzLmF4aXMueS5pc092ZXJmbG93aW5nID1cbiAgICAgICAgICAgIGVsT3ZlcmZsb3dZID09PSAnaGlkZGVuJyA/IGZhbHNlIDogdGhpcy5heGlzLnkuaXNPdmVyZmxvd2luZztcbiAgICAgICAgdGhpcy5heGlzLnguZm9yY2VWaXNpYmxlID1cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5mb3JjZVZpc2libGUgPT09ICd4JyB8fCB0aGlzLm9wdGlvbnMuZm9yY2VWaXNpYmxlID09PSB0cnVlO1xuICAgICAgICB0aGlzLmF4aXMueS5mb3JjZVZpc2libGUgPVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvcmNlVmlzaWJsZSA9PT0gJ3knIHx8IHRoaXMub3B0aW9ucy5mb3JjZVZpc2libGUgPT09IHRydWU7XG4gICAgICAgIHRoaXMuaGlkZU5hdGl2ZVNjcm9sbGJhcigpO1xuICAgICAgICAvLyBTZXQgaXNPdmVyZmxvd2luZyB0byBmYWxzZSBpZiBzY3JvbGxiYXIgaXMgbm90IG5lY2Vzc2FyeSAoY29udGVudCBpcyBzaG9ydGVyIHRoYW4gb2Zmc2V0KVxuICAgICAgICB2YXIgb2Zmc2V0Rm9yWFNjcm9sbGJhciA9IHRoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmdcbiAgICAgICAgICAgID8gdGhpcy5zY3JvbGxiYXJXaWR0aFxuICAgICAgICAgICAgOiAwO1xuICAgICAgICB2YXIgb2Zmc2V0Rm9yWVNjcm9sbGJhciA9IHRoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmdcbiAgICAgICAgICAgID8gdGhpcy5zY3JvbGxiYXJXaWR0aFxuICAgICAgICAgICAgOiAwO1xuICAgICAgICB0aGlzLmF4aXMueC5pc092ZXJmbG93aW5nID1cbiAgICAgICAgICAgIHRoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmcgJiZcbiAgICAgICAgICAgICAgICBjb250ZW50RWxTY3JvbGxXaWR0aCA+IGNvbnRlbnRXcmFwcGVyRWxPZmZzZXRXaWR0aCAtIG9mZnNldEZvcllTY3JvbGxiYXI7XG4gICAgICAgIHRoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmcgPVxuICAgICAgICAgICAgdGhpcy5heGlzLnkuaXNPdmVyZmxvd2luZyAmJlxuICAgICAgICAgICAgICAgIGNvbnRlbnRFbFNjcm9sbEhlaWdodCA+XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXcmFwcGVyRWxPZmZzZXRIZWlnaHQgLSBvZmZzZXRGb3JYU2Nyb2xsYmFyO1xuICAgICAgICB0aGlzLmF4aXMueC5zY3JvbGxiYXIuc2l6ZSA9IHRoaXMuZ2V0U2Nyb2xsYmFyU2l6ZSgneCcpO1xuICAgICAgICB0aGlzLmF4aXMueS5zY3JvbGxiYXIuc2l6ZSA9IHRoaXMuZ2V0U2Nyb2xsYmFyU2l6ZSgneScpO1xuICAgICAgICBpZiAodGhpcy5heGlzLnguc2Nyb2xsYmFyLmVsKVxuICAgICAgICAgICAgdGhpcy5heGlzLnguc2Nyb2xsYmFyLmVsLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQodGhpcy5heGlzLnguc2Nyb2xsYmFyLnNpemUsIFwicHhcIik7XG4gICAgICAgIGlmICh0aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwpXG4gICAgICAgICAgICB0aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQodGhpcy5heGlzLnkuc2Nyb2xsYmFyLnNpemUsIFwicHhcIik7XG4gICAgICAgIHRoaXMucG9zaXRpb25TY3JvbGxiYXIoJ3gnKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvblNjcm9sbGJhcigneScpO1xuICAgICAgICB0aGlzLnRvZ2dsZVRyYWNrVmlzaWJpbGl0eSgneCcpO1xuICAgICAgICB0aGlzLnRvZ2dsZVRyYWNrVmlzaWJpbGl0eSgneScpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHNjcm9sbGJhciBzaXplXG4gICAgICovXG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUuZ2V0U2Nyb2xsYmFyU2l6ZSA9IGZ1bmN0aW9uIChheGlzKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChheGlzID09PSB2b2lkIDApIHsgYXhpcyA9ICd5JzsgfVxuICAgICAgICBpZiAoIXRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nIHx8ICF0aGlzLmNvbnRlbnRFbCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRlbnRTaXplID0gdGhpcy5jb250ZW50RWxbdGhpcy5heGlzW2F4aXNdLnNjcm9sbFNpemVBdHRyXTtcbiAgICAgICAgdmFyIHRyYWNrU2l6ZSA9IChfYiA9IChfYSA9IHRoaXMuYXhpc1theGlzXS50cmFjay5lbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3RoaXMuYXhpc1theGlzXS5vZmZzZXRTaXplQXR0cl0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgICAgIHZhciBzY3JvbGxiYXJSYXRpbyA9IHRyYWNrU2l6ZSAvIGNvbnRlbnRTaXplO1xuICAgICAgICB2YXIgc2Nyb2xsYmFyU2l6ZTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG5ldyBoZWlnaHQvcG9zaXRpb24gb2YgZHJhZyBoYW5kbGUuXG4gICAgICAgIHNjcm9sbGJhclNpemUgPSBNYXRoLm1heCh+fihzY3JvbGxiYXJSYXRpbyAqIHRyYWNrU2l6ZSksIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJNaW5TaXplKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zY3JvbGxiYXJNYXhTaXplKSB7XG4gICAgICAgICAgICBzY3JvbGxiYXJTaXplID0gTWF0aC5taW4oc2Nyb2xsYmFyU2l6ZSwgdGhpcy5vcHRpb25zLnNjcm9sbGJhck1heFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY3JvbGxiYXJTaXplO1xuICAgIH07XG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUucG9zaXRpb25TY3JvbGxiYXIgPSBmdW5jdGlvbiAoYXhpcykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKGF4aXMgPT09IHZvaWQgMCkgeyBheGlzID0gJ3knOyB9XG4gICAgICAgIHZhciBzY3JvbGxiYXIgPSB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyO1xuICAgICAgICBpZiAoIXRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nIHx8XG4gICAgICAgICAgICAhdGhpcy5jb250ZW50V3JhcHBlckVsIHx8XG4gICAgICAgICAgICAhc2Nyb2xsYmFyLmVsIHx8XG4gICAgICAgICAgICAhdGhpcy5lbFN0eWxlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZW50U2l6ZSA9IHRoaXMuY29udGVudFdyYXBwZXJFbFt0aGlzLmF4aXNbYXhpc10uc2Nyb2xsU2l6ZUF0dHJdO1xuICAgICAgICB2YXIgdHJhY2tTaXplID0gKChfYSA9IHRoaXMuYXhpc1theGlzXS50cmFjay5lbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3RoaXMuYXhpc1theGlzXS5vZmZzZXRTaXplQXR0cl0pIHx8IDA7XG4gICAgICAgIHZhciBob3N0U2l6ZSA9IHBhcnNlSW50KHRoaXMuZWxTdHlsZXNbdGhpcy5heGlzW2F4aXNdLnNpemVBdHRyXSwgMTApO1xuICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5jb250ZW50V3JhcHBlckVsW3RoaXMuYXhpc1theGlzXS5zY3JvbGxPZmZzZXRBdHRyXTtcbiAgICAgICAgc2Nyb2xsT2Zmc2V0ID1cbiAgICAgICAgICAgIGF4aXMgPT09ICd4JyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuaXNSdGwgJiZcbiAgICAgICAgICAgICAgICAoKF9iID0gU2ltcGxlQmFyQ29yZS5nZXRSdGxIZWxwZXJzKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pc1Njcm9sbE9yaWdpbkF0WmVybylcbiAgICAgICAgICAgICAgICA/IC1zY3JvbGxPZmZzZXRcbiAgICAgICAgICAgICAgICA6IHNjcm9sbE9mZnNldDtcbiAgICAgICAgaWYgKGF4aXMgPT09ICd4JyAmJiB0aGlzLmlzUnRsKSB7XG4gICAgICAgICAgICBzY3JvbGxPZmZzZXQgPSAoKF9jID0gU2ltcGxlQmFyQ29yZS5nZXRSdGxIZWxwZXJzKCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pc1Njcm9sbGluZ1RvTmVnYXRpdmUpXG4gICAgICAgICAgICAgICAgPyBzY3JvbGxPZmZzZXRcbiAgICAgICAgICAgICAgICA6IC1zY3JvbGxPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNjcm9sbFBvdXJjZW50ID0gc2Nyb2xsT2Zmc2V0IC8gKGNvbnRlbnRTaXplIC0gaG9zdFNpemUpO1xuICAgICAgICB2YXIgaGFuZGxlT2Zmc2V0ID0gfn4oKHRyYWNrU2l6ZSAtIHNjcm9sbGJhci5zaXplKSAqIHNjcm9sbFBvdXJjZW50KTtcbiAgICAgICAgaGFuZGxlT2Zmc2V0ID1cbiAgICAgICAgICAgIGF4aXMgPT09ICd4JyAmJiB0aGlzLmlzUnRsXG4gICAgICAgICAgICAgICAgPyAtaGFuZGxlT2Zmc2V0ICsgKHRyYWNrU2l6ZSAtIHNjcm9sbGJhci5zaXplKVxuICAgICAgICAgICAgICAgIDogaGFuZGxlT2Zmc2V0O1xuICAgICAgICBzY3JvbGxiYXIuZWwuc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgICAgIGF4aXMgPT09ICd4J1xuICAgICAgICAgICAgICAgID8gXCJ0cmFuc2xhdGUzZChcIi5jb25jYXQoaGFuZGxlT2Zmc2V0LCBcInB4LCAwLCAwKVwiKVxuICAgICAgICAgICAgICAgIDogXCJ0cmFuc2xhdGUzZCgwLCBcIi5jb25jYXQoaGFuZGxlT2Zmc2V0LCBcInB4LCAwKVwiKTtcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLnRvZ2dsZVRyYWNrVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChheGlzKSB7XG4gICAgICAgIGlmIChheGlzID09PSB2b2lkIDApIHsgYXhpcyA9ICd5JzsgfVxuICAgICAgICB2YXIgdHJhY2sgPSB0aGlzLmF4aXNbYXhpc10udHJhY2suZWw7XG4gICAgICAgIHZhciBzY3JvbGxiYXIgPSB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLmVsO1xuICAgICAgICBpZiAoIXRyYWNrIHx8ICFzY3JvbGxiYXIgfHwgIXRoaXMuY29udGVudFdyYXBwZXJFbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nIHx8IHRoaXMuYXhpc1theGlzXS5mb3JjZVZpc2libGUpIHtcbiAgICAgICAgICAgIHRyYWNrLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwuc3R5bGVbdGhpcy5heGlzW2F4aXNdLm92ZXJmbG93QXR0cl0gPSAnc2Nyb2xsJztcbiAgICAgICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChcIlwiLmNvbmNhdCh0aGlzLmNsYXNzTmFtZXMuc2Nyb2xsYWJsZSwgXCItXCIpLmNvbmNhdChheGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFjay5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwuc3R5bGVbdGhpcy5heGlzW2F4aXNdLm92ZXJmbG93QXR0cl0gPSAnaGlkZGVuJztcbiAgICAgICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZShcIlwiLmNvbmNhdCh0aGlzLmNsYXNzTmFtZXMuc2Nyb2xsYWJsZSwgXCItXCIpLmNvbmNhdChheGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXZlbiBpZiBmb3JjZVZpc2libGUgaXMgZW5hYmxlZCwgc2Nyb2xsYmFyIGl0c2VsZiBzaG91bGQgYmUgaGlkZGVuXG4gICAgICAgIGlmICh0aGlzLmF4aXNbYXhpc10uaXNPdmVyZmxvd2luZykge1xuICAgICAgICAgICAgc2Nyb2xsYmFyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2Nyb2xsYmFyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLnNob3dTY3JvbGxiYXIgPSBmdW5jdGlvbiAoYXhpcykge1xuICAgICAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7IGF4aXMgPSAneSc7IH1cbiAgICAgICAgaWYgKHRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nICYmICF0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLmVsLCB0aGlzLmNsYXNzTmFtZXMudmlzaWJsZSk7XG4gICAgICAgICAgICB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmhpZGVTY3JvbGxiYXIgPSBmdW5jdGlvbiAoYXhpcykge1xuICAgICAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7IGF4aXMgPSAneSc7IH1cbiAgICAgICAgaWYgKHRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nICYmIHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICByZW1vdmVDbGFzc2VzKHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuZWwsIHRoaXMuY2xhc3NOYW1lcy52aXNpYmxlKTtcbiAgICAgICAgICAgIHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmhpZGVOYXRpdmVTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5vZmZzZXRFbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vZmZzZXRFbC5zdHlsZVt0aGlzLmlzUnRsID8gJ2xlZnQnIDogJ3JpZ2h0J10gPVxuICAgICAgICAgICAgdGhpcy5heGlzLnkuaXNPdmVyZmxvd2luZyB8fCB0aGlzLmF4aXMueS5mb3JjZVZpc2libGVcbiAgICAgICAgICAgICAgICA/IFwiLVwiLmNvbmNhdCh0aGlzLnNjcm9sbGJhcldpZHRoLCBcInB4XCIpXG4gICAgICAgICAgICAgICAgOiAnMHB4JztcbiAgICAgICAgdGhpcy5vZmZzZXRFbC5zdHlsZS5ib3R0b20gPVxuICAgICAgICAgICAgdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZyB8fCB0aGlzLmF4aXMueC5mb3JjZVZpc2libGVcbiAgICAgICAgICAgICAgICA/IFwiLVwiLmNvbmNhdCh0aGlzLnNjcm9sbGJhcldpZHRoLCBcInB4XCIpXG4gICAgICAgICAgICAgICAgOiAnMHB4JztcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLm9uTW91c2VNb3ZlRm9yQXhpcyA9IGZ1bmN0aW9uIChheGlzKSB7XG4gICAgICAgIGlmIChheGlzID09PSB2b2lkIDApIHsgYXhpcyA9ICd5JzsgfVxuICAgICAgICB2YXIgY3VycmVudEF4aXMgPSB0aGlzLmF4aXNbYXhpc107XG4gICAgICAgIGlmICghY3VycmVudEF4aXMudHJhY2suZWwgfHwgIWN1cnJlbnRBeGlzLnNjcm9sbGJhci5lbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY3VycmVudEF4aXMudHJhY2sucmVjdCA9IGN1cnJlbnRBeGlzLnRyYWNrLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjdXJyZW50QXhpcy5zY3JvbGxiYXIucmVjdCA9XG4gICAgICAgICAgICBjdXJyZW50QXhpcy5zY3JvbGxiYXIuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmICh0aGlzLmlzV2l0aGluQm91bmRzKGN1cnJlbnRBeGlzLnRyYWNrLnJlY3QpKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dTY3JvbGxiYXIoYXhpcyk7XG4gICAgICAgICAgICBhZGRDbGFzc2VzKGN1cnJlbnRBeGlzLnRyYWNrLmVsLCB0aGlzLmNsYXNzTmFtZXMuaG92ZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNXaXRoaW5Cb3VuZHMoY3VycmVudEF4aXMuc2Nyb2xsYmFyLnJlY3QpKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NlcyhjdXJyZW50QXhpcy5zY3JvbGxiYXIuZWwsIHRoaXMuY2xhc3NOYW1lcy5ob3Zlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzc2VzKGN1cnJlbnRBeGlzLnNjcm9sbGJhci5lbCwgdGhpcy5jbGFzc05hbWVzLmhvdmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMoY3VycmVudEF4aXMudHJhY2suZWwsIHRoaXMuY2xhc3NOYW1lcy5ob3Zlcik7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9IaWRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlU2Nyb2xsYmFyKGF4aXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGVCYXJDb3JlLnByb3RvdHlwZS5vbk1vdXNlTGVhdmVGb3JBeGlzID0gZnVuY3Rpb24gKGF4aXMpIHtcbiAgICAgICAgaWYgKGF4aXMgPT09IHZvaWQgMCkgeyBheGlzID0gJ3knOyB9XG4gICAgICAgIHJlbW92ZUNsYXNzZXModGhpcy5heGlzW2F4aXNdLnRyYWNrLmVsLCB0aGlzLmNsYXNzTmFtZXMuaG92ZXIpO1xuICAgICAgICByZW1vdmVDbGFzc2VzKHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuZWwsIHRoaXMuY2xhc3NOYW1lcy5ob3Zlcik7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0hpZGUpIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZVNjcm9sbGJhcihheGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogb24gc2Nyb2xsYmFyIGhhbmRsZSBkcmFnIG1vdmVtZW50IHN0YXJ0c1xuICAgICAqL1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLm9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGUsIGF4aXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7IGF4aXMgPSAneSc7IH1cbiAgICAgICAgdmFyIGVsRG9jdW1lbnQgPSBnZXRFbGVtZW50RG9jdW1lbnQodGhpcy5lbCk7XG4gICAgICAgIHZhciBlbFdpbmRvdyA9IGdldEVsZW1lbnRXaW5kb3codGhpcy5lbCk7XG4gICAgICAgIHZhciBzY3JvbGxiYXIgPSB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyO1xuICAgICAgICAvLyBNZWFzdXJlIGhvdyBmYXIgdGhlIHVzZXIncyBtb3VzZSBpcyBmcm9tIHRoZSB0b3Agb2YgdGhlIHNjcm9sbGJhciBkcmFnIGhhbmRsZS5cbiAgICAgICAgdmFyIGV2ZW50T2Zmc2V0ID0gYXhpcyA9PT0gJ3knID8gZS5wYWdlWSA6IGUucGFnZVg7XG4gICAgICAgIHRoaXMuYXhpc1theGlzXS5kcmFnT2Zmc2V0ID1cbiAgICAgICAgICAgIGV2ZW50T2Zmc2V0IC0gKCgoX2EgPSBzY3JvbGxiYXIucmVjdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3RoaXMuYXhpc1theGlzXS5vZmZzZXRBdHRyXSkgfHwgMCk7XG4gICAgICAgIHRoaXMuZHJhZ2dlZEF4aXMgPSBheGlzO1xuICAgICAgICBhZGRDbGFzc2VzKHRoaXMuZWwsIHRoaXMuY2xhc3NOYW1lcy5kcmFnZ2luZyk7XG4gICAgICAgIGVsRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5kcmFnLCB0cnVlKTtcbiAgICAgICAgZWxEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbkVuZERyYWcsIHRydWUpO1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVQcmV2ZW50Q2xpY2tJZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZWxEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucHJldmVudENsaWNrLCB0cnVlKTtcbiAgICAgICAgICAgIGVsRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLnByZXZlbnRDbGljaywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbFdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZW1vdmVQcmV2ZW50Q2xpY2tJZCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVByZXZlbnRDbGlja0lkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUub25UcmFja0NsaWNrID0gZnVuY3Rpb24gKGUsIGF4aXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7IGF4aXMgPSAneSc7IH1cbiAgICAgICAgdmFyIGN1cnJlbnRBeGlzID0gdGhpcy5heGlzW2F4aXNdO1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5jbGlja09uVHJhY2sgfHxcbiAgICAgICAgICAgICFjdXJyZW50QXhpcy5zY3JvbGxiYXIuZWwgfHxcbiAgICAgICAgICAgICF0aGlzLmNvbnRlbnRXcmFwcGVyRWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIFByZXZlbnRpbmcgdGhlIGV2ZW50J3MgZGVmYXVsdCB0byB0cmlnZ2VyIGNsaWNrIHVuZGVybmVhdGhcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KHRoaXMuZWwpO1xuICAgICAgICB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLnJlY3QgPVxuICAgICAgICAgICAgY3VycmVudEF4aXMuc2Nyb2xsYmFyLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgc2Nyb2xsYmFyID0gdGhpcy5heGlzW2F4aXNdLnNjcm9sbGJhcjtcbiAgICAgICAgdmFyIHNjcm9sbGJhck9mZnNldCA9IChfYiA9IChfYSA9IHNjcm9sbGJhci5yZWN0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbdGhpcy5heGlzW2F4aXNdLm9mZnNldEF0dHJdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICB2YXIgaG9zdFNpemUgPSBwYXJzZUludCgoX2QgPSAoX2MgPSB0aGlzLmVsU3R5bGVzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbdGhpcy5heGlzW2F4aXNdLnNpemVBdHRyXSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJzBweCcsIDEwKTtcbiAgICAgICAgdmFyIHNjcm9sbGVkID0gdGhpcy5jb250ZW50V3JhcHBlckVsW3RoaXMuYXhpc1theGlzXS5zY3JvbGxPZmZzZXRBdHRyXTtcbiAgICAgICAgdmFyIHQgPSBheGlzID09PSAneSdcbiAgICAgICAgICAgID8gdGhpcy5tb3VzZVkgLSBzY3JvbGxiYXJPZmZzZXRcbiAgICAgICAgICAgIDogdGhpcy5tb3VzZVggLSBzY3JvbGxiYXJPZmZzZXQ7XG4gICAgICAgIHZhciBkaXIgPSB0IDwgMCA/IC0xIDogMTtcbiAgICAgICAgdmFyIHNjcm9sbFNpemUgPSBkaXIgPT09IC0xID8gc2Nyb2xsZWQgLSBob3N0U2l6ZSA6IHNjcm9sbGVkICsgaG9zdFNpemU7XG4gICAgICAgIHZhciBzcGVlZCA9IDQwO1xuICAgICAgICB2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmNvbnRlbnRXcmFwcGVyRWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGRpciA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsZWQgPiBzY3JvbGxTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVkIC09IHNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb250ZW50V3JhcHBlckVsW190aGlzLmF4aXNbYXhpc10uc2Nyb2xsT2Zmc2V0QXR0cl0gPSBzY3JvbGxlZDtcbiAgICAgICAgICAgICAgICAgICAgZWxXaW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjcm9sbFRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsZWQgPCBzY3JvbGxTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVkICs9IHNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb250ZW50V3JhcHBlckVsW190aGlzLmF4aXNbYXhpc10uc2Nyb2xsT2Zmc2V0QXR0cl0gPSBzY3JvbGxlZDtcbiAgICAgICAgICAgICAgICAgICAgZWxXaW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjcm9sbFRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNjcm9sbFRvKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZm9yIGNvbnRlbnQgZWxlbWVudFxuICAgICAqL1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmdldENvbnRlbnRFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50RWw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZm9yIG9yaWdpbmFsIHNjcm9sbGluZyBlbGVtZW50XG4gICAgICovXG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUuZ2V0U2Nyb2xsRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudFdyYXBwZXJFbDtcbiAgICB9O1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsV2luZG93ID0gZ2V0RWxlbWVudFdpbmRvdyh0aGlzLmVsKTtcbiAgICAgICAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub25Nb3VzZUVudGVyKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRXZlbnQsIHRydWUpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZSk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRXcmFwcGVyRWwpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudFdyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgICAgfVxuICAgICAgICBlbFdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplKTtcbiAgICAgICAgaWYgKHRoaXMubXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXNpemVPYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FuY2VsIGFsbCBkZWJvdW5jZWQgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMub25XaW5kb3dSZXNpemUuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMub25TdG9wU2Nyb2xsaW5nLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLm9uTW91c2VFbnRlcmVkLmNhbmNlbCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZnJvbSBET00gbm9kZXNcbiAgICAgKi9cbiAgICBTaW1wbGVCYXJDb3JlLnByb3RvdHlwZS51bk1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgbW91c2UgaXMgd2l0aGluIGJvdW5kc1xuICAgICAqL1xuICAgIFNpbXBsZUJhckNvcmUucHJvdG90eXBlLmlzV2l0aGluQm91bmRzID0gZnVuY3Rpb24gKGJib3gpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1vdXNlWCA+PSBiYm94LmxlZnQgJiZcbiAgICAgICAgICAgIHRoaXMubW91c2VYIDw9IGJib3gubGVmdCArIGJib3gud2lkdGggJiZcbiAgICAgICAgICAgIHRoaXMubW91c2VZID49IGJib3gudG9wICYmXG4gICAgICAgICAgICB0aGlzLm1vdXNlWSA8PSBiYm94LnRvcCArIGJib3guaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmQgZWxlbWVudCBjaGlsZHJlbiBtYXRjaGVzIHF1ZXJ5XG4gICAgICovXG4gICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUuZmluZENoaWxkID0gZnVuY3Rpb24gKGVsLCBxdWVyeSkge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IGVsLm1hdGNoZXMgfHxcbiAgICAgICAgICAgIGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgZWwubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICBlbC5tc01hdGNoZXNTZWxlY3RvcjtcbiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbC5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGNoaWxkLCBxdWVyeSk7XG4gICAgICAgIH0pWzBdO1xuICAgIH07XG4gICAgU2ltcGxlQmFyQ29yZS5ydGxIZWxwZXJzID0gbnVsbDtcbiAgICBTaW1wbGVCYXJDb3JlLmRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBmb3JjZVZpc2libGU6IGZhbHNlLFxuICAgICAgICBjbGlja09uVHJhY2s6IHRydWUsXG4gICAgICAgIHNjcm9sbGJhck1pblNpemU6IDI1LFxuICAgICAgICBzY3JvbGxiYXJNYXhTaXplOiAwLFxuICAgICAgICBhcmlhTGFiZWw6ICdzY3JvbGxhYmxlIGNvbnRlbnQnLFxuICAgICAgICBjbGFzc05hbWVzOiB7XG4gICAgICAgICAgICBjb250ZW50RWw6ICdzaW1wbGViYXItY29udGVudCcsXG4gICAgICAgICAgICBjb250ZW50V3JhcHBlcjogJ3NpbXBsZWJhci1jb250ZW50LXdyYXBwZXInLFxuICAgICAgICAgICAgb2Zmc2V0OiAnc2ltcGxlYmFyLW9mZnNldCcsXG4gICAgICAgICAgICBtYXNrOiAnc2ltcGxlYmFyLW1hc2snLFxuICAgICAgICAgICAgd3JhcHBlcjogJ3NpbXBsZWJhci13cmFwcGVyJyxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnc2ltcGxlYmFyLXBsYWNlaG9sZGVyJyxcbiAgICAgICAgICAgIHNjcm9sbGJhcjogJ3NpbXBsZWJhci1zY3JvbGxiYXInLFxuICAgICAgICAgICAgdHJhY2s6ICdzaW1wbGViYXItdHJhY2snLFxuICAgICAgICAgICAgaGVpZ2h0QXV0b09ic2VydmVyV3JhcHBlckVsOiAnc2ltcGxlYmFyLWhlaWdodC1hdXRvLW9ic2VydmVyLXdyYXBwZXInLFxuICAgICAgICAgICAgaGVpZ2h0QXV0b09ic2VydmVyRWw6ICdzaW1wbGViYXItaGVpZ2h0LWF1dG8tb2JzZXJ2ZXInLFxuICAgICAgICAgICAgdmlzaWJsZTogJ3NpbXBsZWJhci12aXNpYmxlJyxcbiAgICAgICAgICAgIGhvcml6b250YWw6ICdzaW1wbGViYXItaG9yaXpvbnRhbCcsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogJ3NpbXBsZWJhci12ZXJ0aWNhbCcsXG4gICAgICAgICAgICBob3ZlcjogJ3NpbXBsZWJhci1ob3ZlcicsXG4gICAgICAgICAgICBkcmFnZ2luZzogJ3NpbXBsZWJhci1kcmFnZ2luZycsXG4gICAgICAgICAgICBzY3JvbGxpbmc6ICdzaW1wbGViYXItc2Nyb2xsaW5nJyxcbiAgICAgICAgICAgIHNjcm9sbGFibGU6ICdzaW1wbGViYXItc2Nyb2xsYWJsZScsXG4gICAgICAgICAgICBtb3VzZUVudGVyZWQ6ICdzaW1wbGViYXItbW91c2UtZW50ZXJlZCdcbiAgICAgICAgfSxcbiAgICAgICAgc2Nyb2xsYWJsZU5vZGU6IG51bGwsXG4gICAgICAgIGNvbnRlbnROb2RlOiBudWxsLFxuICAgICAgICBhdXRvSGlkZTogdHJ1ZVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhdGljIGZ1bmN0aW9uc1xuICAgICAqL1xuICAgIFNpbXBsZUJhckNvcmUuZ2V0T3B0aW9ucyA9IGdldE9wdGlvbnM7XG4gICAgU2ltcGxlQmFyQ29yZS5oZWxwZXJzID0gaGVscGVycztcbiAgICByZXR1cm4gU2ltcGxlQmFyQ29yZTtcbn0oKSk7XG5cbmV4cG9ydCB7IFNpbXBsZUJhckNvcmUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiLyoqXG4gKiBzaW1wbGViYXIgLSB2Ni4yLjVcbiAqIFNjcm9sbGJhcnMsIHNpbXBsZXIuXG4gKiBodHRwczovL2dyc210by5naXRodWIuaW8vc2ltcGxlYmFyL1xuICpcbiAqIE1hZGUgYnkgQWRyaWVuIERlbmF0IGZyb20gYSBmb3JrIGJ5IEpvbmF0aGFuIE5pY29sXG4gKiBVbmRlciBNSVQgTGljZW5zZVxuICovXG5cbmltcG9ydCBjYW5Vc2VET00gZnJvbSAnY2FuLXVzZS1kb20nO1xuaW1wb3J0IFNpbXBsZUJhckNvcmUgZnJvbSAnc2ltcGxlYmFyLWNvcmUnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIF9hID0gU2ltcGxlQmFyQ29yZS5oZWxwZXJzLCBnZXRPcHRpb25zID0gX2EuZ2V0T3B0aW9ucywgYWRkQ2xhc3NlcyA9IF9hLmFkZENsYXNzZXM7XG52YXIgU2ltcGxlQmFyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVCYXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2ltcGxlQmFyKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmdzKSB8fCB0aGlzO1xuICAgICAgICAvLyAvLyBTYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBpbnN0YW5jZSwgc28gd2Uga25vdyB0aGlzIERPTSBub2RlIGhhcyBhbHJlYWR5IGJlZW4gaW5zdGFuY2llZFxuICAgICAgICBTaW1wbGVCYXIuaW5zdGFuY2VzLnNldChhcmdzWzBdLCBfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2ltcGxlQmFyLmluaXRET01Mb2FkZWRFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHRoaXMuaW5pdERPTUxvYWRlZEVsZW1lbnRzKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLmluaXRET01Mb2FkZWRFbGVtZW50cyk7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2ltcGxlYmFyXScpLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2ltcGxlYmFyJykgIT09ICdpbml0JyAmJlxuICAgICAgICAgICAgICAgICFTaW1wbGVCYXIuaW5zdGFuY2VzLmhhcyhlbCkpXG4gICAgICAgICAgICAgICAgbmV3IFNpbXBsZUJhcihlbCwgZ2V0T3B0aW9ucyhlbC5hdHRyaWJ1dGVzKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2ltcGxlQmFyLnJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IFNpbXBsZUJhci5nbG9iYWxPYnNlcnZlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIFNpbXBsZUJhci5wcm90b3R5cGUuaW5pdERPTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGlzIGVsZW1lbnQgZG9lc24ndCBoYXZlIHRoZSBlbGVtZW50cyB5ZXRcbiAgICAgICAgaWYgKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwodGhpcy5lbC5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKF90aGlzLmNsYXNzTmFtZXMud3JhcHBlcik7XG4gICAgICAgIH0pLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gUHJlcGFyZSBET01cbiAgICAgICAgICAgIHRoaXMud3JhcHBlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMubWFza0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGhpcy5wbGFjZWhvbGRlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0aGlzLmhlaWdodEF1dG9PYnNlcnZlcldyYXBwZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLndyYXBwZXJFbCwgdGhpcy5jbGFzc05hbWVzLndyYXBwZXIpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmNvbnRlbnRXcmFwcGVyRWwsIHRoaXMuY2xhc3NOYW1lcy5jb250ZW50V3JhcHBlcik7XG4gICAgICAgICAgICBhZGRDbGFzc2VzKHRoaXMub2Zmc2V0RWwsIHRoaXMuY2xhc3NOYW1lcy5vZmZzZXQpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLm1hc2tFbCwgdGhpcy5jbGFzc05hbWVzLm1hc2spO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmNvbnRlbnRFbCwgdGhpcy5jbGFzc05hbWVzLmNvbnRlbnRFbCk7XG4gICAgICAgICAgICBhZGRDbGFzc2VzKHRoaXMucGxhY2Vob2xkZXJFbCwgdGhpcy5jbGFzc05hbWVzLnBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgIGFkZENsYXNzZXModGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJXcmFwcGVyRWwsIHRoaXMuY2xhc3NOYW1lcy5oZWlnaHRBdXRvT2JzZXJ2ZXJXcmFwcGVyRWwpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsLCB0aGlzLmNsYXNzTmFtZXMuaGVpZ2h0QXV0b09ic2VydmVyRWwpO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuZWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKHRoaXMuZWwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50RWwpO1xuICAgICAgICAgICAgdGhpcy5vZmZzZXRFbC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRXcmFwcGVyRWwpO1xuICAgICAgICAgICAgdGhpcy5tYXNrRWwuYXBwZW5kQ2hpbGQodGhpcy5vZmZzZXRFbCk7XG4gICAgICAgICAgICB0aGlzLmhlaWdodEF1dG9PYnNlcnZlcldyYXBwZXJFbC5hcHBlbmRDaGlsZCh0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsKTtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlckVsLmFwcGVuZENoaWxkKHRoaXMuaGVpZ2h0QXV0b09ic2VydmVyV3JhcHBlckVsKTtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlckVsLmFwcGVuZENoaWxkKHRoaXMubWFza0VsKTtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlckVsLmFwcGVuZENoaWxkKHRoaXMucGxhY2Vob2xkZXJFbCk7XG4gICAgICAgICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMud3JhcHBlckVsKTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuY29udGVudFdyYXBwZXJFbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICAgICAgKF9iID0gdGhpcy5jb250ZW50V3JhcHBlckVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3JlZ2lvbicpO1xuICAgICAgICAgICAgKF9jID0gdGhpcy5jb250ZW50V3JhcHBlckVsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdGhpcy5vcHRpb25zLmFyaWFMYWJlbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmF4aXMueC50cmFjay5lbCB8fCAhdGhpcy5heGlzLnkudHJhY2suZWwpIHtcbiAgICAgICAgICAgIHZhciB0cmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdmFyIHNjcm9sbGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0cmFjaywgdGhpcy5jbGFzc05hbWVzLnRyYWNrKTtcbiAgICAgICAgICAgIGFkZENsYXNzZXMoc2Nyb2xsYmFyLCB0aGlzLmNsYXNzTmFtZXMuc2Nyb2xsYmFyKTtcbiAgICAgICAgICAgIHRyYWNrLmFwcGVuZENoaWxkKHNjcm9sbGJhcik7XG4gICAgICAgICAgICB0aGlzLmF4aXMueC50cmFjay5lbCA9IHRyYWNrLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgIGFkZENsYXNzZXModGhpcy5heGlzLngudHJhY2suZWwsIHRoaXMuY2xhc3NOYW1lcy5ob3Jpem9udGFsKTtcbiAgICAgICAgICAgIHRoaXMuYXhpcy55LnRyYWNrLmVsID0gdHJhY2suY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmF4aXMueS50cmFjay5lbCwgdGhpcy5jbGFzc05hbWVzLnZlcnRpY2FsKTtcbiAgICAgICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5heGlzLngudHJhY2suZWwpO1xuICAgICAgICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLmF4aXMueS50cmFjay5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgU2ltcGxlQmFyQ29yZS5wcm90b3R5cGUuaW5pdERPTS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zaW1wbGViYXInLCAnaW5pdCcpO1xuICAgIH07XG4gICAgU2ltcGxlQmFyLnByb3RvdHlwZS51bk1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBTaW1wbGVCYXJDb3JlLnByb3RvdHlwZS51bk1vdW50LmNhbGwodGhpcyk7XG4gICAgICAgIFNpbXBsZUJhci5pbnN0YW5jZXNbXCJkZWxldGVcIl0odGhpcy5lbCk7XG4gICAgfTtcbiAgICBTaW1wbGVCYXIuaW5pdEh0bWxBcGkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5pdERPTUxvYWRlZEVsZW1lbnRzID0gdGhpcy5pbml0RE9NTG9hZGVkRWxlbWVudHMuYmluZCh0aGlzKTtcbiAgICAgICAgLy8gTXV0YXRpb25PYnNlcnZlciBpcyBJRTExK1xuICAgICAgICBpZiAodHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBNdXRhdGlvbiBvYnNlcnZlciB0byBvYnNlcnZlIGR5bmFtaWNhbGx5IGFkZGVkIGVsZW1lbnRzXG4gICAgICAgICAgICB0aGlzLmdsb2JhbE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoU2ltcGxlQmFyLmhhbmRsZU11dGF0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmdsb2JhbE9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRha2VuIGZyb20galF1ZXJ5IGByZWFkeWAgZnVuY3Rpb25cbiAgICAgICAgLy8gSW5zdGFudGlhdGUgZWxlbWVudHMgYWxyZWFkeSBwcmVzZW50IG9uIHRoZSBwYWdlXG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnIHx8IC8vIEB0cy1pZ25vcmU6IElFIHNwZWNpZmljXG4gICAgICAgICAgICAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRpbmcnICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgaW5pdFxuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5pbml0RE9NTG9hZGVkRWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHRoaXMuaW5pdERPTUxvYWRlZEVsZW1lbnRzKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5pbml0RE9NTG9hZGVkRWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGVCYXIuaGFuZGxlTXV0YXRpb25zID0gZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoYWRkZWROb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFkZGVkTm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWROb2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS1zaW1wbGViYXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgIVNpbXBsZUJhci5pbnN0YW5jZXMuaGFzKGFkZGVkTm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYWRkZWROb2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTaW1wbGVCYXIoYWRkZWROb2RlLCBnZXRPcHRpb25zKGFkZGVkTm9kZS5hdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRlZE5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2ltcGxlYmFyXScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zaW1wbGViYXInKSAhPT0gJ2luaXQnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFTaW1wbGVCYXIuaW5zdGFuY2VzLmhhcyhlbCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGVsKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNpbXBsZUJhcihlbCwgZ2V0T3B0aW9ucyhlbC5hdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbXV0YXRpb24ucmVtb3ZlZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKHJlbW92ZWROb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWROb2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkTm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2ltcGxlYmFyJykgPT09ICdpbml0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2ltcGxlQmFyLmluc3RhbmNlcy5oYXMocmVtb3ZlZE5vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhyZW1vdmVkTm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW1wbGVCYXIuaW5zdGFuY2VzLmdldChyZW1vdmVkTm9kZSkudW5Nb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChyZW1vdmVkTm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaW1wbGViYXI9XCJpbml0XCJdJyksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpbXBsZUJhci5pbnN0YW5jZXMuaGFzKGVsKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGVsKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW1wbGVCYXIuaW5zdGFuY2VzLmdldChlbCkudW5Nb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTaW1wbGVCYXIuaW5zdGFuY2VzID0gbmV3IFdlYWtNYXAoKTtcbiAgICByZXR1cm4gU2ltcGxlQmFyO1xufShTaW1wbGVCYXJDb3JlKSk7XG4vKipcbiAqIEhUTUwgQVBJXG4gKiBDYWxsZWQgb25seSBpbiBhIGJyb3dzZXIgZW52LlxuICovXG5pZiAoY2FuVXNlRE9NKSB7XG4gICAgU2ltcGxlQmFyLmluaXRIdG1sQXBpKCk7XG59XG5cbmV4cG9ydCB7IFNpbXBsZUJhciBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZTsgfTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiXG4vKiEqXG4gKiDQktCd0JjQnNCQ0J3QmNCVISDQrdGC0L7RgiDRhNCw0LnQuyDQs9C10L3QtdGA0LjRgNGD0LXRgtGB0Y8g0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LguXG4gKiDQm9GO0LHRi9C1INC40LfQvNC10L3QtdC90LjRjyDRjdGC0L7Qs9C+INGE0LDQudC70LAg0LHRg9C00YPRgiDQv9C+0YLQtdGA0Y/QvdGLINC/0YDQuCDRgdC70LXQtNGD0Y7RidC10Lkg0LrQvtC80L/QuNC70Y/RhtC40LguXG4gKiDQm9GO0LHQvtC1INC40LfQvNC10L3QtdC90LjQtSDQv9GA0L7QtdC60YLQsCDQsdC10Lcg0LLQvtC30LzQvtC20L3QvtGB0YLQuCDQutC+0LzQv9C40LvRj9GG0LjQuCDQlNCe0JvQrNCo0JUg0Jgg0JTQntCg0J7QltCVINCyIDItNSDRgNCw0LcuXG4gKi9cblxuLyogZ2xvYmFsIHJlcXVpcmUgKi9cblxucmVxdWlyZSgnLi4vYmxvY2tzL2Fzay9hc2suanMnKTtcbnJlcXVpcmUoJy4uL2Jsb2Nrcy9jYXJkLWludmVudG9yeS9jYXJkLWludmVudG9yeS5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL2NhcmQtcHJvZHVjdC9jYXJkLXByb2R1Y3QuanMnKTtcbnJlcXVpcmUoJy4uL2Jsb2Nrcy9mYXEvZmFxLmpzJyk7XG5yZXF1aXJlKCcuLi9ibG9ja3MvZmllbGQvZmllbGQuanMnKTtcbnJlcXVpcmUoJy4uL2Jsb2Nrcy9maWx0ZXIvZmlsdGVyLmpzJyk7XG5yZXF1aXJlKCcuLi9ibG9ja3MvZm9ybS9mb3JtLmpzJyk7XG5yZXF1aXJlKCcuLi9ibG9ja3MvaGVhZGVyL2hlYWRlci5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL2hlcm8vaGVyby5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL2lucHV0L2lucHV0LmpzJyk7XG5yZXF1aXJlKCcuLi9ibG9ja3MvbnVtYmVyL251bWJlci5qcycpO1xucmVxdWlyZSgnLi4vYmxvY2tzL3BhbmVsL3BhbmVsLmpzJyk7XG5yZXF1aXJlKCcuLi9ibG9ja3MvcGF5bWVudC9wYXltZW50LmpzJyk7XG5yZXF1aXJlKCcuLi9ibG9ja3MvcHJvZmlsZS9wcm9maWxlLmpzJyk7XG5yZXF1aXJlKCcuLi9ibG9ja3MvdGV4dGFyZWEvdGV4dGFyZWEuanMnKTtcbnJlcXVpcmUoJy4vY29tbW9uL3NpbXBsZUJhci5qcycpO1xucmVxdWlyZSgnLi9zY3JpcHQuanMnKTtcblxuLyohKlxuICog0JLQndCY0JzQkNCd0JjQlSEg0K3RgtC+0YIg0YTQsNC50Lsg0LPQtdC90LXRgNC40YDRg9C10YLRgdGPINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4LlxuICog0JvRjtCx0YvQtSDQuNC30LzQtdC90LXQvdC40Y8g0Y3RgtC+0LPQviDRhNCw0LnQu9CwINCx0YPQtNGD0YIg0L/QvtGC0LXRgNGP0L3RiyDQv9GA0Lgg0YHQu9C10LTRg9GO0YnQtdC5INC60L7QvNC/0LjQu9GP0YbQuNC4LlxuICog0JvRjtCx0L7QtSDQuNC30LzQtdC90LXQvdC40LUg0L/RgNC+0LXQutGC0LAg0LHQtdC3INCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0LrQvtC80L/QuNC70Y/RhtC40Lgg0JTQntCb0KzQqNCVINCYINCU0J7QoNCe0JbQlSDQsiAyLTUg0YDQsNC3LlxuICovXG5cbiJdLCJuYW1lcyI6WyJyZWFkeSIsImFza0Zvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JtSW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvcm1UZXh0YXJlYSIsImZvcm1CdXR0b24iLCJmb3JFYWNoIiwiaW5wdXQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29udGFjdHNGb3JtQ2hlY2siLCJmb3JtIiwic3VibWl0IiwiZm9ybU5hbWVWYWx1ZSIsInZhbHVlIiwiZm9ybUVtYWlsVmFsdWUiLCJmb3JtVGV4dGFyZWFWYWx1ZSIsIm5vRW1wdHlWYWx1ZXMiLCJlbWFpbEZvcm1hdCIsInRlc3QiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJpbnZlbnRvcnlDYXJkcyIsImxlbmd0aCIsInNlbGVjdEFsbEJ1dHRvbiIsImRlc2VsZWN0QnV0dG9uIiwiY2FyZCIsImNhcmRDaGVja2JveCIsImNoZWNrZWQiLCJwcm9kdWN0Q2FyZHMiLCJjYXJkQnV0dG9uIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJ0ZXh0Q29udGVudCIsImFkZCIsImZhcSIsImZhcUl0ZW1zIiwiaXRlbSIsImZhcUhlYWQiLCJmYXFUcmlnZ2VyIiwicGFzc0ZpZWxkcyIsInBhc3NJbnB1dCIsInBhc3NUb2dnbGUiLCJ0eXBlIiwiSU1hc2siLCJub1VpU2xpZGVyIiwid051bWIiLCJmaWx0ZXJUcmlnZ2VyIiwiZmlsdGVySW5uZXIiLCJ0b2dnbGUiLCJyYW5nZVNsaWRlcnMiLCJyYW5nZU1pbiIsInJhbmdlTWF4IiwicmFuZ2VTbGlkZXJPcHRpb25zIiwic3RhcnQiLCJjb25uZWN0IiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJmb3JtYXQiLCJkZWNpbWFscyIsInRob3VzYW5kIiwibnVtYmVyTWFzayIsIm1hc2siLCJOdW1iZXIiLCJ0aG91c2FuZHNTZXBhcmF0b3IiLCJyYW5nZVNsaWRlckluc3RhbnQiLCJmcm9tRmllbGQiLCJ0b0ZpZWxkIiwic2xpZGVyIiwiY3JlYXRlIiwibWFrZVNsaWRlckxpbmsiLCJmcm9tRmllbGRNYXNrIiwidG9GaWVsZE1hc2siLCJvbiIsInZhbHVlcyIsImhhbmRsZSIsInVwZGF0ZVZhbHVlIiwic2V0IiwiZXZlbnQiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJyZWdpc3RyYXRpb25Gb3JtIiwibG9naW5Gb3JtIiwiZm9yZ2V0Rm9ybSIsImZvcm1QYXNzd29yZCIsImZvcm1QYXNzd29yZFJlcGVhdCIsInJlZ2lzdHJhdGlvbkZvcm1DaGVjayIsInBhc3N3b3JkQ2hlY2siLCJsb2dpbklucHV0cyIsImxvZ2luQnV0dG9uIiwibG9naW5Gb3JtQ2hlY2siLCJmb3JnZXRFbWFpbCIsImZvcmdldEVtYWlsVmFsdWUiLCJmb3JtUGFzc3dvcmRWYWx1ZSIsImZvcm1QYXNzd29yZFJlcGVhdFZhbHVlIiwiaXNTYW1lUGFzcyIsImNoZWNrYm94IiwiZmlyc3QiLCJzZWNvbmQiLCJmaXJzdFZhbHVlIiwic2Vjb25kVmFsdWUiLCJtZXNzYWdlIiwiaG9zdEhlcm8iLCJoZXJvVHJpZ2dlciIsImVsZW1lbnQiLCJhbGVydCIsImlucHV0cyIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiX3N0ZXAiLCJzIiwibiIsImRvbmUiLCJlcnIiLCJlIiwiZiIsInBob25lRmllbGRzIiwiZmllbGQiLCJudW1iZXJzIiwibnVtYmVyIiwic2V0dXBDb3VudGVyIiwic3ViIiwiaW5wdXRNaW4iLCJnZXRBdHRyaWJ1dGUiLCJpbnB1dE1heCIsImNvdW50ZXIiLCJzZXRDb3VudGVyIiwiY291bnQiLCJwYW5lbFRyaWdnZXJzIiwicGFuZWxDbG9zZUJ1dHRvbnMiLCJwYW5lbERhcmtlciIsInRyaWdnZXIiLCJwYWdlU3RhdGUiLCJib2R5IiwidHJpZ2dlclRhcmdldCIsImNvbmNhdCIsImRhdGFzZXQiLCJzdGF0ZSIsImRvY3VtZW50RWxlbWVudCIsImJ1dHRvbiIsInBheW1lbnQiLCJzdW1GaWVsZCIsInRvdGFsRmllbGQiLCJtZXRob2RzIiwicG9wdWxhclN1bXMiLCJwZXJjZW50QW1vdW50IiwibWFza09wdGlvbnMiLCJzY2FsZSIsInBhZEZyYWN0aW9uYWxaZXJvcyIsInN1bU1hc2siLCJ0b3RhbE1hc2siLCJzZXRQZXJjZW50QW1vdW50IiwidG90YWxDYWxjIiwibWV0aG9kIiwiX2l0ZXJhdG9yMiIsIl9zdGVwMiIsIl9sb29wIiwicG9wdWxhclN1bSIsInBvcHVsYXJTdW1BbW91bnQiLCJhbW91bnQiLCJyZXNldFBvcHVsYXJCdXR0b25zIiwicGF5bWVudEZvcm1DaGVjayIsInN1bUNhbGMiLCJzdW0iLCJ0b3RhbCIsInBlcmNlbnQiLCJ0b3RhbEZpZWxkVmFsdWUiLCJyZXBsYWNlIiwidG9GaXhlZCIsInN1bUZpZWxkVmFsdWUiLCJfaXRlcmF0b3IzIiwiX3N0ZXAzIiwiYnV0dG9ucyIsIl9pdGVyYXRvcjQiLCJfc3RlcDQiLCJmaWVsZFZhbHVlIiwic3VibWl0QnV0dG9uIiwicHJvZmlsZUZvcm0iLCJwcm9maWxlRm9ybUNoZWNrIiwiZm9ybU5ld1Bhc3N3b3JkVmFsdWUiLCJhdXRvc2l6ZSIsInRleHRhcmVhcyIsInRleHRhcmVhIiwiU2ltcGxlQmFyIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjYWxsIiwiZWwiLCJhdXRvSGlkZSIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwiX3R5cGVvZiIsIm1vZHVsZSIsIndpbmRvdyIsIkZvcm1hdE9wdGlvbnMiLCJzdHJSZXZlcnNlIiwiYSIsInNwbGl0IiwicmV2ZXJzZSIsImpvaW4iLCJzdHJTdGFydHNXaXRoIiwibWF0Y2giLCJzdWJzdHJpbmciLCJzdHJFbmRzV2l0aCIsInNsaWNlIiwidGhyb3dFcXVhbEVycm9yIiwiRiIsImIiLCJFcnJvciIsImlzVmFsaWROdW1iZXIiLCJpc0Zpbml0ZSIsImV4cCIsInRvU3RyaW5nIiwiTWF0aCIsInJvdW5kIiwiZm9ybWF0VG8iLCJtYXJrIiwicHJlZml4Iiwic3VmZml4IiwiZW5jb2RlciIsImRlY29kZXIiLCJuZWdhdGl2ZUJlZm9yZSIsIm5lZ2F0aXZlIiwiZWRpdCIsInVuZG8iLCJvcmlnaW5hbElucHV0IiwiaW5wdXRJc05lZ2F0aXZlIiwiaW5wdXRQaWVjZXMiLCJpbnB1dEJhc2UiLCJpbnB1dERlY2ltYWxzIiwib3V0cHV0IiwicGFyc2VGbG9hdCIsImFicyIsImluZGV4T2YiLCJmb3JtYXRGcm9tIiwidmFsaWRhdGUiLCJpbnB1dE9wdGlvbnMiLCJpIiwib3B0aW9uTmFtZSIsIm9wdGlvblZhbHVlIiwiZmlsdGVyZWRPcHRpb25zIiwidW5kZWZpbmVkIiwicGFzc0FsbCIsIm9wdGlvbnMiLCJhcmdzIiwicHVzaCIsImFwcGx5IiwidG8iLCJmcm9tIiwiZm4iLCJhdHRhY2hFdmVudCIsInJlYWR5U3RhdGUiLCJyZXF1aXJlIl0sInNvdXJjZVJvb3QiOiIifQ=="],"mappings":"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"}